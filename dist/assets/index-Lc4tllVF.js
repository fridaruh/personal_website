function gS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function yS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gy={exports:{}},Sl={},yy={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gs=Symbol.for("react.element"),wS=Symbol.for("react.portal"),_S=Symbol.for("react.fragment"),ES=Symbol.for("react.strict_mode"),SS=Symbol.for("react.profiler"),xS=Symbol.for("react.provider"),bS=Symbol.for("react.context"),TS=Symbol.for("react.forward_ref"),kS=Symbol.for("react.suspense"),IS=Symbol.for("react.memo"),NS=Symbol.for("react.lazy"),pm=Symbol.iterator;function CS(e){return e===null||typeof e!="object"?null:(e=pm&&e[pm]||e["@@iterator"],typeof e=="function"?e:null)}var wy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_y=Object.assign,Ey={};function wo(e,t,n){this.props=e,this.context=t,this.refs=Ey,this.updater=n||wy}wo.prototype.isReactComponent={};wo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sy(){}Sy.prototype=wo.prototype;function Jh(e,t,n){this.props=e,this.context=t,this.refs=Ey,this.updater=n||wy}var Zh=Jh.prototype=new Sy;Zh.constructor=Jh;_y(Zh,wo.prototype);Zh.isPureReactComponent=!0;var mm=Array.isArray,xy=Object.prototype.hasOwnProperty,ed={current:null},by={key:!0,ref:!0,__self:!0,__source:!0};function Ty(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)xy.call(t,r)&&!by.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gs,type:e,key:o,ref:s,props:i,_owner:ed.current}}function RS(e,t){return{$$typeof:Gs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function td(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gs}function PS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vm=/\/+/g;function Ic(e,t){return typeof e=="object"&&e!==null&&e.key!=null?PS(""+e.key):t.toString(36)}function Za(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Gs:case wS:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Ic(s,0):r,mm(i)?(n="",e!=null&&(n=e.replace(vm,"$&/")+"/"),Za(i,t,n,"",function(l){return l})):i!=null&&(td(i)&&(i=RS(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(vm,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",mm(e))for(var a=0;a<e.length;a++){o=e[a];var u=r+Ic(o,a);s+=Za(o,t,n,u,i)}else if(u=CS(e),typeof u=="function")for(e=u.call(e),a=0;!(o=e.next()).done;)o=o.value,u=r+Ic(o,a++),s+=Za(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Sa(e,t,n){if(e==null)return e;var r=[],i=0;return Za(e,r,"","",function(o){return t.call(n,o,i++)}),r}function AS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ct={current:null},eu={transition:null},DS={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:eu,ReactCurrentOwner:ed};function ky(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Sa,forEach:function(e,t,n){Sa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Sa(e,function(){t++}),t},toArray:function(e){return Sa(e,function(t){return t})||[]},only:function(e){if(!td(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=wo;G.Fragment=_S;G.Profiler=SS;G.PureComponent=Jh;G.StrictMode=ES;G.Suspense=kS;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DS;G.act=ky;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_y({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=ed.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)xy.call(t,u)&&!by.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Gs,type:e.type,key:i,ref:o,props:r,_owner:s}};G.createContext=function(e){return e={$$typeof:bS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xS,_context:e},e.Consumer=e};G.createElement=Ty;G.createFactory=function(e){var t=Ty.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:TS,render:e}};G.isValidElement=td;G.lazy=function(e){return{$$typeof:NS,_payload:{_status:-1,_result:e},_init:AS}};G.memo=function(e,t){return{$$typeof:IS,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=eu.transition;eu.transition={};try{e()}finally{eu.transition=t}};G.unstable_act=ky;G.useCallback=function(e,t){return ct.current.useCallback(e,t)};G.useContext=function(e){return ct.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return ct.current.useDeferredValue(e)};G.useEffect=function(e,t){return ct.current.useEffect(e,t)};G.useId=function(){return ct.current.useId()};G.useImperativeHandle=function(e,t,n){return ct.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return ct.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return ct.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return ct.current.useMemo(e,t)};G.useReducer=function(e,t,n){return ct.current.useReducer(e,t,n)};G.useRef=function(e){return ct.current.useRef(e)};G.useState=function(e){return ct.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return ct.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return ct.current.useTransition()};G.version="18.3.1";yy.exports=G;var I=yy.exports;const Hi=yS(I),OS=gS({__proto__:null,default:Hi},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LS=I,jS=Symbol.for("react.element"),MS=Symbol.for("react.fragment"),FS=Object.prototype.hasOwnProperty,$S=LS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,US={key:!0,ref:!0,__self:!0,__source:!0};function Iy(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)FS.call(t,r)&&!US.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:jS,type:e,key:o,ref:s,props:i,_owner:$S.current}}Sl.Fragment=MS;Sl.jsx=Iy;Sl.jsxs=Iy;gy.exports=Sl;var w=gy.exports,Ny={exports:{}},Lt={},Cy={exports:{}},Ry={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,z){var K=j.length;j.push(z);e:for(;0<K;){var ge=K-1>>>1,Re=j[ge];if(0<i(Re,z))j[ge]=z,j[K]=Re,K=ge;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var z=j[0],K=j.pop();if(K!==z){j[0]=K;e:for(var ge=0,Re=j.length,_a=Re>>>1;ge<_a;){var Tr=2*(ge+1)-1,kc=j[Tr],kr=Tr+1,Ea=j[kr];if(0>i(kc,K))kr<Re&&0>i(Ea,kc)?(j[ge]=Ea,j[kr]=K,ge=kr):(j[ge]=kc,j[Tr]=K,ge=Tr);else if(kr<Re&&0>i(Ea,K))j[ge]=Ea,j[kr]=K,ge=kr;else break e}}return z}function i(j,z){var K=j.sortIndex-z.sortIndex;return K!==0?K:j.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var u=[],l=[],c=1,f=null,h=3,d=!1,m=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(j){for(var z=n(l);z!==null;){if(z.callback===null)r(l);else if(z.startTime<=j)r(l),z.sortIndex=z.expirationTime,t(u,z);else break;z=n(l)}}function E(j){if(y=!1,g(j),!m)if(n(u)!==null)m=!0,bc(T);else{var z=n(l);z!==null&&Tc(E,z.startTime-j)}}function T(j,z){m=!1,y&&(y=!1,v(M),M=-1),d=!0;var K=h;try{for(g(z),f=n(u);f!==null&&(!(f.expirationTime>z)||j&&!ht());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,h=f.priorityLevel;var Re=ge(f.expirationTime<=z);z=e.unstable_now(),typeof Re=="function"?f.callback=Re:f===n(u)&&r(u),g(z)}else r(u);f=n(u)}if(f!==null)var _a=!0;else{var Tr=n(l);Tr!==null&&Tc(E,Tr.startTime-z),_a=!1}return _a}finally{f=null,h=K,d=!1}}var N=!1,A=null,M=-1,q=5,H=-1;function ht(){return!(e.unstable_now()-H<q)}function Ao(){if(A!==null){var j=e.unstable_now();H=j;var z=!0;try{z=A(!0,j)}finally{z?Do():(N=!1,A=null)}}else N=!1}var Do;if(typeof p=="function")Do=function(){p(Ao)};else if(typeof MessageChannel<"u"){var dm=new MessageChannel,vS=dm.port2;dm.port1.onmessage=Ao,Do=function(){vS.postMessage(null)}}else Do=function(){_(Ao,0)};function bc(j){A=j,N||(N=!0,Do())}function Tc(j,z){M=_(function(){j(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){m||d||(m=!0,bc(T))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var K=h;h=z;try{return j()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=h;h=j;try{return z()}finally{h=K}},e.unstable_scheduleCallback=function(j,z,K){var ge=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ge+K:ge):K=ge,j){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=K+Re,j={id:c++,callback:z,priorityLevel:j,startTime:K,expirationTime:Re,sortIndex:-1},K>ge?(j.sortIndex=K,t(l,j),n(u)===null&&j===n(l)&&(y?(v(M),M=-1):y=!0,Tc(E,K-ge))):(j.sortIndex=Re,t(u,j),m||d||(m=!0,bc(T))),j},e.unstable_shouldYield=ht,e.unstable_wrapCallback=function(j){var z=h;return function(){var K=h;h=z;try{return j.apply(this,arguments)}finally{h=K}}}})(Ry);Cy.exports=Ry;var VS=Cy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BS=I,Dt=VS;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Py=new Set,fs={};function ri(e,t){Ki(e,t),Ki(e+"Capture",t)}function Ki(e,t){for(fs[e]=t,e=0;e<t.length;e++)Py.add(t[e])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wf=Object.prototype.hasOwnProperty,zS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gm={},ym={};function qS(e){return wf.call(ym,e)?!0:wf.call(gm,e)?!1:zS.test(e)?ym[e]=!0:(gm[e]=!0,!1)}function HS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function KS(e,t,n,r){if(t===null||typeof t>"u"||HS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Be[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Be[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Be[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Be[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Be[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Be[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Be[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Be[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Be[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var nd=/[\-:]([a-z])/g;function rd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nd,rd);Be[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nd,rd);Be[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nd,rd);Be[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Be[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});Be.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Be[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function id(e,t,n,r){var i=Be.hasOwnProperty(t)?Be[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(KS(t,n,i,r)&&(n=null),r||i===null?qS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var On=BS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xa=Symbol.for("react.element"),xi=Symbol.for("react.portal"),bi=Symbol.for("react.fragment"),od=Symbol.for("react.strict_mode"),_f=Symbol.for("react.profiler"),Ay=Symbol.for("react.provider"),Dy=Symbol.for("react.context"),sd=Symbol.for("react.forward_ref"),Ef=Symbol.for("react.suspense"),Sf=Symbol.for("react.suspense_list"),ad=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),Oy=Symbol.for("react.offscreen"),wm=Symbol.iterator;function Oo(e){return e===null||typeof e!="object"?null:(e=wm&&e[wm]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,Nc;function qo(e){if(Nc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nc=t&&t[1]||""}return`
`+Nc+e}var Cc=!1;function Rc(e,t){if(!e||Cc)return"";Cc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=a);break}}}finally{Cc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qo(e):""}function WS(e){switch(e.tag){case 5:return qo(e.type);case 16:return qo("Lazy");case 13:return qo("Suspense");case 19:return qo("SuspenseList");case 0:case 2:case 15:return e=Rc(e.type,!1),e;case 11:return e=Rc(e.type.render,!1),e;case 1:return e=Rc(e.type,!0),e;default:return""}}function xf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bi:return"Fragment";case xi:return"Portal";case _f:return"Profiler";case od:return"StrictMode";case Ef:return"Suspense";case Sf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dy:return(e.displayName||"Context")+".Consumer";case Ay:return(e._context.displayName||"Context")+".Provider";case sd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ad:return t=e.displayName||null,t!==null?t:xf(e.type)||"Memo";case Vn:t=e._payload,e=e._init;try{return xf(e(t))}catch{}}return null}function GS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xf(t);case 8:return t===od?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ly(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function QS(e){var t=Ly(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ba(e){e._valueTracker||(e._valueTracker=QS(e))}function jy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ly(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Eu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bf(e,t){var n=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _m(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function My(e,t){t=t.checked,t!=null&&id(e,"checked",t,!1)}function Tf(e,t){My(e,t);var n=fr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kf(e,t.type,n):t.hasOwnProperty("defaultValue")&&kf(e,t.type,fr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Em(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function kf(e,t,n){(t!=="number"||Eu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ho=Array.isArray;function Mi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function If(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(Ho(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fr(n)}}function Fy(e,t){var n=fr(t.value),r=fr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $y(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$y(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ta,Uy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ta=Ta||document.createElement("div"),Ta.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ta.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XS=["Webkit","ms","Moz","O"];Object.keys(Xo).forEach(function(e){XS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xo[t]=Xo[e]})});function Vy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xo.hasOwnProperty(e)&&Xo[e]?(""+t).trim():t+"px"}function By(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Vy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var YS=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cf(e,t){if(t){if(YS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Rf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pf=null;function ud(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Af=null,Fi=null,$i=null;function bm(e){if(e=Ys(e)){if(typeof Af!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Il(t),Af(e.stateNode,e.type,t))}}function zy(e){Fi?$i?$i.push(e):$i=[e]:Fi=e}function qy(){if(Fi){var e=Fi,t=$i;if($i=Fi=null,bm(e),t)for(e=0;e<t.length;e++)bm(t[e])}}function Hy(e,t){return e(t)}function Ky(){}var Pc=!1;function Wy(e,t,n){if(Pc)return e(t,n);Pc=!0;try{return Hy(e,t,n)}finally{Pc=!1,(Fi!==null||$i!==null)&&(Ky(),qy())}}function ds(e,t){var n=e.stateNode;if(n===null)return null;var r=Il(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var Df=!1;if(Nn)try{var Lo={};Object.defineProperty(Lo,"passive",{get:function(){Df=!0}}),window.addEventListener("test",Lo,Lo),window.removeEventListener("test",Lo,Lo)}catch{Df=!1}function JS(e,t,n,r,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Yo=!1,Su=null,xu=!1,Of=null,ZS={onError:function(e){Yo=!0,Su=e}};function ex(e,t,n,r,i,o,s,a,u){Yo=!1,Su=null,JS.apply(ZS,arguments)}function tx(e,t,n,r,i,o,s,a,u){if(ex.apply(this,arguments),Yo){if(Yo){var l=Su;Yo=!1,Su=null}else throw Error(R(198));xu||(xu=!0,Of=l)}}function ii(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Gy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tm(e){if(ii(e)!==e)throw Error(R(188))}function nx(e){var t=e.alternate;if(!t){if(t=ii(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Tm(i),e;if(o===r)return Tm(i),t;o=o.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function Qy(e){return e=nx(e),e!==null?Xy(e):null}function Xy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xy(e);if(t!==null)return t;e=e.sibling}return null}var Yy=Dt.unstable_scheduleCallback,km=Dt.unstable_cancelCallback,rx=Dt.unstable_shouldYield,ix=Dt.unstable_requestPaint,ye=Dt.unstable_now,ox=Dt.unstable_getCurrentPriorityLevel,ld=Dt.unstable_ImmediatePriority,Jy=Dt.unstable_UserBlockingPriority,bu=Dt.unstable_NormalPriority,sx=Dt.unstable_LowPriority,Zy=Dt.unstable_IdlePriority,xl=null,fn=null;function ax(e){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(xl,e,void 0,(e.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:cx,ux=Math.log,lx=Math.LN2;function cx(e){return e>>>=0,e===0?32:31-(ux(e)/lx|0)|0}var ka=64,Ia=4194304;function Ko(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ko(a):(o&=s,o!==0&&(r=Ko(o)))}else s=n&~i,s!==0?r=Ko(s):o!==0&&(r=Ko(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Yt(t),i=1<<n,r|=e[n],t&=~i;return r}function fx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Yt(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=fx(a,t)):u<=t&&(e.expiredLanes|=a),o&=~a}}function Lf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function e0(){var e=ka;return ka<<=1,!(ka&4194240)&&(ka=64),e}function Ac(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Yt(t),e[t]=n}function dx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Yt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function cd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Yt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var te=0;function t0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var n0,fd,r0,i0,o0,jf=!1,Na=[],er=null,tr=null,nr=null,ps=new Map,ms=new Map,qn=[],px="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Im(e,t){switch(e){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":ps.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(t.pointerId)}}function jo(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ys(t),t!==null&&fd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function mx(e,t,n,r,i){switch(t){case"focusin":return er=jo(er,e,t,n,r,i),!0;case"dragenter":return tr=jo(tr,e,t,n,r,i),!0;case"mouseover":return nr=jo(nr,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ps.set(o,jo(ps.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ms.set(o,jo(ms.get(o)||null,e,t,n,r,i)),!0}return!1}function s0(e){var t=Ar(e.target);if(t!==null){var n=ii(t);if(n!==null){if(t=n.tag,t===13){if(t=Gy(n),t!==null){e.blockedOn=t,o0(e.priority,function(){r0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Mf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Pf=r,n.target.dispatchEvent(r),Pf=null}else return t=Ys(n),t!==null&&fd(t),e.blockedOn=n,!1;t.shift()}return!0}function Nm(e,t,n){tu(e)&&n.delete(t)}function vx(){jf=!1,er!==null&&tu(er)&&(er=null),tr!==null&&tu(tr)&&(tr=null),nr!==null&&tu(nr)&&(nr=null),ps.forEach(Nm),ms.forEach(Nm)}function Mo(e,t){e.blockedOn===t&&(e.blockedOn=null,jf||(jf=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,vx)))}function vs(e){function t(i){return Mo(i,e)}if(0<Na.length){Mo(Na[0],e);for(var n=1;n<Na.length;n++){var r=Na[n];r.blockedOn===e&&(r.blockedOn=null)}}for(er!==null&&Mo(er,e),tr!==null&&Mo(tr,e),nr!==null&&Mo(nr,e),ps.forEach(t),ms.forEach(t),n=0;n<qn.length;n++)r=qn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<qn.length&&(n=qn[0],n.blockedOn===null);)s0(n),n.blockedOn===null&&qn.shift()}var Ui=On.ReactCurrentBatchConfig,ku=!0;function gx(e,t,n,r){var i=te,o=Ui.transition;Ui.transition=null;try{te=1,hd(e,t,n,r)}finally{te=i,Ui.transition=o}}function yx(e,t,n,r){var i=te,o=Ui.transition;Ui.transition=null;try{te=4,hd(e,t,n,r)}finally{te=i,Ui.transition=o}}function hd(e,t,n,r){if(ku){var i=Mf(e,t,n,r);if(i===null)Bc(e,t,r,Iu,n),Im(e,r);else if(mx(i,e,t,n,r))r.stopPropagation();else if(Im(e,r),t&4&&-1<px.indexOf(e)){for(;i!==null;){var o=Ys(i);if(o!==null&&n0(o),o=Mf(e,t,n,r),o===null&&Bc(e,t,r,Iu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Bc(e,t,r,null,n)}}var Iu=null;function Mf(e,t,n,r){if(Iu=null,e=ud(r),e=Ar(e),e!==null)if(t=ii(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Gy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Iu=e,null}function a0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ox()){case ld:return 1;case Jy:return 4;case bu:case sx:return 16;case Zy:return 536870912;default:return 16}default:return 16}}var Yn=null,dd=null,nu=null;function u0(){if(nu)return nu;var e,t=dd,n=t.length,r,i="value"in Yn?Yn.value:Yn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return nu=i.slice(e,1<r?1-r:void 0)}function ru(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ca(){return!0}function Cm(){return!1}function jt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ca:Cm,this.isPropagationStopped=Cm,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),t}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pd=jt(_o),Xs=pe({},_o,{view:0,detail:0}),wx=jt(Xs),Dc,Oc,Fo,bl=pe({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:md,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fo&&(Fo&&e.type==="mousemove"?(Dc=e.screenX-Fo.screenX,Oc=e.screenY-Fo.screenY):Oc=Dc=0,Fo=e),Dc)},movementY:function(e){return"movementY"in e?e.movementY:Oc}}),Rm=jt(bl),_x=pe({},bl,{dataTransfer:0}),Ex=jt(_x),Sx=pe({},Xs,{relatedTarget:0}),Lc=jt(Sx),xx=pe({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),bx=jt(xx),Tx=pe({},_o,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kx=jt(Tx),Ix=pe({},_o,{data:0}),Pm=jt(Ix),Nx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Px(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rx[e])?!!t[e]:!1}function md(){return Px}var Ax=pe({},Xs,{key:function(e){if(e.key){var t=Nx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ru(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:md,charCode:function(e){return e.type==="keypress"?ru(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ru(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dx=jt(Ax),Ox=pe({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Am=jt(Ox),Lx=pe({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:md}),jx=jt(Lx),Mx=pe({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fx=jt(Mx),$x=pe({},bl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ux=jt($x),Vx=[9,13,27,32],vd=Nn&&"CompositionEvent"in window,Jo=null;Nn&&"documentMode"in document&&(Jo=document.documentMode);var Bx=Nn&&"TextEvent"in window&&!Jo,l0=Nn&&(!vd||Jo&&8<Jo&&11>=Jo),Dm=" ",Om=!1;function c0(e,t){switch(e){case"keyup":return Vx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ti=!1;function zx(e,t){switch(e){case"compositionend":return f0(t);case"keypress":return t.which!==32?null:(Om=!0,Dm);case"textInput":return e=t.data,e===Dm&&Om?null:e;default:return null}}function qx(e,t){if(Ti)return e==="compositionend"||!vd&&c0(e,t)?(e=u0(),nu=dd=Yn=null,Ti=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return l0&&t.locale!=="ko"?null:t.data;default:return null}}var Hx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hx[e.type]:t==="textarea"}function h0(e,t,n,r){zy(r),t=Nu(t,"onChange"),0<t.length&&(n=new pd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zo=null,gs=null;function Kx(e){x0(e,0)}function Tl(e){var t=Ni(e);if(jy(t))return e}function Wx(e,t){if(e==="change")return t}var d0=!1;if(Nn){var jc;if(Nn){var Mc="oninput"in document;if(!Mc){var jm=document.createElement("div");jm.setAttribute("oninput","return;"),Mc=typeof jm.oninput=="function"}jc=Mc}else jc=!1;d0=jc&&(!document.documentMode||9<document.documentMode)}function Mm(){Zo&&(Zo.detachEvent("onpropertychange",p0),gs=Zo=null)}function p0(e){if(e.propertyName==="value"&&Tl(gs)){var t=[];h0(t,gs,e,ud(e)),Wy(Kx,t)}}function Gx(e,t,n){e==="focusin"?(Mm(),Zo=t,gs=n,Zo.attachEvent("onpropertychange",p0)):e==="focusout"&&Mm()}function Qx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tl(gs)}function Xx(e,t){if(e==="click")return Tl(t)}function Yx(e,t){if(e==="input"||e==="change")return Tl(t)}function Jx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nn=typeof Object.is=="function"?Object.is:Jx;function ys(e,t){if(nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wf.call(t,i)||!nn(e[i],t[i]))return!1}return!0}function Fm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $m(e,t){var n=Fm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fm(n)}}function m0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?m0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function v0(){for(var e=window,t=Eu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Eu(e.document)}return t}function gd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zx(e){var t=v0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&m0(n.ownerDocument.documentElement,n)){if(r!==null&&gd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=$m(n,o);var s=$m(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eb=Nn&&"documentMode"in document&&11>=document.documentMode,ki=null,Ff=null,es=null,$f=!1;function Um(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$f||ki==null||ki!==Eu(r)||(r=ki,"selectionStart"in r&&gd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),es&&ys(es,r)||(es=r,r=Nu(Ff,"onSelect"),0<r.length&&(t=new pd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ki)))}function Ra(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ii={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionend:Ra("Transition","TransitionEnd")},Fc={},g0={};Nn&&(g0=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function kl(e){if(Fc[e])return Fc[e];if(!Ii[e])return e;var t=Ii[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in g0)return Fc[e]=t[n];return e}var y0=kl("animationend"),w0=kl("animationiteration"),_0=kl("animationstart"),E0=kl("transitionend"),S0=new Map,Vm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(e,t){S0.set(e,t),ri(t,[e])}for(var $c=0;$c<Vm.length;$c++){var Uc=Vm[$c],tb=Uc.toLowerCase(),nb=Uc[0].toUpperCase()+Uc.slice(1);mr(tb,"on"+nb)}mr(y0,"onAnimationEnd");mr(w0,"onAnimationIteration");mr(_0,"onAnimationStart");mr("dblclick","onDoubleClick");mr("focusin","onFocus");mr("focusout","onBlur");mr(E0,"onTransitionEnd");Ki("onMouseEnter",["mouseout","mouseover"]);Ki("onMouseLeave",["mouseout","mouseover"]);Ki("onPointerEnter",["pointerout","pointerover"]);Ki("onPointerLeave",["pointerout","pointerover"]);ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wo));function Bm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,tx(r,t,void 0,e),e.currentTarget=null}function x0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;Bm(i,a,l),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,l=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;Bm(i,a,l),o=u}}}if(xu)throw e=Of,xu=!1,Of=null,e}function oe(e,t){var n=t[qf];n===void 0&&(n=t[qf]=new Set);var r=e+"__bubble";n.has(r)||(b0(t,e,2,!1),n.add(r))}function Vc(e,t,n){var r=0;t&&(r|=4),b0(n,e,r,t)}var Pa="_reactListening"+Math.random().toString(36).slice(2);function ws(e){if(!e[Pa]){e[Pa]=!0,Py.forEach(function(n){n!=="selectionchange"&&(rb.has(n)||Vc(n,!1,e),Vc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pa]||(t[Pa]=!0,Vc("selectionchange",!1,t))}}function b0(e,t,n,r){switch(a0(t)){case 1:var i=gx;break;case 4:i=yx;break;default:i=hd}n=i.bind(null,t,n,e),i=void 0,!Df||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Bc(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ar(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Wy(function(){var l=o,c=ud(n),f=[];e:{var h=S0.get(e);if(h!==void 0){var d=pd,m=e;switch(e){case"keypress":if(ru(n)===0)break e;case"keydown":case"keyup":d=Dx;break;case"focusin":m="focus",d=Lc;break;case"focusout":m="blur",d=Lc;break;case"beforeblur":case"afterblur":d=Lc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Rm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Ex;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=jx;break;case y0:case w0:case _0:d=bx;break;case E0:d=Fx;break;case"scroll":d=wx;break;case"wheel":d=Ux;break;case"copy":case"cut":case"paste":d=kx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Am}var y=(t&4)!==0,_=!y&&e==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var p=l,g;p!==null;){g=p;var E=g.stateNode;if(g.tag===5&&E!==null&&(g=E,v!==null&&(E=ds(p,v),E!=null&&y.push(_s(p,E,g)))),_)break;p=p.return}0<y.length&&(h=new d(h,m,null,n,c),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",h&&n!==Pf&&(m=n.relatedTarget||n.fromElement)&&(Ar(m)||m[Cn]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(m=n.relatedTarget||n.toElement,d=l,m=m?Ar(m):null,m!==null&&(_=ii(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=l),d!==m)){if(y=Rm,E="onMouseLeave",v="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=Am,E="onPointerLeave",v="onPointerEnter",p="pointer"),_=d==null?h:Ni(d),g=m==null?h:Ni(m),h=new y(E,p+"leave",d,n,c),h.target=_,h.relatedTarget=g,E=null,Ar(c)===l&&(y=new y(v,p+"enter",m,n,c),y.target=g,y.relatedTarget=_,E=y),_=E,d&&m)t:{for(y=d,v=m,p=0,g=y;g;g=vi(g))p++;for(g=0,E=v;E;E=vi(E))g++;for(;0<p-g;)y=vi(y),p--;for(;0<g-p;)v=vi(v),g--;for(;p--;){if(y===v||v!==null&&y===v.alternate)break t;y=vi(y),v=vi(v)}y=null}else y=null;d!==null&&zm(f,h,d,y,!1),m!==null&&_!==null&&zm(f,_,m,y,!0)}}e:{if(h=l?Ni(l):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var T=Wx;else if(Lm(h))if(d0)T=Yx;else{T=Qx;var N=Gx}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=Xx);if(T&&(T=T(e,l))){h0(f,T,n,c);break e}N&&N(e,h,l),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&kf(h,"number",h.value)}switch(N=l?Ni(l):window,e){case"focusin":(Lm(N)||N.contentEditable==="true")&&(ki=N,Ff=l,es=null);break;case"focusout":es=Ff=ki=null;break;case"mousedown":$f=!0;break;case"contextmenu":case"mouseup":case"dragend":$f=!1,Um(f,n,c);break;case"selectionchange":if(eb)break;case"keydown":case"keyup":Um(f,n,c)}var A;if(vd)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Ti?c0(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(l0&&n.locale!=="ko"&&(Ti||M!=="onCompositionStart"?M==="onCompositionEnd"&&Ti&&(A=u0()):(Yn=c,dd="value"in Yn?Yn.value:Yn.textContent,Ti=!0)),N=Nu(l,M),0<N.length&&(M=new Pm(M,e,null,n,c),f.push({event:M,listeners:N}),A?M.data=A:(A=f0(n),A!==null&&(M.data=A)))),(A=Bx?zx(e,n):qx(e,n))&&(l=Nu(l,"onBeforeInput"),0<l.length&&(c=new Pm("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=A))}x0(f,t)})}function _s(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ds(e,n),o!=null&&r.unshift(_s(e,o,i)),o=ds(e,t),o!=null&&r.push(_s(e,o,i))),e=e.return}return r}function vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zm(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=ds(n,o),u!=null&&s.unshift(_s(n,u,a))):i||(u=ds(n,o),u!=null&&s.push(_s(n,u,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var ib=/\r\n?/g,ob=/\u0000|\uFFFD/g;function qm(e){return(typeof e=="string"?e:""+e).replace(ib,`
`).replace(ob,"")}function Aa(e,t,n){if(t=qm(t),qm(e)!==t&&n)throw Error(R(425))}function Cu(){}var Uf=null,Vf=null;function Bf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zf=typeof setTimeout=="function"?setTimeout:void 0,sb=typeof clearTimeout=="function"?clearTimeout:void 0,Hm=typeof Promise=="function"?Promise:void 0,ab=typeof queueMicrotask=="function"?queueMicrotask:typeof Hm<"u"?function(e){return Hm.resolve(null).then(e).catch(ub)}:zf;function ub(e){setTimeout(function(){throw e})}function zc(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),vs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vs(t)}function rr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Km(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),ln="__reactFiber$"+Eo,Es="__reactProps$"+Eo,Cn="__reactContainer$"+Eo,qf="__reactEvents$"+Eo,lb="__reactListeners$"+Eo,cb="__reactHandles$"+Eo;function Ar(e){var t=e[ln];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cn]||n[ln]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Km(e);e!==null;){if(n=e[ln])return n;e=Km(e)}return t}e=n,n=e.parentNode}return null}function Ys(e){return e=e[ln]||e[Cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ni(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Il(e){return e[Es]||null}var Hf=[],Ci=-1;function vr(e){return{current:e}}function ae(e){0>Ci||(e.current=Hf[Ci],Hf[Ci]=null,Ci--)}function re(e,t){Ci++,Hf[Ci]=e.current,e.current=t}var hr={},Je=vr(hr),vt=vr(!1),Hr=hr;function Wi(e,t){var n=e.type.contextTypes;if(!n)return hr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function gt(e){return e=e.childContextTypes,e!=null}function Ru(){ae(vt),ae(Je)}function Wm(e,t,n){if(Je.current!==hr)throw Error(R(168));re(Je,t),re(vt,n)}function T0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(R(108,GS(e)||"Unknown",i));return pe({},n,r)}function Pu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hr,Hr=Je.current,re(Je,e),re(vt,vt.current),!0}function Gm(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=T0(e,t,Hr),r.__reactInternalMemoizedMergedChildContext=e,ae(vt),ae(Je),re(Je,e)):ae(vt),re(vt,n)}var wn=null,Nl=!1,qc=!1;function k0(e){wn===null?wn=[e]:wn.push(e)}function fb(e){Nl=!0,k0(e)}function gr(){if(!qc&&wn!==null){qc=!0;var e=0,t=te;try{var n=wn;for(te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wn=null,Nl=!1}catch(i){throw wn!==null&&(wn=wn.slice(e+1)),Yy(ld,gr),i}finally{te=t,qc=!1}}return null}var Ri=[],Pi=0,Au=null,Du=0,Ft=[],$t=0,Kr=null,_n=1,En="";function Nr(e,t){Ri[Pi++]=Du,Ri[Pi++]=Au,Au=e,Du=t}function I0(e,t,n){Ft[$t++]=_n,Ft[$t++]=En,Ft[$t++]=Kr,Kr=e;var r=_n;e=En;var i=32-Yt(r)-1;r&=~(1<<i),n+=1;var o=32-Yt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,_n=1<<32-Yt(t)+i|n<<i|r,En=o+e}else _n=1<<o|n<<i|r,En=e}function yd(e){e.return!==null&&(Nr(e,1),I0(e,1,0))}function wd(e){for(;e===Au;)Au=Ri[--Pi],Ri[Pi]=null,Du=Ri[--Pi],Ri[Pi]=null;for(;e===Kr;)Kr=Ft[--$t],Ft[$t]=null,En=Ft[--$t],Ft[$t]=null,_n=Ft[--$t],Ft[$t]=null}var Pt=null,It=null,le=!1,Xt=null;function N0(e,t){var n=Ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pt=e,It=rr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pt=e,It=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Kr!==null?{id:_n,overflow:En}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pt=e,It=null,!0):!1;default:return!1}}function Kf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wf(e){if(le){var t=It;if(t){var n=t;if(!Qm(e,t)){if(Kf(e))throw Error(R(418));t=rr(n.nextSibling);var r=Pt;t&&Qm(e,t)?N0(r,n):(e.flags=e.flags&-4097|2,le=!1,Pt=e)}}else{if(Kf(e))throw Error(R(418));e.flags=e.flags&-4097|2,le=!1,Pt=e}}}function Xm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function Da(e){if(e!==Pt)return!1;if(!le)return Xm(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bf(e.type,e.memoizedProps)),t&&(t=It)){if(Kf(e))throw C0(),Error(R(418));for(;t;)N0(e,t),t=rr(t.nextSibling)}if(Xm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){It=rr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}It=null}}else It=Pt?rr(e.stateNode.nextSibling):null;return!0}function C0(){for(var e=It;e;)e=rr(e.nextSibling)}function Gi(){It=Pt=null,le=!1}function _d(e){Xt===null?Xt=[e]:Xt.push(e)}var hb=On.ReactCurrentBatchConfig;function $o(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function Oa(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ym(e){var t=e._init;return t(e._payload)}function R0(e){function t(v,p){if(e){var g=v.deletions;g===null?(v.deletions=[p],v.flags|=16):g.push(p)}}function n(v,p){if(!e)return null;for(;p!==null;)t(v,p),p=p.sibling;return null}function r(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function i(v,p){return v=ar(v,p),v.index=0,v.sibling=null,v}function o(v,p,g){return v.index=g,e?(g=v.alternate,g!==null?(g=g.index,g<p?(v.flags|=2,p):g):(v.flags|=2,p)):(v.flags|=1048576,p)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,p,g,E){return p===null||p.tag!==6?(p=Yc(g,v.mode,E),p.return=v,p):(p=i(p,g),p.return=v,p)}function u(v,p,g,E){var T=g.type;return T===bi?c(v,p,g.props.children,E,g.key):p!==null&&(p.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Vn&&Ym(T)===p.type)?(E=i(p,g.props),E.ref=$o(v,p,g),E.return=v,E):(E=cu(g.type,g.key,g.props,null,v.mode,E),E.ref=$o(v,p,g),E.return=v,E)}function l(v,p,g,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Jc(g,v.mode,E),p.return=v,p):(p=i(p,g.children||[]),p.return=v,p)}function c(v,p,g,E,T){return p===null||p.tag!==7?(p=Ur(g,v.mode,E,T),p.return=v,p):(p=i(p,g),p.return=v,p)}function f(v,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Yc(""+p,v.mode,g),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case xa:return g=cu(p.type,p.key,p.props,null,v.mode,g),g.ref=$o(v,null,p),g.return=v,g;case xi:return p=Jc(p,v.mode,g),p.return=v,p;case Vn:var E=p._init;return f(v,E(p._payload),g)}if(Ho(p)||Oo(p))return p=Ur(p,v.mode,g,null),p.return=v,p;Oa(v,p)}return null}function h(v,p,g,E){var T=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return T!==null?null:a(v,p,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case xa:return g.key===T?u(v,p,g,E):null;case xi:return g.key===T?l(v,p,g,E):null;case Vn:return T=g._init,h(v,p,T(g._payload),E)}if(Ho(g)||Oo(g))return T!==null?null:c(v,p,g,E,null);Oa(v,g)}return null}function d(v,p,g,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(g)||null,a(p,v,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case xa:return v=v.get(E.key===null?g:E.key)||null,u(p,v,E,T);case xi:return v=v.get(E.key===null?g:E.key)||null,l(p,v,E,T);case Vn:var N=E._init;return d(v,p,g,N(E._payload),T)}if(Ho(E)||Oo(E))return v=v.get(g)||null,c(p,v,E,T,null);Oa(p,E)}return null}function m(v,p,g,E){for(var T=null,N=null,A=p,M=p=0,q=null;A!==null&&M<g.length;M++){A.index>M?(q=A,A=null):q=A.sibling;var H=h(v,A,g[M],E);if(H===null){A===null&&(A=q);break}e&&A&&H.alternate===null&&t(v,A),p=o(H,p,M),N===null?T=H:N.sibling=H,N=H,A=q}if(M===g.length)return n(v,A),le&&Nr(v,M),T;if(A===null){for(;M<g.length;M++)A=f(v,g[M],E),A!==null&&(p=o(A,p,M),N===null?T=A:N.sibling=A,N=A);return le&&Nr(v,M),T}for(A=r(v,A);M<g.length;M++)q=d(A,v,M,g[M],E),q!==null&&(e&&q.alternate!==null&&A.delete(q.key===null?M:q.key),p=o(q,p,M),N===null?T=q:N.sibling=q,N=q);return e&&A.forEach(function(ht){return t(v,ht)}),le&&Nr(v,M),T}function y(v,p,g,E){var T=Oo(g);if(typeof T!="function")throw Error(R(150));if(g=T.call(g),g==null)throw Error(R(151));for(var N=T=null,A=p,M=p=0,q=null,H=g.next();A!==null&&!H.done;M++,H=g.next()){A.index>M?(q=A,A=null):q=A.sibling;var ht=h(v,A,H.value,E);if(ht===null){A===null&&(A=q);break}e&&A&&ht.alternate===null&&t(v,A),p=o(ht,p,M),N===null?T=ht:N.sibling=ht,N=ht,A=q}if(H.done)return n(v,A),le&&Nr(v,M),T;if(A===null){for(;!H.done;M++,H=g.next())H=f(v,H.value,E),H!==null&&(p=o(H,p,M),N===null?T=H:N.sibling=H,N=H);return le&&Nr(v,M),T}for(A=r(v,A);!H.done;M++,H=g.next())H=d(A,v,M,H.value,E),H!==null&&(e&&H.alternate!==null&&A.delete(H.key===null?M:H.key),p=o(H,p,M),N===null?T=H:N.sibling=H,N=H);return e&&A.forEach(function(Ao){return t(v,Ao)}),le&&Nr(v,M),T}function _(v,p,g,E){if(typeof g=="object"&&g!==null&&g.type===bi&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case xa:e:{for(var T=g.key,N=p;N!==null;){if(N.key===T){if(T=g.type,T===bi){if(N.tag===7){n(v,N.sibling),p=i(N,g.props.children),p.return=v,v=p;break e}}else if(N.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Vn&&Ym(T)===N.type){n(v,N.sibling),p=i(N,g.props),p.ref=$o(v,N,g),p.return=v,v=p;break e}n(v,N);break}else t(v,N);N=N.sibling}g.type===bi?(p=Ur(g.props.children,v.mode,E,g.key),p.return=v,v=p):(E=cu(g.type,g.key,g.props,null,v.mode,E),E.ref=$o(v,p,g),E.return=v,v=E)}return s(v);case xi:e:{for(N=g.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(v,p.sibling),p=i(p,g.children||[]),p.return=v,v=p;break e}else{n(v,p);break}else t(v,p);p=p.sibling}p=Jc(g,v.mode,E),p.return=v,v=p}return s(v);case Vn:return N=g._init,_(v,p,N(g._payload),E)}if(Ho(g))return m(v,p,g,E);if(Oo(g))return y(v,p,g,E);Oa(v,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(v,p.sibling),p=i(p,g),p.return=v,v=p):(n(v,p),p=Yc(g,v.mode,E),p.return=v,v=p),s(v)):n(v,p)}return _}var Qi=R0(!0),P0=R0(!1),Ou=vr(null),Lu=null,Ai=null,Ed=null;function Sd(){Ed=Ai=Lu=null}function xd(e){var t=Ou.current;ae(Ou),e._currentValue=t}function Gf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vi(e,t){Lu=e,Ed=Ai=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pt=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(Ed!==e)if(e={context:e,memoizedValue:t,next:null},Ai===null){if(Lu===null)throw Error(R(308));Ai=e,Lu.dependencies={lanes:0,firstContext:e}}else Ai=Ai.next=e;return t}var Dr=null;function bd(e){Dr===null?Dr=[e]:Dr.push(e)}function A0(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,bd(t)):(n.next=i.next,i.next=n),t.interleaved=n,Rn(e,r)}function Rn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bn=!1;function Td(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ir(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Rn(e,n)}return i=r.interleaved,i===null?(t.next=t,bd(r)):(t.next=i.next,i.next=t),r.interleaved=t,Rn(e,n)}function iu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,cd(e,n)}}function Jm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ju(e,t,n,r){var i=e.updateQueue;Bn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,s===null?o=l:s.next=l,s=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;s=0,c=l=u=null,a=o;do{var h=a.lane,d=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,y=a;switch(h=t,d=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){f=m.call(d,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(d,f,h):m,h==null)break e;f=pe({},f,h);break e;case 2:Bn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else d={eventTime:d,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=d,u=f):c=c.next=d,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Gr|=s,e.lanes=s,e.memoizedState=f}}function Zm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var Js={},hn=vr(Js),Ss=vr(Js),xs=vr(Js);function Or(e){if(e===Js)throw Error(R(174));return e}function kd(e,t){switch(re(xs,t),re(Ss,e),re(hn,Js),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nf(t,e)}ae(hn),re(hn,t)}function Xi(){ae(hn),ae(Ss),ae(xs)}function O0(e){Or(xs.current);var t=Or(hn.current),n=Nf(t,e.type);t!==n&&(re(Ss,e),re(hn,n))}function Id(e){Ss.current===e&&(ae(hn),ae(Ss))}var fe=vr(0);function Mu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hc=[];function Nd(){for(var e=0;e<Hc.length;e++)Hc[e]._workInProgressVersionPrimary=null;Hc.length=0}var ou=On.ReactCurrentDispatcher,Kc=On.ReactCurrentBatchConfig,Wr=0,de=null,ke=null,Ae=null,Fu=!1,ts=!1,bs=0,db=0;function qe(){throw Error(R(321))}function Cd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nn(e[n],t[n]))return!1;return!0}function Rd(e,t,n,r,i,o){if(Wr=o,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ou.current=e===null||e.memoizedState===null?gb:yb,e=n(r,i),ts){o=0;do{if(ts=!1,bs=0,25<=o)throw Error(R(301));o+=1,Ae=ke=null,t.updateQueue=null,ou.current=wb,e=n(r,i)}while(ts)}if(ou.current=$u,t=ke!==null&&ke.next!==null,Wr=0,Ae=ke=de=null,Fu=!1,t)throw Error(R(300));return e}function Pd(){var e=bs!==0;return bs=0,e}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?de.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function Ht(){if(ke===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Ae===null?de.memoizedState:Ae.next;if(t!==null)Ae=t,ke=e;else{if(e===null)throw Error(R(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Ae===null?de.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Ts(e,t){return typeof t=="function"?t(e):t}function Wc(e){var t=Ht(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=ke,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,l=o;do{var c=l.lane;if((Wr&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,s=r):u=u.next=f,de.lanes|=c,Gr|=c}l=l.next}while(l!==null&&l!==o);u===null?s=r:u.next=a,nn(r,t.memoizedState)||(pt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,de.lanes|=o,Gr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Gc(e){var t=Ht(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);nn(o,t.memoizedState)||(pt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function L0(){}function j0(e,t){var n=de,r=Ht(),i=t(),o=!nn(r.memoizedState,i);if(o&&(r.memoizedState=i,pt=!0),r=r.queue,Ad($0.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,ks(9,F0.bind(null,n,r,i,t),void 0,null),De===null)throw Error(R(349));Wr&30||M0(n,t,i)}return i}function M0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function F0(e,t,n,r){t.value=n,t.getSnapshot=r,U0(t)&&V0(e)}function $0(e,t,n){return n(function(){U0(t)&&V0(e)})}function U0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nn(e,n)}catch{return!0}}function V0(e){var t=Rn(e,1);t!==null&&Jt(t,e,1,-1)}function ev(e){var t=an();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:e},t.queue=e,e=e.dispatch=vb.bind(null,de,e),[t.memoizedState,e]}function ks(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function B0(){return Ht().memoizedState}function su(e,t,n,r){var i=an();de.flags|=e,i.memoizedState=ks(1|t,n,void 0,r===void 0?null:r)}function Cl(e,t,n,r){var i=Ht();r=r===void 0?null:r;var o=void 0;if(ke!==null){var s=ke.memoizedState;if(o=s.destroy,r!==null&&Cd(r,s.deps)){i.memoizedState=ks(t,n,o,r);return}}de.flags|=e,i.memoizedState=ks(1|t,n,o,r)}function tv(e,t){return su(8390656,8,e,t)}function Ad(e,t){return Cl(2048,8,e,t)}function z0(e,t){return Cl(4,2,e,t)}function q0(e,t){return Cl(4,4,e,t)}function H0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function K0(e,t,n){return n=n!=null?n.concat([e]):null,Cl(4,4,H0.bind(null,t,e),n)}function Dd(){}function W0(e,t){var n=Ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function G0(e,t){var n=Ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Q0(e,t,n){return Wr&21?(nn(n,t)||(n=e0(),de.lanes|=n,Gr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pt=!0),e.memoizedState=n)}function pb(e,t){var n=te;te=n!==0&&4>n?n:4,e(!0);var r=Kc.transition;Kc.transition={};try{e(!1),t()}finally{te=n,Kc.transition=r}}function X0(){return Ht().memoizedState}function mb(e,t,n){var r=sr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Y0(e))J0(t,n);else if(n=A0(e,t,n,r),n!==null){var i=lt();Jt(n,e,r,i),Z0(n,t,r)}}function vb(e,t,n){var r=sr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Y0(e))J0(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,nn(a,s)){var u=t.interleaved;u===null?(i.next=i,bd(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=A0(e,t,i,r),n!==null&&(i=lt(),Jt(n,e,r,i),Z0(n,t,r))}}function Y0(e){var t=e.alternate;return e===de||t!==null&&t===de}function J0(e,t){ts=Fu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Z0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,cd(e,n)}}var $u={readContext:qt,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},gb={readContext:qt,useCallback:function(e,t){return an().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:tv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,su(4194308,4,H0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return su(4194308,4,e,t)},useInsertionEffect:function(e,t){return su(4,2,e,t)},useMemo:function(e,t){var n=an();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=an();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=mb.bind(null,de,e),[r.memoizedState,e]},useRef:function(e){var t=an();return e={current:e},t.memoizedState=e},useState:ev,useDebugValue:Dd,useDeferredValue:function(e){return an().memoizedState=e},useTransition:function(){var e=ev(!1),t=e[0];return e=pb.bind(null,e[1]),an().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=de,i=an();if(le){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),De===null)throw Error(R(349));Wr&30||M0(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,tv($0.bind(null,r,o,e),[e]),r.flags|=2048,ks(9,F0.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=an(),t=De.identifierPrefix;if(le){var n=En,r=_n;n=(r&~(1<<32-Yt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=bs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=db++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yb={readContext:qt,useCallback:W0,useContext:qt,useEffect:Ad,useImperativeHandle:K0,useInsertionEffect:z0,useLayoutEffect:q0,useMemo:G0,useReducer:Wc,useRef:B0,useState:function(){return Wc(Ts)},useDebugValue:Dd,useDeferredValue:function(e){var t=Ht();return Q0(t,ke.memoizedState,e)},useTransition:function(){var e=Wc(Ts)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:L0,useSyncExternalStore:j0,useId:X0,unstable_isNewReconciler:!1},wb={readContext:qt,useCallback:W0,useContext:qt,useEffect:Ad,useImperativeHandle:K0,useInsertionEffect:z0,useLayoutEffect:q0,useMemo:G0,useReducer:Gc,useRef:B0,useState:function(){return Gc(Ts)},useDebugValue:Dd,useDeferredValue:function(e){var t=Ht();return ke===null?t.memoizedState=e:Q0(t,ke.memoizedState,e)},useTransition:function(){var e=Gc(Ts)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:L0,useSyncExternalStore:j0,useId:X0,unstable_isNewReconciler:!1};function Gt(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Rl={isMounted:function(e){return(e=e._reactInternals)?ii(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lt(),i=sr(e),o=bn(r,i);o.payload=t,n!=null&&(o.callback=n),t=ir(e,o,i),t!==null&&(Jt(t,e,i,r),iu(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lt(),i=sr(e),o=bn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ir(e,o,i),t!==null&&(Jt(t,e,i,r),iu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lt(),r=sr(e),i=bn(n,r);i.tag=2,t!=null&&(i.callback=t),t=ir(e,i,r),t!==null&&(Jt(t,e,r,n),iu(t,e,r))}};function nv(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!ys(n,r)||!ys(i,o):!0}function ew(e,t,n){var r=!1,i=hr,o=t.contextType;return typeof o=="object"&&o!==null?o=qt(o):(i=gt(t)?Hr:Je.current,r=t.contextTypes,o=(r=r!=null)?Wi(e,i):hr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function rv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Rl.enqueueReplaceState(t,t.state,null)}function Xf(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Td(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=qt(o):(o=gt(t)?Hr:Je.current,i.context=Wi(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Qf(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Rl.enqueueReplaceState(i,i.state,null),ju(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Yi(e,t){try{var n="",r=t;do n+=WS(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Qc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Yf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _b=typeof WeakMap=="function"?WeakMap:Map;function tw(e,t,n){n=bn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vu||(Vu=!0,ah=r),Yf(e,t)},n}function nw(e,t,n){n=bn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Yf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Yf(e,t),typeof r!="function"&&(or===null?or=new Set([this]):or.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function iv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _b;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ob.bind(null,e,t,n),t.then(e,e))}function ov(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bn(-1,1),t.tag=2,ir(n,t,1))),n.lanes|=1),e)}var Eb=On.ReactCurrentOwner,pt=!1;function nt(e,t,n,r){t.child=e===null?P0(t,null,n,r):Qi(t,e.child,n,r)}function av(e,t,n,r,i){n=n.render;var o=t.ref;return Vi(t,i),r=Rd(e,t,n,r,o,i),n=Pd(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pn(e,t,i)):(le&&n&&yd(t),t.flags|=1,nt(e,t,r,i),t.child)}function uv(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Vd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,rw(e,t,o,r,i)):(e=cu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ys,n(s,r)&&e.ref===t.ref)return Pn(e,t,i)}return t.flags|=1,e=ar(o,r),e.ref=t.ref,e.return=t,t.child=e}function rw(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(ys(o,r)&&e.ref===t.ref)if(pt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(pt=!0);else return t.lanes=e.lanes,Pn(e,t,i)}return Jf(e,t,n,r,i)}function iw(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(Oi,xt),xt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,re(Oi,xt),xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,re(Oi,xt),xt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,re(Oi,xt),xt|=r;return nt(e,t,i,n),t.child}function ow(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Jf(e,t,n,r,i){var o=gt(n)?Hr:Je.current;return o=Wi(t,o),Vi(t,i),n=Rd(e,t,n,r,o,i),r=Pd(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pn(e,t,i)):(le&&r&&yd(t),t.flags|=1,nt(e,t,n,i),t.child)}function lv(e,t,n,r,i){if(gt(n)){var o=!0;Pu(t)}else o=!1;if(Vi(t,i),t.stateNode===null)au(e,t),ew(t,n,r),Xf(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=qt(l):(l=gt(n)?Hr:Je.current,l=Wi(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==l)&&rv(t,s,r,l),Bn=!1;var h=t.memoizedState;s.state=h,ju(t,r,s,i),u=t.memoizedState,a!==r||h!==u||vt.current||Bn?(typeof c=="function"&&(Qf(t,n,c,r),u=t.memoizedState),(a=Bn||nv(t,n,a,r,h,u,l))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,D0(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Gt(t.type,a),s.props=l,f=t.pendingProps,h=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=qt(u):(u=gt(n)?Hr:Je.current,u=Wi(t,u));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==u)&&rv(t,s,r,u),Bn=!1,h=t.memoizedState,s.state=h,ju(t,r,s,i);var m=t.memoizedState;a!==f||h!==m||vt.current||Bn?(typeof d=="function"&&(Qf(t,n,d,r),m=t.memoizedState),(l=Bn||nv(t,n,l,r,h,m,u)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=u,r=l):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Zf(e,t,n,r,o,i)}function Zf(e,t,n,r,i,o){ow(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Gm(t,n,!1),Pn(e,t,o);r=t.stateNode,Eb.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Qi(t,e.child,null,o),t.child=Qi(t,null,a,o)):nt(e,t,a,o),t.memoizedState=r.state,i&&Gm(t,n,!0),t.child}function sw(e){var t=e.stateNode;t.pendingContext?Wm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wm(e,t.context,!1),kd(e,t.containerInfo)}function cv(e,t,n,r,i){return Gi(),_d(i),t.flags|=256,nt(e,t,n,r),t.child}var eh={dehydrated:null,treeContext:null,retryLane:0};function th(e){return{baseLanes:e,cachePool:null,transitions:null}}function aw(e,t,n){var r=t.pendingProps,i=fe.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),re(fe,i&1),e===null)return Wf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Dl(s,r,0,null),e=Ur(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=th(n),t.memoizedState=eh,e):Od(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Sb(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=ar(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ar(a,o):(o=Ur(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?th(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=eh,r}return o=e.child,e=o.sibling,r=ar(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Od(e,t){return t=Dl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function La(e,t,n,r){return r!==null&&_d(r),Qi(t,e.child,null,n),e=Od(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sb(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Qc(Error(R(422))),La(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Dl({mode:"visible",children:r.children},i,0,null),o=Ur(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Qi(t,e.child,null,s),t.child.memoizedState=th(s),t.memoizedState=eh,o);if(!(t.mode&1))return La(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(R(419)),r=Qc(o,r,void 0),La(e,t,s,r)}if(a=(s&e.childLanes)!==0,pt||a){if(r=De,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Rn(e,i),Jt(r,e,i,-1))}return Ud(),r=Qc(Error(R(421))),La(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Lb.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,It=rr(i.nextSibling),Pt=t,le=!0,Xt=null,e!==null&&(Ft[$t++]=_n,Ft[$t++]=En,Ft[$t++]=Kr,_n=e.id,En=e.overflow,Kr=t),t=Od(t,r.children),t.flags|=4096,t)}function fv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Gf(e.return,t,n)}function Xc(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function uw(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(nt(e,t,r.children,n),r=fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fv(e,n,t);else if(e.tag===19)fv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(re(fe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Mu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xc(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Mu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xc(t,!0,n,null,o);break;case"together":Xc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function au(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=ar(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ar(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xb(e,t,n){switch(t.tag){case 3:sw(t),Gi();break;case 5:O0(t);break;case 1:gt(t.type)&&Pu(t);break;case 4:kd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;re(Ou,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(re(fe,fe.current&1),t.flags|=128,null):n&t.child.childLanes?aw(e,t,n):(re(fe,fe.current&1),e=Pn(e,t,n),e!==null?e.sibling:null);re(fe,fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return uw(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),re(fe,fe.current),r)break;return null;case 22:case 23:return t.lanes=0,iw(e,t,n)}return Pn(e,t,n)}var lw,nh,cw,fw;lw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nh=function(){};cw=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Or(hn.current);var o=null;switch(n){case"input":i=bf(e,i),r=bf(e,r),o=[];break;case"select":i=pe({},i,{value:void 0}),r=pe({},r,{value:void 0}),o=[];break;case"textarea":i=If(e,i),r=If(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Cu)}Cf(n,r);var s;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(fs.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(fs.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&oe("scroll",e),o||a===u||(o=[])):(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}};fw=function(e,t,n,r){n!==r&&(t.flags|=4)};function Uo(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bb(e,t,n){var r=t.pendingProps;switch(wd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return gt(t.type)&&Ru(),He(t),null;case 3:return r=t.stateNode,Xi(),ae(vt),ae(Je),Nd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Da(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xt!==null&&(ch(Xt),Xt=null))),nh(e,t),He(t),null;case 5:Id(t);var i=Or(xs.current);if(n=t.type,e!==null&&t.stateNode!=null)cw(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return He(t),null}if(e=Or(hn.current),Da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ln]=t,r[Es]=o,e=(t.mode&1)!==0,n){case"dialog":oe("cancel",r),oe("close",r);break;case"iframe":case"object":case"embed":oe("load",r);break;case"video":case"audio":for(i=0;i<Wo.length;i++)oe(Wo[i],r);break;case"source":oe("error",r);break;case"img":case"image":case"link":oe("error",r),oe("load",r);break;case"details":oe("toggle",r);break;case"input":_m(r,o),oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},oe("invalid",r);break;case"textarea":Sm(r,o),oe("invalid",r)}Cf(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Aa(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Aa(r.textContent,a,e),i=["children",""+a]):fs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&oe("scroll",r)}switch(n){case"input":ba(r),Em(r,o,!0);break;case"textarea":ba(r),xm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Cu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$y(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ln]=t,e[Es]=r,lw(e,t,!1,!1),t.stateNode=e;e:{switch(s=Rf(n,r),n){case"dialog":oe("cancel",e),oe("close",e),i=r;break;case"iframe":case"object":case"embed":oe("load",e),i=r;break;case"video":case"audio":for(i=0;i<Wo.length;i++)oe(Wo[i],e);i=r;break;case"source":oe("error",e),i=r;break;case"img":case"image":case"link":oe("error",e),oe("load",e),i=r;break;case"details":oe("toggle",e),i=r;break;case"input":_m(e,r),i=bf(e,r),oe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=pe({},r,{value:void 0}),oe("invalid",e);break;case"textarea":Sm(e,r),i=If(e,r),oe("invalid",e);break;default:i=r}Cf(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?By(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Uy(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&hs(e,u):typeof u=="number"&&hs(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(fs.hasOwnProperty(o)?u!=null&&o==="onScroll"&&oe("scroll",e):u!=null&&id(e,o,u,s))}switch(n){case"input":ba(e),Em(e,r,!1);break;case"textarea":ba(e),xm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Mi(e,!!r.multiple,o,!1):r.defaultValue!=null&&Mi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Cu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)fw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=Or(xs.current),Or(hn.current),Da(t)){if(r=t.stateNode,n=t.memoizedProps,r[ln]=t,(o=r.nodeValue!==n)&&(e=Pt,e!==null))switch(e.tag){case 3:Aa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Aa(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ln]=t,t.stateNode=r}return He(t),null;case 13:if(ae(fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&It!==null&&t.mode&1&&!(t.flags&128))C0(),Gi(),t.flags|=98560,o=!1;else if(o=Da(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(R(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(R(317));o[ln]=t}else Gi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),o=!1}else Xt!==null&&(ch(Xt),Xt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?Ie===0&&(Ie=3):Ud())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return Xi(),nh(e,t),e===null&&ws(t.stateNode.containerInfo),He(t),null;case 10:return xd(t.type._context),He(t),null;case 17:return gt(t.type)&&Ru(),He(t),null;case 19:if(ae(fe),o=t.memoizedState,o===null)return He(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Uo(o,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Mu(e),s!==null){for(t.flags|=128,Uo(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return re(fe,fe.current&1|2),t.child}e=e.sibling}o.tail!==null&&ye()>Ji&&(t.flags|=128,r=!0,Uo(o,!1),t.lanes=4194304)}else{if(!r)if(e=Mu(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Uo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!le)return He(t),null}else 2*ye()-o.renderingStartTime>Ji&&n!==1073741824&&(t.flags|=128,r=!0,Uo(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ye(),t.sibling=null,n=fe.current,re(fe,r?n&1|2:n&1),t):(He(t),null);case 22:case 23:return $d(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?xt&1073741824&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function Tb(e,t){switch(wd(t),t.tag){case 1:return gt(t.type)&&Ru(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xi(),ae(vt),ae(Je),Nd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Id(t),null;case 13:if(ae(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Gi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(fe),null;case 4:return Xi(),null;case 10:return xd(t.type._context),null;case 22:case 23:return $d(),null;case 24:return null;default:return null}}var ja=!1,We=!1,kb=typeof WeakSet=="function"?WeakSet:Set,O=null;function Di(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(e,t,r)}else n.current=null}function rh(e,t,n){try{n()}catch(r){me(e,t,r)}}var hv=!1;function Ib(e,t){if(Uf=ku,e=v0(),gd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,l=0,c=0,f=e,h=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===e)break t;if(h===n&&++l===i&&(a=s),h===o&&++c===r&&(u=s),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vf={focusedElem:e,selectionRange:n},ku=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,_=m.memoizedState,v=t.stateNode,p=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Gt(t.type,y),_);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(E){me(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return m=hv,hv=!1,m}function ns(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&rh(t,n,o)}i=i.next}while(i!==r)}}function Pl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ih(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hw(e){var t=e.alternate;t!==null&&(e.alternate=null,hw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ln],delete t[Es],delete t[qf],delete t[lb],delete t[cb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dw(e){return e.tag===5||e.tag===3||e.tag===4}function dv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cu));else if(r!==4&&(e=e.child,e!==null))for(oh(e,t,n),e=e.sibling;e!==null;)oh(e,t,n),e=e.sibling}function sh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(sh(e,t,n),e=e.sibling;e!==null;)sh(e,t,n),e=e.sibling}var Le=null,Qt=!1;function Mn(e,t,n){for(n=n.child;n!==null;)pw(e,t,n),n=n.sibling}function pw(e,t,n){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(xl,n)}catch{}switch(n.tag){case 5:We||Di(n,t);case 6:var r=Le,i=Qt;Le=null,Mn(e,t,n),Le=r,Qt=i,Le!==null&&(Qt?(e=Le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(Qt?(e=Le,n=n.stateNode,e.nodeType===8?zc(e.parentNode,n):e.nodeType===1&&zc(e,n),vs(e)):zc(Le,n.stateNode));break;case 4:r=Le,i=Qt,Le=n.stateNode.containerInfo,Qt=!0,Mn(e,t,n),Le=r,Qt=i;break;case 0:case 11:case 14:case 15:if(!We&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&rh(n,t,s),i=i.next}while(i!==r)}Mn(e,t,n);break;case 1:if(!We&&(Di(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){me(n,t,a)}Mn(e,t,n);break;case 21:Mn(e,t,n);break;case 22:n.mode&1?(We=(r=We)||n.memoizedState!==null,Mn(e,t,n),We=r):Mn(e,t,n);break;default:Mn(e,t,n)}}function pv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new kb),t.forEach(function(r){var i=jb.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Kt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Le=a.stateNode,Qt=!1;break e;case 3:Le=a.stateNode.containerInfo,Qt=!0;break e;case 4:Le=a.stateNode.containerInfo,Qt=!0;break e}a=a.return}if(Le===null)throw Error(R(160));pw(o,s,i),Le=null,Qt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){me(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mw(t,e),t=t.sibling}function mw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Kt(t,e),sn(e),r&4){try{ns(3,e,e.return),Pl(3,e)}catch(y){me(e,e.return,y)}try{ns(5,e,e.return)}catch(y){me(e,e.return,y)}}break;case 1:Kt(t,e),sn(e),r&512&&n!==null&&Di(n,n.return);break;case 5:if(Kt(t,e),sn(e),r&512&&n!==null&&Di(n,n.return),e.flags&32){var i=e.stateNode;try{hs(i,"")}catch(y){me(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&My(i,o),Rf(a,s);var l=Rf(a,o);for(s=0;s<u.length;s+=2){var c=u[s],f=u[s+1];c==="style"?By(i,f):c==="dangerouslySetInnerHTML"?Uy(i,f):c==="children"?hs(i,f):id(i,c,f,l)}switch(a){case"input":Tf(i,o);break;case"textarea":Fy(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?Mi(i,!!o.multiple,d,!1):h!==!!o.multiple&&(o.defaultValue!=null?Mi(i,!!o.multiple,o.defaultValue,!0):Mi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Es]=o}catch(y){me(e,e.return,y)}}break;case 6:if(Kt(t,e),sn(e),r&4){if(e.stateNode===null)throw Error(R(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){me(e,e.return,y)}}break;case 3:if(Kt(t,e),sn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vs(t.containerInfo)}catch(y){me(e,e.return,y)}break;case 4:Kt(t,e),sn(e);break;case 13:Kt(t,e),sn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Md=ye())),r&4&&pv(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(We=(l=We)||c,Kt(t,e),We=l):Kt(t,e),sn(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(O=e,c=e.child;c!==null;){for(f=O=c;O!==null;){switch(h=O,d=h.child,h.tag){case 0:case 11:case 14:case 15:ns(4,h,h.return);break;case 1:Di(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){me(r,n,y)}}break;case 5:Di(h,h.return);break;case 22:if(h.memoizedState!==null){vv(f);continue}}d!==null?(d.return=h,O=d):vv(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Vy("display",s))}catch(y){me(e,e.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(y){me(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Kt(t,e),sn(e),r&4&&pv(e);break;case 21:break;default:Kt(t,e),sn(e)}}function sn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dw(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hs(i,""),r.flags&=-33);var o=dv(e);sh(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=dv(e);oh(e,a,s);break;default:throw Error(R(161))}}catch(u){me(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Nb(e,t,n){O=e,vw(e)}function vw(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var i=O,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ja;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||We;a=ja;var l=We;if(ja=s,(We=u)&&!l)for(O=i;O!==null;)s=O,u=s.child,s.tag===22&&s.memoizedState!==null?gv(i):u!==null?(u.return=s,O=u):gv(i);for(;o!==null;)O=o,vw(o),o=o.sibling;O=i,ja=a,We=l}mv(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,O=o):mv(e)}}function mv(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||Pl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!We)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Gt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Zm(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Zm(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&vs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}We||t.flags&512&&ih(t)}catch(h){me(t,t.return,h)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function vv(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function gv(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pl(4,t)}catch(u){me(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){me(t,i,u)}}var o=t.return;try{ih(t)}catch(u){me(t,o,u)}break;case 5:var s=t.return;try{ih(t)}catch(u){me(t,s,u)}}}catch(u){me(t,t.return,u)}if(t===e){O=null;break}var a=t.sibling;if(a!==null){a.return=t.return,O=a;break}O=t.return}}var Cb=Math.ceil,Uu=On.ReactCurrentDispatcher,Ld=On.ReactCurrentOwner,zt=On.ReactCurrentBatchConfig,Y=0,De=null,Ee=null,$e=0,xt=0,Oi=vr(0),Ie=0,Is=null,Gr=0,Al=0,jd=0,rs=null,dt=null,Md=0,Ji=1/0,yn=null,Vu=!1,ah=null,or=null,Ma=!1,Jn=null,Bu=0,is=0,uh=null,uu=-1,lu=0;function lt(){return Y&6?ye():uu!==-1?uu:uu=ye()}function sr(e){return e.mode&1?Y&2&&$e!==0?$e&-$e:hb.transition!==null?(lu===0&&(lu=e0()),lu):(e=te,e!==0||(e=window.event,e=e===void 0?16:a0(e.type)),e):1}function Jt(e,t,n,r){if(50<is)throw is=0,uh=null,Error(R(185));Qs(e,n,r),(!(Y&2)||e!==De)&&(e===De&&(!(Y&2)&&(Al|=n),Ie===4&&Hn(e,$e)),yt(e,r),n===1&&Y===0&&!(t.mode&1)&&(Ji=ye()+500,Nl&&gr()))}function yt(e,t){var n=e.callbackNode;hx(e,t);var r=Tu(e,e===De?$e:0);if(r===0)n!==null&&km(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&km(n),t===1)e.tag===0?fb(yv.bind(null,e)):k0(yv.bind(null,e)),ab(function(){!(Y&6)&&gr()}),n=null;else{switch(t0(r)){case 1:n=ld;break;case 4:n=Jy;break;case 16:n=bu;break;case 536870912:n=Zy;break;default:n=bu}n=bw(n,gw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gw(e,t){if(uu=-1,lu=0,Y&6)throw Error(R(327));var n=e.callbackNode;if(Bi()&&e.callbackNode!==n)return null;var r=Tu(e,e===De?$e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=zu(e,r);else{t=r;var i=Y;Y|=2;var o=ww();(De!==e||$e!==t)&&(yn=null,Ji=ye()+500,$r(e,t));do try{Ab();break}catch(a){yw(e,a)}while(!0);Sd(),Uu.current=o,Y=i,Ee!==null?t=0:(De=null,$e=0,t=Ie)}if(t!==0){if(t===2&&(i=Lf(e),i!==0&&(r=i,t=lh(e,i))),t===1)throw n=Is,$r(e,0),Hn(e,r),yt(e,ye()),n;if(t===6)Hn(e,r);else{if(i=e.current.alternate,!(r&30)&&!Rb(i)&&(t=zu(e,r),t===2&&(o=Lf(e),o!==0&&(r=o,t=lh(e,o))),t===1))throw n=Is,$r(e,0),Hn(e,r),yt(e,ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:Cr(e,dt,yn);break;case 3:if(Hn(e,r),(r&130023424)===r&&(t=Md+500-ye(),10<t)){if(Tu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){lt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zf(Cr.bind(null,e,dt,yn),t);break}Cr(e,dt,yn);break;case 4:if(Hn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Yt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cb(r/1960))-r,10<r){e.timeoutHandle=zf(Cr.bind(null,e,dt,yn),r);break}Cr(e,dt,yn);break;case 5:Cr(e,dt,yn);break;default:throw Error(R(329))}}}return yt(e,ye()),e.callbackNode===n?gw.bind(null,e):null}function lh(e,t){var n=rs;return e.current.memoizedState.isDehydrated&&($r(e,t).flags|=256),e=zu(e,t),e!==2&&(t=dt,dt=n,t!==null&&ch(t)),e}function ch(e){dt===null?dt=e:dt.push.apply(dt,e)}function Rb(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!nn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hn(e,t){for(t&=~jd,t&=~Al,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Yt(t),r=1<<n;e[n]=-1,t&=~r}}function yv(e){if(Y&6)throw Error(R(327));Bi();var t=Tu(e,0);if(!(t&1))return yt(e,ye()),null;var n=zu(e,t);if(e.tag!==0&&n===2){var r=Lf(e);r!==0&&(t=r,n=lh(e,r))}if(n===1)throw n=Is,$r(e,0),Hn(e,t),yt(e,ye()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cr(e,dt,yn),yt(e,ye()),null}function Fd(e,t){var n=Y;Y|=1;try{return e(t)}finally{Y=n,Y===0&&(Ji=ye()+500,Nl&&gr())}}function Qr(e){Jn!==null&&Jn.tag===0&&!(Y&6)&&Bi();var t=Y;Y|=1;var n=zt.transition,r=te;try{if(zt.transition=null,te=1,e)return e()}finally{te=r,zt.transition=n,Y=t,!(Y&6)&&gr()}}function $d(){xt=Oi.current,ae(Oi)}function $r(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sb(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(wd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ru();break;case 3:Xi(),ae(vt),ae(Je),Nd();break;case 5:Id(r);break;case 4:Xi();break;case 13:ae(fe);break;case 19:ae(fe);break;case 10:xd(r.type._context);break;case 22:case 23:$d()}n=n.return}if(De=e,Ee=e=ar(e.current,null),$e=xt=t,Ie=0,Is=null,jd=Al=Gr=0,dt=rs=null,Dr!==null){for(t=0;t<Dr.length;t++)if(n=Dr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Dr=null}return e}function yw(e,t){do{var n=Ee;try{if(Sd(),ou.current=$u,Fu){for(var r=de.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fu=!1}if(Wr=0,Ae=ke=de=null,ts=!1,bs=0,Ld.current=null,n===null||n.return===null){Ie=1,Is=t,Ee=null;break}e:{var o=e,s=n.return,a=n,u=t;if(t=$e,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=ov(s);if(d!==null){d.flags&=-257,sv(d,s,a,o,t),d.mode&1&&iv(o,l,t),t=d,u=l;var m=t.updateQueue;if(m===null){var y=new Set;y.add(u),t.updateQueue=y}else m.add(u);break e}else{if(!(t&1)){iv(o,l,t),Ud();break e}u=Error(R(426))}}else if(le&&a.mode&1){var _=ov(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),sv(_,s,a,o,t),_d(Yi(u,a));break e}}o=u=Yi(u,a),Ie!==4&&(Ie=2),rs===null?rs=[o]:rs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=tw(o,u,t);Jm(o,v);break e;case 1:a=u;var p=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(or===null||!or.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var E=nw(o,a,t);Jm(o,E);break e}}o=o.return}while(o!==null)}Ew(n)}catch(T){t=T,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function ww(){var e=Uu.current;return Uu.current=$u,e===null?$u:e}function Ud(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),De===null||!(Gr&268435455)&&!(Al&268435455)||Hn(De,$e)}function zu(e,t){var n=Y;Y|=2;var r=ww();(De!==e||$e!==t)&&(yn=null,$r(e,t));do try{Pb();break}catch(i){yw(e,i)}while(!0);if(Sd(),Y=n,Uu.current=r,Ee!==null)throw Error(R(261));return De=null,$e=0,Ie}function Pb(){for(;Ee!==null;)_w(Ee)}function Ab(){for(;Ee!==null&&!rx();)_w(Ee)}function _w(e){var t=xw(e.alternate,e,xt);e.memoizedProps=e.pendingProps,t===null?Ew(e):Ee=t,Ld.current=null}function Ew(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Tb(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,Ee=null;return}}else if(n=bb(n,t,xt),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Ie===0&&(Ie=5)}function Cr(e,t,n){var r=te,i=zt.transition;try{zt.transition=null,te=1,Db(e,t,n,r)}finally{zt.transition=i,te=r}return null}function Db(e,t,n,r){do Bi();while(Jn!==null);if(Y&6)throw Error(R(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(dx(e,o),e===De&&(Ee=De=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ma||(Ma=!0,bw(bu,function(){return Bi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=zt.transition,zt.transition=null;var s=te;te=1;var a=Y;Y|=4,Ld.current=null,Ib(e,n),mw(n,e),Zx(Vf),ku=!!Uf,Vf=Uf=null,e.current=n,Nb(n),ix(),Y=a,te=s,zt.transition=o}else e.current=n;if(Ma&&(Ma=!1,Jn=e,Bu=i),o=e.pendingLanes,o===0&&(or=null),ax(n.stateNode),yt(e,ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vu)throw Vu=!1,e=ah,ah=null,e;return Bu&1&&e.tag!==0&&Bi(),o=e.pendingLanes,o&1?e===uh?is++:(is=0,uh=e):is=0,gr(),null}function Bi(){if(Jn!==null){var e=t0(Bu),t=zt.transition,n=te;try{if(zt.transition=null,te=16>e?16:e,Jn===null)var r=!1;else{if(e=Jn,Jn=null,Bu=0,Y&6)throw Error(R(331));var i=Y;for(Y|=4,O=e.current;O!==null;){var o=O,s=o.child;if(O.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(O=l;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:ns(8,c,o)}var f=c.child;if(f!==null)f.return=c,O=f;else for(;O!==null;){c=O;var h=c.sibling,d=c.return;if(hw(c),c===l){O=null;break}if(h!==null){h.return=d,O=h;break}O=d}}}var m=o.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}O=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,O=s;else e:for(;O!==null;){if(o=O,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,O=v;break e}O=o.return}}var p=e.current;for(O=p;O!==null;){s=O;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,O=g;else e:for(s=p;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pl(9,a)}}catch(T){me(a,a.return,T)}if(a===s){O=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,O=E;break e}O=a.return}}if(Y=i,gr(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(xl,e)}catch{}r=!0}return r}finally{te=n,zt.transition=t}}return!1}function wv(e,t,n){t=Yi(n,t),t=tw(e,t,1),e=ir(e,t,1),t=lt(),e!==null&&(Qs(e,1,t),yt(e,t))}function me(e,t,n){if(e.tag===3)wv(e,e,n);else for(;t!==null;){if(t.tag===3){wv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(or===null||!or.has(r))){e=Yi(n,e),e=nw(t,e,1),t=ir(t,e,1),e=lt(),t!==null&&(Qs(t,1,e),yt(t,e));break}}t=t.return}}function Ob(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=lt(),e.pingedLanes|=e.suspendedLanes&n,De===e&&($e&n)===n&&(Ie===4||Ie===3&&($e&130023424)===$e&&500>ye()-Md?$r(e,0):jd|=n),yt(e,t)}function Sw(e,t){t===0&&(e.mode&1?(t=Ia,Ia<<=1,!(Ia&130023424)&&(Ia=4194304)):t=1);var n=lt();e=Rn(e,t),e!==null&&(Qs(e,t,n),yt(e,n))}function Lb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Sw(e,n)}function jb(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),Sw(e,n)}var xw;xw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||vt.current)pt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return pt=!1,xb(e,t,n);pt=!!(e.flags&131072)}else pt=!1,le&&t.flags&1048576&&I0(t,Du,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;au(e,t),e=t.pendingProps;var i=Wi(t,Je.current);Vi(t,n),i=Rd(null,t,r,e,i,n);var o=Pd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(r)?(o=!0,Pu(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Td(t),i.updater=Rl,t.stateNode=i,i._reactInternals=t,Xf(t,r,e,n),t=Zf(null,t,r,!0,o,n)):(t.tag=0,le&&o&&yd(t),nt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(au(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Fb(r),e=Gt(r,e),i){case 0:t=Jf(null,t,r,e,n);break e;case 1:t=lv(null,t,r,e,n);break e;case 11:t=av(null,t,r,e,n);break e;case 14:t=uv(null,t,r,Gt(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gt(r,i),Jf(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gt(r,i),lv(e,t,r,i,n);case 3:e:{if(sw(t),e===null)throw Error(R(387));r=t.pendingProps,o=t.memoizedState,i=o.element,D0(e,t),ju(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Yi(Error(R(423)),t),t=cv(e,t,r,n,i);break e}else if(r!==i){i=Yi(Error(R(424)),t),t=cv(e,t,r,n,i);break e}else for(It=rr(t.stateNode.containerInfo.firstChild),Pt=t,le=!0,Xt=null,n=P0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gi(),r===i){t=Pn(e,t,n);break e}nt(e,t,r,n)}t=t.child}return t;case 5:return O0(t),e===null&&Wf(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Bf(r,i)?s=null:o!==null&&Bf(r,o)&&(t.flags|=32),ow(e,t),nt(e,t,s,n),t.child;case 6:return e===null&&Wf(t),null;case 13:return aw(e,t,n);case 4:return kd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qi(t,null,r,n):nt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gt(r,i),av(e,t,r,i,n);case 7:return nt(e,t,t.pendingProps,n),t.child;case 8:return nt(e,t,t.pendingProps.children,n),t.child;case 12:return nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,re(Ou,r._currentValue),r._currentValue=s,o!==null)if(nn(o.value,s)){if(o.children===i.children&&!vt.current){t=Pn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=bn(-1,n&-n),u.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Gf(o.return,n,t),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(R(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Gf(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}nt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Vi(t,n),i=qt(i),r=r(i),t.flags|=1,nt(e,t,r,n),t.child;case 14:return r=t.type,i=Gt(r,t.pendingProps),i=Gt(r.type,i),uv(e,t,r,i,n);case 15:return rw(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gt(r,i),au(e,t),t.tag=1,gt(r)?(e=!0,Pu(t)):e=!1,Vi(t,n),ew(t,r,i),Xf(t,r,i,n),Zf(null,t,r,!0,e,n);case 19:return uw(e,t,n);case 22:return iw(e,t,n)}throw Error(R(156,t.tag))};function bw(e,t){return Yy(e,t)}function Mb(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,n,r){return new Mb(e,t,n,r)}function Vd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fb(e){if(typeof e=="function")return Vd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sd)return 11;if(e===ad)return 14}return 2}function ar(e,t){var n=e.alternate;return n===null?(n=Ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cu(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Vd(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case bi:return Ur(n.children,i,o,t);case od:s=8,i|=8;break;case _f:return e=Ut(12,n,t,i|2),e.elementType=_f,e.lanes=o,e;case Ef:return e=Ut(13,n,t,i),e.elementType=Ef,e.lanes=o,e;case Sf:return e=Ut(19,n,t,i),e.elementType=Sf,e.lanes=o,e;case Oy:return Dl(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ay:s=10;break e;case Dy:s=9;break e;case sd:s=11;break e;case ad:s=14;break e;case Vn:s=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Ut(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ur(e,t,n,r){return e=Ut(7,e,r,t),e.lanes=n,e}function Dl(e,t,n,r){return e=Ut(22,e,r,t),e.elementType=Oy,e.lanes=n,e.stateNode={isHidden:!1},e}function Yc(e,t,n){return e=Ut(6,e,null,t),e.lanes=n,e}function Jc(e,t,n){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $b(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ac(0),this.expirationTimes=Ac(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ac(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bd(e,t,n,r,i,o,s,a,u){return e=new $b(e,t,n,a,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ut(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Td(o),e}function Ub(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Tw(e){if(!e)return hr;e=e._reactInternals;e:{if(ii(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(gt(n))return T0(e,n,t)}return t}function kw(e,t,n,r,i,o,s,a,u){return e=Bd(n,r,!0,e,i,o,s,a,u),e.context=Tw(null),n=e.current,r=lt(),i=sr(n),o=bn(r,i),o.callback=t??null,ir(n,o,i),e.current.lanes=i,Qs(e,i,r),yt(e,r),e}function Ol(e,t,n,r){var i=t.current,o=lt(),s=sr(i);return n=Tw(n),t.context===null?t.context=n:t.pendingContext=n,t=bn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ir(i,t,s),e!==null&&(Jt(e,i,s,o),iu(e,i,s)),s}function qu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _v(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function zd(e,t){_v(e,t),(e=e.alternate)&&_v(e,t)}function Vb(){return null}var Iw=typeof reportError=="function"?reportError:function(e){console.error(e)};function qd(e){this._internalRoot=e}Ll.prototype.render=qd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Ol(e,t,null,null)};Ll.prototype.unmount=qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qr(function(){Ol(null,e,null,null)}),t[Cn]=null}};function Ll(e){this._internalRoot=e}Ll.prototype.unstable_scheduleHydration=function(e){if(e){var t=i0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qn.length&&t!==0&&t<qn[n].priority;n++);qn.splice(n,0,e),n===0&&s0(e)}};function Hd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ev(){}function Bb(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=qu(s);o.call(l)}}var s=kw(t,r,e,0,null,!1,!1,"",Ev);return e._reactRootContainer=s,e[Cn]=s.current,ws(e.nodeType===8?e.parentNode:e),Qr(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=qu(u);a.call(l)}}var u=Bd(e,0,!1,null,null,!1,!1,"",Ev);return e._reactRootContainer=u,e[Cn]=u.current,ws(e.nodeType===8?e.parentNode:e),Qr(function(){Ol(t,u,n,r)}),u}function Ml(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=qu(s);a.call(u)}}Ol(t,s,e,i)}else s=Bb(n,t,e,i,r);return qu(s)}n0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ko(t.pendingLanes);n!==0&&(cd(t,n|1),yt(t,ye()),!(Y&6)&&(Ji=ye()+500,gr()))}break;case 13:Qr(function(){var r=Rn(e,1);if(r!==null){var i=lt();Jt(r,e,1,i)}}),zd(e,1)}};fd=function(e){if(e.tag===13){var t=Rn(e,134217728);if(t!==null){var n=lt();Jt(t,e,134217728,n)}zd(e,134217728)}};r0=function(e){if(e.tag===13){var t=sr(e),n=Rn(e,t);if(n!==null){var r=lt();Jt(n,e,t,r)}zd(e,t)}};i0=function(){return te};o0=function(e,t){var n=te;try{return te=e,t()}finally{te=n}};Af=function(e,t,n){switch(t){case"input":if(Tf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Il(r);if(!i)throw Error(R(90));jy(r),Tf(r,i)}}}break;case"textarea":Fy(e,n);break;case"select":t=n.value,t!=null&&Mi(e,!!n.multiple,t,!1)}};Hy=Fd;Ky=Qr;var zb={usingClientEntryPoint:!1,Events:[Ys,Ni,Il,zy,qy,Fd]},Vo={findFiberByHostInstance:Ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qb={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:On.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qy(e),e===null?null:e.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||Vb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fa.isDisabled&&Fa.supportsFiber)try{xl=Fa.inject(qb),fn=Fa}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zb;Lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hd(t))throw Error(R(200));return Ub(e,t,null,n)};Lt.createRoot=function(e,t){if(!Hd(e))throw Error(R(299));var n=!1,r="",i=Iw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Bd(e,1,!1,null,null,n,!1,r,i),e[Cn]=t.current,ws(e.nodeType===8?e.parentNode:e),new qd(t)};Lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Qy(t),e=e===null?null:e.stateNode,e};Lt.flushSync=function(e){return Qr(e)};Lt.hydrate=function(e,t,n){if(!jl(t))throw Error(R(200));return Ml(null,e,t,!0,n)};Lt.hydrateRoot=function(e,t,n){if(!Hd(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Iw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=kw(t,null,e,1,n??null,i,!1,o,s),e[Cn]=t.current,ws(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ll(t)};Lt.render=function(e,t,n){if(!jl(t))throw Error(R(200));return Ml(null,e,t,!1,n)};Lt.unmountComponentAtNode=function(e){if(!jl(e))throw Error(R(40));return e._reactRootContainer?(Qr(function(){Ml(null,null,e,!1,function(){e._reactRootContainer=null,e[Cn]=null})}),!0):!1};Lt.unstable_batchedUpdates=Fd;Lt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!jl(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Ml(e,t,n,!1,r)};Lt.version="18.3.1-next-f1338f8080-20240426";function Nw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nw)}catch(e){console.error(e)}}Nw(),Ny.exports=Lt;var Hb=Ny.exports,Cw,Sv=Hb;Cw=Sv.createRoot,Sv.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ns(){return Ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ns.apply(this,arguments)}var Zn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Zn||(Zn={}));const xv="popstate";function Kb(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return fh("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Hu(i)}return Gb(t,n,null,e)}function xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Wb(){return Math.random().toString(36).substr(2,8)}function bv(e,t){return{usr:e.state,key:e.key,idx:t}}function fh(e,t,n,r){return n===void 0&&(n=null),Ns({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?So(t):t,{state:n,key:t&&t.key||r||Wb()})}function Hu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function So(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Gb(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Zn.Pop,u=null,l=c();l==null&&(l=0,s.replaceState(Ns({},s.state,{idx:l}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=Zn.Pop;let _=c(),v=_==null?null:_-l;l=_,u&&u({action:a,location:y.location,delta:v})}function h(_,v){a=Zn.Push;let p=fh(y.location,_,v);l=c()+1;let g=bv(p,l),E=y.createHref(p);try{s.pushState(g,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(E)}o&&u&&u({action:a,location:y.location,delta:1})}function d(_,v){a=Zn.Replace;let p=fh(y.location,_,v);l=c();let g=bv(p,l),E=y.createHref(p);s.replaceState(g,"",E),o&&u&&u({action:a,location:y.location,delta:0})}function m(_){let v=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof _=="string"?_:Hu(_);return p=p.replace(/ $/,"%20"),xe(v,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,v)}let y={get action(){return a},get location(){return e(i,s)},listen(_){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(xv,f),u=_,()=>{i.removeEventListener(xv,f),u=null}},createHref(_){return t(i,_)},createURL:m,encodeLocation(_){let v=m(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:d,go(_){return s.go(_)}};return y}var Tv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tv||(Tv={}));function Qb(e,t,n){return n===void 0&&(n="/"),Xb(e,t,n,!1)}function Xb(e,t,n,r){let i=typeof t=="string"?So(t):t,o=Kd(i.pathname||"/",n);if(o==null)return null;let s=Pw(e);Yb(s);let a=null;for(let u=0;a==null&&u<s.length;++u){let l=uT(o);a=sT(s[u],l,r)}return a}function Pw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let u={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(xe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=ur([r,u.relativePath]),c=n.concat(u);o.children&&o.children.length>0&&(xe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),Pw(o.children,t,c,l)),!(o.path==null&&!o.index)&&t.push({path:l,score:iT(l,o.index),routesMeta:c})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let u of Aw(o.path))i(o,s,u)}),t}function Aw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Aw(r.join("/")),a=[];return a.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&a.push(...s),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function Yb(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:oT(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Jb=/^:[\w-]+$/,Zb=3,eT=2,tT=1,nT=10,rT=-2,kv=e=>e==="*";function iT(e,t){let n=e.split("/"),r=n.length;return n.some(kv)&&(r+=rT),t&&(r+=eT),n.filter(i=>!kv(i)).reduce((i,o)=>i+(Jb.test(o)?Zb:o===""?tT:nT),r)}function oT(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function sT(e,t,n){let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let u=r[a],l=a===r.length-1,c=o==="/"?t:t.slice(o.length)||"/",f=Iv({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},c),h=u.route;if(!f&&l&&n&&!r[r.length-1].route.index&&(f=Iv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:ur([o,f.pathname]),pathnameBase:hT(ur([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=ur([o,f.pathnameBase]))}return s}function Iv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=aT(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,f)=>{let{paramName:h,isOptional:d}=c;if(h==="*"){let y=a[f]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[f];return d&&!m?l[h]=void 0:l[h]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:o,pathnameBase:s,pattern:e}}function aT(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Rw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function uT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Rw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Kd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function lT(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?So(e):e;return{pathname:n?n.startsWith("/")?n:cT(n,t):t,search:dT(r),hash:pT(i)}}function cT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fT(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Dw(e,t){let n=fT(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ow(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=So(e):(i=Ns({},e),xe(!i.pathname||!i.pathname.includes("?"),Zc("?","pathname","search",i)),xe(!i.pathname||!i.pathname.includes("#"),Zc("#","pathname","hash",i)),xe(!i.search||!i.search.includes("#"),Zc("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?t[f]:"/"}let u=lT(i,a),l=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const ur=e=>e.join("/").replace(/\/\/+/g,"/"),hT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Lw=["post","put","patch","delete"];new Set(Lw);const vT=["get",...Lw];new Set(vT);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cs.apply(this,arguments)}const Wd=I.createContext(null),gT=I.createContext(null),oi=I.createContext(null),Fl=I.createContext(null),si=I.createContext({outlet:null,matches:[],isDataRoute:!1}),jw=I.createContext(null);function yT(e,t){let{relative:n}=t===void 0?{}:t;Zs()||xe(!1);let{basename:r,navigator:i}=I.useContext(oi),{hash:o,pathname:s,search:a}=Fw(e,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:ur([r,s])),i.createHref({pathname:u,search:a,hash:o})}function Zs(){return I.useContext(Fl)!=null}function $l(){return Zs()||xe(!1),I.useContext(Fl).location}function Mw(e){I.useContext(oi).static||I.useLayoutEffect(e)}function wT(){let{isDataRoute:e}=I.useContext(si);return e?AT():_T()}function _T(){Zs()||xe(!1);let e=I.useContext(Wd),{basename:t,future:n,navigator:r}=I.useContext(oi),{matches:i}=I.useContext(si),{pathname:o}=$l(),s=JSON.stringify(Dw(i,n.v7_relativeSplatPath)),a=I.useRef(!1);return Mw(()=>{a.current=!0}),I.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let f=Ow(l,JSON.parse(s),o,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ur([t,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[t,r,s,o,e])}function Fw(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=I.useContext(oi),{matches:i}=I.useContext(si),{pathname:o}=$l(),s=JSON.stringify(Dw(i,r.v7_relativeSplatPath));return I.useMemo(()=>Ow(e,JSON.parse(s),o,n==="path"),[e,s,o,n])}function ET(e,t){return ST(e,t)}function ST(e,t,n,r){Zs()||xe(!1);let{navigator:i}=I.useContext(oi),{matches:o}=I.useContext(si),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let l=$l(),c;if(t){var f;let _=typeof t=="string"?So(t):t;u==="/"||(f=_.pathname)!=null&&f.startsWith(u)||xe(!1),c=_}else c=l;let h=c.pathname||"/",d=h;if(u!=="/"){let _=u.replace(/^\//,"").split("/");d="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let m=Qb(e,{pathname:d}),y=IT(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:ur([u,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:ur([u,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return t&&y?I.createElement(Fl.Provider,{value:{location:Cs({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Zn.Pop}},y):y}function xT(){let e=PT(),t=mT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),n?I.createElement("pre",{style:i},n):null,null)}const bT=I.createElement(xT,null);class TT extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?I.createElement(si.Provider,{value:this.props.routeContext},I.createElement(jw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kT(e){let{routeContext:t,match:n,children:r}=e,i=I.useContext(Wd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(si.Provider,{value:t},r)}function IT(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||xe(!1),s=s.slice(0,Math.min(s.length,c+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:h,errors:d}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!d||d[f.route.id]===void 0);if(f.route.lazy||m){u=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,f,h)=>{let d,m=!1,y=null,_=null;n&&(d=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||bT,u&&(l<0&&h===0?(m=!0,_=null):l===h&&(m=!0,_=f.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,h+1)),p=()=>{let g;return d?g=y:m?g=_:f.route.Component?g=I.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=c,I.createElement(kT,{match:f,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?I.createElement(TT,{location:n.location,revalidation:n.revalidation,component:y,error:d,children:p(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):p()},null)}var $w=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($w||{}),Ku=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ku||{});function NT(e){let t=I.useContext(Wd);return t||xe(!1),t}function CT(e){let t=I.useContext(gT);return t||xe(!1),t}function RT(e){let t=I.useContext(si);return t||xe(!1),t}function Uw(e){let t=RT(),n=t.matches[t.matches.length-1];return n.route.id||xe(!1),n.route.id}function PT(){var e;let t=I.useContext(jw),n=CT(Ku.UseRouteError),r=Uw(Ku.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function AT(){let{router:e}=NT($w.UseNavigateStable),t=Uw(Ku.UseNavigateStable),n=I.useRef(!1);return Mw(()=>{n.current=!0}),I.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Cs({fromRouteId:t},o)))},[e,t])}const Nv={};function DT(e,t){Nv[t]||(Nv[t]=!0,console.warn(t))}const Cv=(e,t,n)=>DT(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function OT(e,t){e!=null&&e.v7_startTransition||Cv("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&Cv("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function hh(e){xe(!1)}function LT(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Zn.Pop,navigator:o,static:s=!1,future:a}=e;Zs()&&xe(!1);let u=t.replace(/^\/*/,"/"),l=I.useMemo(()=>({basename:u,navigator:o,static:s,future:Cs({v7_relativeSplatPath:!1},a)}),[u,a,o,s]);typeof r=="string"&&(r=So(r));let{pathname:c="/",search:f="",hash:h="",state:d=null,key:m="default"}=r,y=I.useMemo(()=>{let _=Kd(c,u);return _==null?null:{location:{pathname:_,search:f,hash:h,state:d,key:m},navigationType:i}},[u,c,f,h,d,m,i]);return y==null?null:I.createElement(oi.Provider,{value:l},I.createElement(Fl.Provider,{children:n,value:y}))}function jT(e){let{children:t,location:n}=e;return ET(dh(t),n)}new Promise(()=>{});function dh(e,t){t===void 0&&(t=[]);let n=[];return I.Children.forEach(e,(r,i)=>{if(!I.isValidElement(r))return;let o=[...t,i];if(r.type===I.Fragment){n.push.apply(n,dh(r.props.children,o));return}r.type!==hh&&xe(!1),!r.props.index||!r.props.children||xe(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=dh(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ph.apply(this,arguments)}function MT(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function FT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $T(e,t){return e.button===0&&(!t||t==="_self")&&!FT(e)}const UT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],VT="6";try{window.__reactRouterVersion=VT}catch{}const BT="startTransition",Rv=OS[BT];function zT(e){let{basename:t,children:n,future:r,window:i}=e,o=I.useRef();o.current==null&&(o.current=Kb({window:i,v5Compat:!0}));let s=o.current,[a,u]=I.useState({action:s.action,location:s.location}),{v7_startTransition:l}=r||{},c=I.useCallback(f=>{l&&Rv?Rv(()=>u(f)):u(f)},[u,l]);return I.useLayoutEffect(()=>s.listen(c),[s,c]),I.useEffect(()=>OT(r),[r]),I.createElement(LT,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const qT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KT=I.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:u,to:l,preventScrollReset:c,viewTransition:f}=t,h=MT(t,UT),{basename:d}=I.useContext(oi),m,y=!1;if(typeof l=="string"&&HT.test(l)&&(m=l,qT))try{let g=new URL(window.location.href),E=l.startsWith("//")?new URL(g.protocol+l):new URL(l),T=Kd(E.pathname,d);E.origin===g.origin&&T!=null?l=T+E.search+E.hash:y=!0}catch{}let _=yT(l,{relative:i}),v=WT(l,{replace:s,state:a,target:u,preventScrollReset:c,relative:i,viewTransition:f});function p(g){r&&r(g),g.defaultPrevented||v(g)}return I.createElement("a",ph({},h,{href:m||_,onClick:y||o?r:p,ref:n,target:u}))});var Pv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pv||(Pv={}));var Av;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Av||(Av={}));function WT(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=t===void 0?{}:t,u=wT(),l=$l(),c=Fw(e,{relative:s});return I.useCallback(f=>{if($T(f,n)){f.preventDefault();let h=r!==void 0?r:Hu(l)===Hu(c);u(e,{replace:h,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[l,u,c,r,i,n,e,o,s,a])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Mt=(e,t)=>{const n=I.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:u,...l},c)=>I.createElement("svg",{ref:c,...GT,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${QT(e)}`,a].join(" "),...l},[...t.map(([f,h])=>I.createElement(f,h)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=Mt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=Mt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=Mt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=Mt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=Mt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=Mt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=Mt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=Mt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=Mt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=Mt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=Mt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=Mt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=Mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ok(){const[e,t]=Hi.useState(!1),n=[{href:"#tools",label:"Tools"},{href:"#student-projects",label:"Student Projects"},{href:"#about",label:"About"},{href:"#community",label:"Community"},{href:"#testimonials",label:"Testimonials"},{href:"#contact",label:"Contact"}];return w.jsx("header",{className:"fixed w-full bg-white/80 backdrop-blur-md z-50",children:w.jsxs("nav",{className:"container mx-auto px-6 py-4",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("a",{href:"#",className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-black bg-clip-text text-transparent",children:"Frida Ruh"}),w.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[n.map(r=>w.jsx("a",{href:r.href,className:"text-gray-900 hover:text-primary-600 transition-colors",children:r.label},r.href)),w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("a",{href:"https://github.com/fridaruh",target:"_blank",rel:"noopener noreferrer",className:"text-gray-900 hover:text-primary-600 transition-colors",children:w.jsx(mh,{className:"w-5 h-5"})}),w.jsx("a",{href:"https://linkedin.com/in/fridaruh",target:"_blank",rel:"noopener noreferrer",className:"text-gray-900 hover:text-primary-600 transition-colors",children:w.jsx(vh,{className:"w-5 h-5"})}),w.jsx("a",{href:"https://twitter.com/fridaruh",target:"_blank",rel:"noopener noreferrer",className:"text-gray-900 hover:text-primary-600 transition-colors",children:w.jsx(gh,{className:"w-5 h-5"})})]})]}),w.jsx("button",{className:"md:hidden",onClick:()=>t(!e),children:e?w.jsx(ik,{className:"w-6 h-6"}):w.jsx(tk,{className:"w-6 h-6"})})]}),e&&w.jsx("div",{className:"md:hidden absolute top-full left-0 right-0 bg-white border-t shadow-lg",children:w.jsxs("div",{className:"flex flex-col space-y-4 px-6 py-4",children:[n.map(r=>w.jsx("a",{href:r.href,className:"text-gray-900 hover:text-primary-600 transition-colors",onClick:()=>t(!1),children:r.label},r.href)),w.jsxs("div",{className:"flex items-center space-x-4 pt-2",children:[w.jsx("a",{href:"https://github.com/fridaruh",target:"_blank",rel:"noopener noreferrer",className:"text-gray-900 hover:text-primary-600 transition-colors",children:w.jsx(mh,{className:"w-5 h-5"})}),w.jsx("a",{href:"https://linkedin.com/in/fridaruh",target:"_blank",rel:"noopener noreferrer",className:"text-gray-900 hover:text-primary-600 transition-colors",children:w.jsx(vh,{className:"w-5 h-5"})}),w.jsx("a",{href:"https://twitter.com/fridaruh",target:"_blank",rel:"noopener noreferrer",className:"text-gray-900 hover:text-primary-600 transition-colors",children:w.jsx(gh,{className:"w-5 h-5"})})]})]})})]})})}function sk(){return w.jsx("section",{className:"min-h-screen flex items-center pt-16 bg-gradient-to-br from-primary-50 to-gray-50",children:w.jsx("div",{className:"container mx-auto px-6",children:w.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12",children:[w.jsxs("div",{className:"flex-1 text-center lg:text-left",children:[w.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold leading-tight",children:["Shaping the Future of",w.jsx("span",{className:"block bg-gradient-to-r from-primary-600 to-black bg-clip-text text-transparent",children:"AI & Technology"})]}),w.jsx("p",{className:"mt-6 text-lg text-gray-600 max-w-2xl",children:"Specialist in AI, futures thinking, and advancing opportunities for women in STEM. Building bridges between technology and inclusive innovation."}),w.jsxs("div",{className:"mt-8 flex flex-wrap gap-4 justify-center lg:justify-start",children:[w.jsxs("a",{href:"#projects",className:"px-8 py-3 bg-black text-white rounded-full hover:bg-gray-900 transition-colors flex items-center gap-2",children:["View Projects ",w.jsx(XT,{className:"w-4 h-4"})]}),w.jsx("a",{href:"#contact",className:"px-8 py-3 border-2 border-black text-black rounded-full hover:bg-black hover:text-white transition-colors",children:"Get in Touch"})]})]}),w.jsx("div",{className:"flex-1 relative",children:w.jsxs("div",{className:"w-72 h-72 md:w-96 md:h-96 rounded-full overflow-hidden relative",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-400 to-black opacity-90"}),w.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/galeryproject-8ff43.appspot.com/o/images%2FFrida_Ruh_2.jpeg?alt=media&token=f6fc6e00-c19c-4b4d-92af-1052686f55f2",alt:"Profile",className:"object-cover w-full h-full mix-blend-overlay"})]})})]})})})}const ak=[{title:"AI Model Evaluator",description:"Open-source tool for assessing bias in machine learning models",image:"https://images.unsplash.com/photo-1555949963-aa79dcee981c?auto=format&fit=crop&q=80",tags:["Python","AI","Open Source"],link:"#"},{title:"AI Art Gallery",description:"Interactive platform showcasing AI-generated artwork and LoRA models",image:"https://images.unsplash.com/photo-1547891654-e66ed7ebb968?auto=format&fit=crop&q=80",tags:["AI","Art","Gallery"],link:"/gallery"},{title:"Future Scenarios Generator",description:"Tool for creating and analyzing potential future technology scenarios",image:"https://images.unsplash.com/photo-1507146153580-69a1fe6d8aa1?auto=format&fit=crop&q=80",tags:["Futures","Analysis","JavaScript"],link:"#"}],uk={images:[{title:"AI Art Gallery",image:"https://images.unsplash.com/photo-1547891654-e66ed7ebb968?auto=format&fit=crop&q=80",author:"Maria Gonzlez"},{title:"Neural Networks Visualization",image:"https://images.unsplash.com/photo-1558494949-ef010cbdcc31?auto=format&fit=crop&q=80",author:"John Smith"}],artifacts:[{title:"3D Printed AI Models",image:"https://images.unsplash.com/photo-1581092160562-40aa08e78837?auto=format&fit=crop&q=80",author:"Alex Chen"},{title:"Interactive AI Installation",image:"https://images.unsplash.com/photo-1576633587382-13ddf37b1fc1?auto=format&fit=crop&q=80",author:"Sarah Johnson"}],videos:[{title:"AI Ethics Documentary",image:"https://images.unsplash.com/photo-1579187707643-35646d22b596?auto=format&fit=crop&q=80",author:"Carlos Rivera"},{title:"Machine Learning Tutorial Series",image:"https://images.unsplash.com/photo-1516321497487-e288fb19713f?auto=format&fit=crop&q=80",author:"Emma Wilson"}],music:[{title:"AI Generated Symphony",image:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?auto=format&fit=crop&q=80",author:"David Lee"},{title:"Neural Network Beats",image:"https://images.unsplash.com/photo-1470225620780-dba8ba36b745?auto=format&fit=crop&q=80",author:"Maya Patel"}]};function lk({items:e,title:t,id:n}){return w.jsxs("div",{id:n,className:"container mx-auto px-6",children:[w.jsx("h2",{className:"text-3xl font-bold text-center mb-16",children:t}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((r,i)=>w.jsxs("div",{className:"group relative overflow-hidden rounded-xl shadow-lg hover:shadow-xl transition-shadow",children:[w.jsxs("div",{className:"relative h-64",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/60"}),w.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),w.jsxs("div",{className:"absolute bottom-0 p-6 text-white",children:[w.jsx("h3",{className:"text-xl font-semibold mb-2",children:r.title}),w.jsx("p",{className:"text-sm opacity-90",children:r.description})]})]}),w.jsxs("div",{className:"p-6 bg-white",children:[w.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.tags.map((o,s)=>w.jsx("span",{className:"px-3 py-1 text-sm bg-primary-100 text-black rounded-full",children:o},s))}),r.title==="AI Art Gallery"?w.jsxs(KT,{to:"/gallery",className:"inline-flex items-center text-black hover:text-primary-600 transition-colors",children:["View Gallery ",w.jsx(Dv,{className:"ml-2 w-4 h-4"})]}):w.jsxs("a",{href:r.link,className:"inline-flex items-center text-black hover:text-primary-600 transition-colors",children:["View Project ",w.jsx(Dv,{className:"ml-2 w-4 h-4"})]})]})]},i))})]})}function ck(){const[e,t]=Hi.useState("images"),n=["images","artifacts","videos","music"];return w.jsxs("div",{id:"student-projects",className:"container mx-auto px-6",children:[w.jsx("h2",{className:"text-3xl font-bold text-center mb-16",children:"Projects made by my students"}),w.jsx("div",{className:"flex justify-center space-x-4 mb-8",children:n.map(r=>w.jsx("button",{onClick:()=>t(r),className:`px-6 py-2 rounded-full transition-colors ${e===r?"bg-black text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:r.charAt(0).toUpperCase()+r.slice(1)},r))}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:uk[e].map((r,i)=>w.jsx("div",{className:"group relative overflow-hidden rounded-xl shadow-lg hover:shadow-xl transition-shadow",children:w.jsxs("div",{className:"relative h-80",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/60"}),w.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),w.jsxs("div",{className:"absolute bottom-0 p-6 text-white",children:[w.jsx("h3",{className:"text-xl font-semibold mb-2",children:r.title}),w.jsxs("p",{className:"text-sm opacity-90",children:["By ",r.author]})]})]})},i))})]})}function fk(){return w.jsx("section",{id:"projects",className:"py-20 bg-white",children:w.jsxs("div",{className:"space-y-32",children:[w.jsx(lk,{items:ak,title:"Tools Developed",id:"tools"}),w.jsx(ck,{})]})})}const hk=[{icon:YT,title:"AI Expertise",description:"Specialized in developing ethical AI solutions and frameworks for enterprise applications"},{icon:JT,title:"Future Thinking",description:"Leading research on emerging technologies and their societal impact"},{icon:rk,title:"STEM Advocacy",description:"Passionate about creating opportunities for women in technology and science"}];function dk(){return w.jsx("section",{id:"about",className:"py-20 bg-gradient-to-br from-primary-50 to-gray-50",children:w.jsxs("div",{className:"container mx-auto px-6",children:[w.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-16",children:[w.jsx("h2",{className:"text-3xl font-bold mb-6",children:"About Me"}),w.jsx("p",{className:"text-lg text-gray-600",children:"As a specialist in AI and futures thinking, I'm dedicated to bridging the gap between cutting-edge technology and inclusive innovation. My work focuses on creating ethical AI solutions while advocating for increased representation in STEM fields."})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:hk.map((e,t)=>w.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg hover:shadow-xl transition-shadow",children:[w.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-6",children:w.jsx(e.icon,{className:"w-6 h-6 text-black"})}),w.jsx("h3",{className:"text-xl font-semibold mb-4",children:e.title}),w.jsx("p",{className:"text-gray-600",children:e.description})]},t))})]})})}function pk(){return w.jsx("section",{id:"community",className:"py-12 bg-white",children:w.jsxs("div",{className:"container mx-auto px-6",children:[w.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Join my community"}),w.jsx("div",{className:"max-w-3xl mx-auto",children:w.jsx("iframe",{title:"AI_THE_NEW_SEXY checkout widget",src:"https://nas.io/checkout-widget?communityCode=AI_THE_NEW_SEXY&communitySlug=%2Fai-the-new-sexy-com&buttonText=Se%20uni%C3%B3%20como%20miembro&buttonTextColorHex=%23000&buttonBgColorHex=%23fccb1d&widgetTheme=light&backgroundColorHex=%23fff",width:"100%",height:"320",frameBorder:"0",referrerPolicy:"no-referrer"})})]})})}function mk(){return Hi.useEffect(()=>{const e=document.createElement("script");return e.src="https://widget.senja.io/widget/87e4be60-8890-497a-b019-3f6bb81a6267/platform.js",e.async=!0,document.body.appendChild(e),()=>{document.body.removeChild(e)}},[]),w.jsx("section",{id:"testimonials",className:"py-10 bg-gradient-to-br from-primary-50 to-gray-50",children:w.jsxs("div",{className:"container mx-auto px-6",children:[w.jsx("h2",{className:"text-3xl font-bold text-center mb-16",children:"What People Say"}),w.jsx("div",{className:"senja-embed","data-id":"87e4be60-8890-497a-b019-3f6bb81a6267","data-mode":"shadow","data-lazyload":"false",style:{display:"block"}})]})})}class ea{constructor(t=0,n="Network Error"){this.status=t,this.text=n}}const vk=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},Me={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:vk()},Gd=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},gk=(e,t="https://api.emailjs.com")=>{if(!e)return;const n=Gd(e);Me.publicKey=n.publicKey,Me.blockHeadless=n.blockHeadless,Me.storageProvider=n.storageProvider,Me.blockList=n.blockList,Me.limitRate=n.limitRate,Me.origin=n.origin||t},Vw=async(e,t,n={})=>{const r=await fetch(Me.origin+e,{method:"POST",headers:n,body:t}),i=await r.text(),o=new ea(r.status,i);if(r.ok)return o;throw o},Bw=(e,t,n)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},yk=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},zw=e=>e.webdriver||!e.languages||e.languages.length===0,qw=()=>new ea(451,"Unavailable For Headless Browser"),wk=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},_k=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},Ek=(e,t)=>e instanceof FormData?e.get(t):e[t],Hw=(e,t)=>{if(_k(e))return!1;wk(e.list,e.watchVariable);const n=Ek(t,e.watchVariable);return typeof n!="string"?!1:e.list.includes(n)},Kw=()=>new ea(403,"Forbidden"),Sk=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},xk=async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r},Ww=async(e,t,n)=>{if(!t.throttle||!n)return!1;Sk(t.throttle,t.id);const r=t.id||e;return await xk(r,t.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},Gw=()=>new ea(429,"Too Many Requests"),bk=async(e,t,n,r)=>{const i=Gd(r),o=i.publicKey||Me.publicKey,s=i.blockHeadless||Me.blockHeadless,a=i.storageProvider||Me.storageProvider,u={...Me.blockList,...i.blockList},l={...Me.limitRate,...i.limitRate};return s&&zw(navigator)?Promise.reject(qw()):(Bw(o,e,t),yk(n),n&&Hw(u,n)?Promise.reject(Kw()):await Ww(location.pathname,l,a)?Promise.reject(Gw()):Vw("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:o,service_id:e,template_id:t,template_params:n}),{"Content-type":"application/json"}))},Tk=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},kk=e=>typeof e=="string"?document.querySelector(e):e,Ik=async(e,t,n,r)=>{const i=Gd(r),o=i.publicKey||Me.publicKey,s=i.blockHeadless||Me.blockHeadless,a=Me.storageProvider||i.storageProvider,u={...Me.blockList,...i.blockList},l={...Me.limitRate,...i.limitRate};if(s&&zw(navigator))return Promise.reject(qw());const c=kk(n);Bw(o,e,t),Tk(c);const f=new FormData(c);return Hw(u,f)?Promise.reject(Kw()):await Ww(location.pathname,l,a)?Promise.reject(Gw()):(f.append("lib_version","4.4.1"),f.append("service_id",e),f.append("template_id",t),f.append("user_id",o),Vw("/api/v1.0/email/send-form",f))},Nk={init:gk,send:bk,sendForm:Ik,EmailJSResponseStatus:ea};let Ck={data:""},Rk=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Ck,Pk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ak=/\/\*[^]*?\*\/|  +/g,Ov=/\n+/g,Kn=(e,t)=>{let n="",r="",i="";for(let o in e){let s=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?Kn(s,o):o+"{"+Kn(s,o[1]=="k"?"":t)+"}":typeof s=="object"?r+=Kn(s,t?t.replace(/([^,])+/g,a=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,a):a?a+" "+u:u)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Kn.p?Kn.p(o,s):o+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},gn={},Qw=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Qw(e[n]);return t}return e},Dk=(e,t,n,r,i)=>{let o=Qw(e),s=gn[o]||(gn[o]=(u=>{let l=0,c=11;for(;l<u.length;)c=101*c+u.charCodeAt(l++)>>>0;return"go"+c})(o));if(!gn[s]){let u=o!==e?e:(l=>{let c,f,h=[{}];for(;c=Pk.exec(l.replace(Ak,""));)c[4]?h.shift():c[3]?(f=c[3].replace(Ov," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][c[1]]=c[2].replace(Ov," ").trim();return h[0]})(e);gn[s]=Kn(i?{["@keyframes "+s]:u}:u,n?"":"."+s)}let a=n&&gn.g?gn.g:null;return n&&(gn.g=gn[s]),((u,l,c,f)=>{f?l.data=l.data.replace(f,u):l.data.indexOf(u)===-1&&(l.data=c?u+l.data:l.data+u)})(gn[s],t,r,a),s},Ok=(e,t,n)=>e.reduce((r,i,o)=>{let s=t[o];if(s&&s.call){let a=s(n),u=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=u?"."+u:a&&typeof a=="object"?a.props?"":Kn(a,""):a===!1?"":a}return r+i+(s??"")},"");function Ul(e){let t=this||{},n=e.call?e(t.p):e;return Dk(n.unshift?n.raw?Ok(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,Rk(t.target),t.g,t.o,t.k)}let Xw,yh,wh;Ul.bind({g:1});let An=Ul.bind({k:1});function Lk(e,t,n,r){Kn.p=t,Xw=e,yh=n,wh=r}function yr(e,t){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),u=a.className||i.className;n.p=Object.assign({theme:yh&&yh()},a),n.o=/ *go\d+/.test(u),a.className=Ul.apply(n,r)+(u?" "+u:"");let l=e;return e[0]&&(l=a.as||e,delete a.as),wh&&l[0]&&wh(a),Xw(l,a)}return i}}var jk=e=>typeof e=="function",Wu=(e,t)=>jk(e)?e(t):e,Mk=(()=>{let e=0;return()=>(++e).toString()})(),Yw=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Fk=20,fu=new Map,$k=1e3,Lv=e=>{if(fu.has(e))return;let t=setTimeout(()=>{fu.delete(e),ai({type:4,toastId:e})},$k);fu.set(e,t)},Uk=e=>{let t=fu.get(e);t&&clearTimeout(t)},_h=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Fk)};case 1:return t.toast.id&&Uk(t.toast.id),{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return e.toasts.find(o=>o.id===n.id)?_h(e,{type:1,toast:n}):_h(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?Lv(r):e.toasts.forEach(o=>{Lv(o.id)}),{...e,toasts:e.toasts.map(o=>o.id===r||r===void 0?{...o,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},hu=[],du={toasts:[],pausedAt:void 0},ai=e=>{du=_h(du,e),hu.forEach(t=>{t(du)})},Vk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Bk=(e={})=>{let[t,n]=I.useState(du);I.useEffect(()=>(hu.push(n),()=>{let i=hu.indexOf(n);i>-1&&hu.splice(i,1)}),[t]);let r=t.toasts.map(i=>{var o,s;return{...e,...e[i.type],...i,duration:i.duration||((o=e[i.type])==null?void 0:o.duration)||(e==null?void 0:e.duration)||Vk[i.type],style:{...e.style,...(s=e[i.type])==null?void 0:s.style,...i.style}}});return{...t,toasts:r}},zk=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Mk()}),ta=e=>(t,n)=>{let r=zk(t,e,n);return ai({type:2,toast:r}),r.id},Nt=(e,t)=>ta("blank")(e,t);Nt.error=ta("error");Nt.success=ta("success");Nt.loading=ta("loading");Nt.custom=ta("custom");Nt.dismiss=e=>{ai({type:3,toastId:e})};Nt.remove=e=>ai({type:4,toastId:e});Nt.promise=(e,t,n)=>{let r=Nt.loading(t.loading,{...n,...n==null?void 0:n.loading});return e.then(i=>(Nt.success(Wu(t.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{Nt.error(Wu(t.error,i),{id:r,...n,...n==null?void 0:n.error})}),e};var qk=(e,t)=>{ai({type:1,toast:{id:e,height:t}})},Hk=()=>{ai({type:5,time:Date.now()})},Kk=e=>{let{toasts:t,pausedAt:n}=Bk(e);I.useEffect(()=>{if(n)return;let o=Date.now(),s=t.map(a=>{if(a.duration===1/0)return;let u=(a.duration||0)+a.pauseDuration-(o-a.createdAt);if(u<0){a.visible&&Nt.dismiss(a.id);return}return setTimeout(()=>Nt.dismiss(a.id),u)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[t,n]);let r=I.useCallback(()=>{n&&ai({type:6,time:Date.now()})},[n]),i=I.useCallback((o,s)=>{let{reverseOrder:a=!1,gutter:u=8,defaultPosition:l}=s||{},c=t.filter(d=>(d.position||l)===(o.position||l)&&d.height),f=c.findIndex(d=>d.id===o.id),h=c.filter((d,m)=>m<f&&d.visible).length;return c.filter(d=>d.visible).slice(...a?[h+1]:[0,h]).reduce((d,m)=>d+(m.height||0)+u,0)},[t]);return{toasts:t,handlers:{updateHeight:qk,startPause:Hk,endPause:r,calculateOffset:i}}},Wk=An`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Gk=An`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Qk=An`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Xk=yr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Wk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Gk} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Qk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Yk=An`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Jk=yr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Yk} 1s linear infinite;
`,Zk=An`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,eI=An`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,tI=yr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Zk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${eI} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,nI=yr("div")`
  position: absolute;
`,rI=yr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,iI=An`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,oI=yr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${iI} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,sI=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?I.createElement(oI,null,t):t:n==="blank"?null:I.createElement(rI,null,I.createElement(Jk,{...r}),n!=="loading"&&I.createElement(nI,null,n==="error"?I.createElement(Xk,{...r}):I.createElement(tI,{...r})))},aI=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,uI=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,lI="0%{opacity:0;} 100%{opacity:1;}",cI="0%{opacity:1;} 100%{opacity:0;}",fI=yr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,hI=yr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,dI=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=Yw()?[lI,cI]:[aI(n),uI(n)];return{animation:t?`${An(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${An(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},pI=I.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?dI(e.position||t||"top-center",e.visible):{opacity:0},o=I.createElement(sI,{toast:e}),s=I.createElement(hI,{...e.ariaProps},Wu(e.message,e));return I.createElement(fI,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:o,message:s}):I.createElement(I.Fragment,null,o,s))});Lk(I.createElement);var mI=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let o=I.useCallback(s=>{if(s){let a=()=>{let u=s.getBoundingClientRect().height;r(e,u)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return I.createElement("div",{ref:o,className:t,style:n},i)},vI=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Yw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},gI=Ul`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,$a=16,yI=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:s})=>{let{toasts:a,handlers:u}=Kk(n);return I.createElement("div",{style:{position:"fixed",zIndex:9999,top:$a,left:$a,right:$a,bottom:$a,pointerEvents:"none",...o},className:s,onMouseEnter:u.startPause,onMouseLeave:u.endPause},a.map(l=>{let c=l.position||t,f=u.calculateOffset(l,{reverseOrder:e,gutter:r,defaultPosition:t}),h=vI(c,f);return I.createElement(mI,{id:l.id,key:l.id,onHeightUpdate:u.updateHeight,className:l.visible?gI:"",style:h},l.type==="custom"?Wu(l.message,l):i?i(l):I.createElement(pI,{toast:l,position:c}))}))},jv=Nt;function wI(){const[e,t]=Hi.useState(!1),n=Hi.useRef(null),r=async i=>{if(i.preventDefault(),!!n.current)try{t(!0),await Nk.sendForm("service_xxxxxx","template_xxxxxx",n.current,"public_key_xxxxxx"),jv.success("Message sent successfully!"),n.current.reset()}catch{jv.error("Failed to send message. Please try again.")}finally{t(!1)}};return w.jsxs("section",{id:"contact",className:"py-20 bg-white",children:[w.jsx(yI,{position:"top-right"}),w.jsx("div",{className:"container mx-auto px-6",children:w.jsxs("div",{className:"max-w-4xl mx-auto",children:[w.jsx("h2",{className:"text-3xl font-bold text-center mb-16",children:"Get in Touch"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Contact Information"}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-start space-x-4",children:[w.jsx(ZT,{className:"w-6 h-6 text-black mt-1"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium",children:"Email"}),w.jsx("a",{href:"mailto:i.am@fridaruh.com",className:"text-gray-600 hover:text-primary-600 transition-colors",children:"i.am@fridaruh.com"})]})]}),w.jsxs("div",{className:"flex items-start space-x-4",children:[w.jsx(ek,{className:"w-6 h-6 text-black mt-1"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium",children:"Location"}),w.jsx("p",{className:"text-gray-600",children:"CDMX, MX"})]})]}),w.jsxs("div",{className:"flex items-start space-x-4",children:[w.jsx(nk,{className:"w-6 h-6 text-black mt-1"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium",children:"Phone"}),w.jsx("a",{href:"tel:+525526668910",className:"text-gray-600 hover:text-primary-600 transition-colors",children:"+52 (55) 2666 8910"})]})]})]})]}),w.jsxs("form",{ref:n,onSubmit:r,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"user_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),w.jsx("input",{type:"text",id:"user_name",name:"user_name",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"user_email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),w.jsx("input",{type:"email",id:"user_email",name:"user_email",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),w.jsx("textarea",{id:"message",name:"message",required:!0,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),w.jsx("button",{type:"submit",disabled:e,className:"w-full px-8 py-3 bg-black text-white rounded-lg hover:bg-gray-900 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Sending...":"Send Message"})]})]})]})})]})}function _I(){return w.jsx("footer",{className:"bg-black text-white py-12",children:w.jsxs("div",{className:"container mx-auto px-6",children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[w.jsxs("div",{className:"mb-8 md:mb-0",children:[w.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-primary-400 to-primary-200 bg-clip-text text-transparent",children:"Frida Ruh"}),w.jsx("p",{className:"mt-2 text-gray-400",children:"Shaping the future of AI & Technology"})]}),w.jsxs("div",{className:"flex space-x-6",children:[w.jsx("a",{href:"https://github.com/fridaruh",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary-400 transition-colors",children:w.jsx(mh,{className:"w-6 h-6"})}),w.jsx("a",{href:"https://linkedin.com/in/fridaruh",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary-400 transition-colors",children:w.jsx(vh,{className:"w-6 h-6"})}),w.jsx("a",{href:"https://twitter.com/fridaruh",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary-400 transition-colors",children:w.jsx(gh,{className:"w-6 h-6"})})]})]}),w.jsx("div",{className:"mt-8 pt-8 border-t border-gray-800 text-center text-gray-400 text-sm",children:w.jsxs("p",{children:[" ",new Date().getFullYear()," Frida Ruh. All rights reserved."]})})]})})}var Eh=function(e,t){return Eh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Eh(e,t)};function U(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Eh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Zi=function(){return Zi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Zi.apply(this,arguments)};function b(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(f){s(f)}}function u(c){try{l(r.throw(c))}catch(f){s(f)}}function l(c){c.done?o(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function x(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ef(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ua(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function ue(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jw=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},EI=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=e[n++],s=e[n++],a=e[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{var o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},SI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4,h=(a&15)<<2|l>>6,d=l&63;u||(d=64,s||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Jw(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):EI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length,a=s?n[e.charAt(i)]:0;++i;var u=i<e.length,l=u?n[e.charAt(i)]:64;++i;var c=i<e.length,f=c?n[e.charAt(i)]:64;if(++i,o==null||a==null||l==null||f==null)throw Error();var h=o<<2|a>>4;if(r.push(h),l!==64){var d=a<<4&240|l>>2;if(r.push(d),f!==64){var m=l<<6&192|f;r.push(m)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},xI=function(e){var t=Jw(e);return SI.encodeByteArray(t,!0)},Mv=function(e){return xI(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(e){return Rs(void 0,e)}function Rs(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!TI(r)||(e[r]=Rs(e[r],t[r]));return e}function TI(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kI=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=Zi({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Mv(JSON.stringify(n)),Mv(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function II(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xr())}function e1(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NI(){return typeof self=="object"&&self.self===self}function CI(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function RI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PI(){return Xr().indexOf("Electron/")>=0}function AI(){var e=Xr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function DI(){return Xr().indexOf("MSAppHost/")>=0}function OI(){return!e1()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LI="FirebaseError",t1=function(e){U(t,e);function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=LI,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Qd.prototype.create),o}return t}(Error),Qd=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+t,s=this.errors[t],a=s?jI(s,i):"Error",u=this.serviceName+": "+a+" ("+o+").",l=new t1(o,u,i);return l},e}();function jI(e,t){return e.replace(MI,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var MI=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function FI(e,t){var n=new $I(e,t);return n.subscribe.bind(n)}var $I=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UI(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=tf),o.error===void 0&&(o.error=tf),o.complete===void 0&&(o.complete=tf);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),s},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function UI(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function tf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(e){return e&&e._delegate?e._delegate:e}var na=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VI=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new kI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(zI(t))try{this.getOrInitializeService({instanceIdentifier:Rr})}catch{}try{for(var i=ef(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Ua(o.value,2),a=s[0],u=s[1],l=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:l});u.resolve(c)}catch{}}}catch(f){n={error:f}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Rr),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return b(this,void 0,void 0,function(){var t;return x(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(ue(ue([],Ua(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Ua(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Rr),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Rr),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,o=i===void 0?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=ef(this.instancesDeferred.entries()),l=u.next();!l.done;l=u.next()){var c=Ua(l.value,2),f=c[0],h=c[1],d=this.normalizeInstanceIdentifier(f);s===d&&h.resolve(a)}}catch(m){n={error:m}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return a},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);var s=this.instances.get(i);return s&&t(s,i),function(){o.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,o=this.onInitCallbacks.get(n);if(o)try{for(var s=ef(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,n)}catch{}}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:BI(n),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Rr),this.component?this.component.multipleInstances?t:Rr:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function BI(e){return e===Rr?void 0:e}function zI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qI=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new VI(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Wt(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ir,Xd=[],J;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(J||(J={}));var n1={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},HI=J.INFO,KI=(Ir={},Ir[J.DEBUG]="log",Ir[J.VERBOSE]="log",Ir[J.INFO]="info",Ir[J.WARN]="warn",Ir[J.ERROR]="error",Ir),WI=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),o=KI[t];if(o)console[o].apply(console,Wt(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},r1=function(){function e(t){this.name=t,this._logLevel=HI,this._logHandler=WI,this._userLogHandler=null,Xd.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in J))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?n1[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Wt([this,J.DEBUG],t)),this._logHandler.apply(this,Wt([this,J.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Wt([this,J.VERBOSE],t)),this._logHandler.apply(this,Wt([this,J.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Wt([this,J.INFO],t)),this._logHandler.apply(this,Wt([this,J.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Wt([this,J.WARN],t)),this._logHandler.apply(this,Wt([this,J.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Wt([this,J.ERROR],t)),this._logHandler.apply(this,Wt([this,J.ERROR],t))},e}();function GI(e){Xd.forEach(function(t){t.setLogLevel(e)})}function QI(e,t){for(var n=function(s){var a=null;t&&t.level&&(a=n1[t.level]),e===null?s.userLogHandler=null:s.userLogHandler=function(u,l){for(var c=[],f=2;f<arguments.length;f++)c[f-2]=arguments[f];var h=c.map(function(d){if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(function(d){return d}).join(" ");l>=(a??u.logLevel)&&e({level:J[l].toLowerCase(),message:h,args:c,type:u.name})}},r=0,i=Xd;r<i.length;r++){var o=i[r];n(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn,XI=(Fn={},Fn["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Fn["bad-app-name"]="Illegal App name: '{$appName}",Fn["duplicate-app"]="Firebase App named '{$appName}' already exists",Fn["app-deleted"]="Firebase App named '{$appName}' already deleted",Fn["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Fn["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Fn),_i=new Qd("app","Firebase",XI),i1="@firebase/app",YI="0.6.30",JI="@firebase/analytics",ZI="@firebase/app-check",eN="@firebase/auth",tN="@firebase/database",nN="@firebase/functions",rN="@firebase/installations",iN="@firebase/messaging",oN="@firebase/performance",sN="@firebase/remote-config",aN="@firebase/storage",uN="@firebase/firestore",lN="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,Gu="[DEFAULT]",cN=(Ke={},Ke[i1]="fire-core",Ke[JI]="fire-analytics",Ke[ZI]="fire-app-check",Ke[eN]="fire-auth",Ke[tN]="fire-rtdb",Ke[nN]="fire-fn",Ke[rN]="fire-iid",Ke[iN]="fire-fcm",Ke[oN]="fire-perf",Ke[sN]="fire-rc",Ke[aN]="fire-gcs",Ke[uN]="fire-fst",Ke["fire-js"]="fire-js",Ke[lN]="fire-js-all",Ke);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eo=new r1("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pu=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=bI(t),this.container=new qI(n.name),this._addComponent(new na("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=Gu),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Gu),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){eo.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw _i.create("app-deleted",{appName:this.name_})},e}();pu.prototype.name&&pu.prototype.options||pu.prototype.delete||console.log("dc");var fN="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(e){var t={},n=new Map,r={__esModule:!0,initializeApp:s,app:o,registerVersion:l,setLogLevel:GI,onLog:c,apps:null,SDK_VERSION:fN,INTERNAL:{registerComponent:u,removeApp:i,components:n,useAsService:f}};r.default=r,Object.defineProperty(r,"apps",{get:a});function i(h){delete t[h]}function o(h){if(h=h||Gu,!Fv(t,h))throw _i.create("no-app",{appName:h});return t[h]}o.App=e;function s(h,d){if(d===void 0&&(d={}),typeof d!="object"||d===null){var m=d;d={name:m}}var y=d;y.name===void 0&&(y.name=Gu);var _=y.name;if(typeof _!="string"||!_)throw _i.create("bad-app-name",{appName:String(_)});if(Fv(t,_))throw _i.create("duplicate-app",{appName:_});var v=new e(h,y,r);return t[_]=v,v}function a(){return Object.keys(t).map(function(h){return t[h]})}function u(h){var d=h.name;if(n.has(d))return eo.debug("There were multiple attempts to register component "+d+"."),h.type==="PUBLIC"?r[d]:null;if(n.set(d,h),h.type==="PUBLIC"){var m=function(p){if(p===void 0&&(p=o()),typeof p[d]!="function")throw _i.create("invalid-app-argument",{appName:d});return p[d]()};h.serviceProps!==void 0&&Rs(m,h.serviceProps),r[d]=m,e.prototype[d]=function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];var E=this._getService.bind(this,d);return E.apply(this,h.multipleInstances?p:[])}}for(var y=0,_=Object.keys(t);y<_.length;y++){var v=_[y];t[v]._addComponent(h)}return h.type==="PUBLIC"?r[d]:null}function l(h,d,m){var y,_=(y=cN[h])!==null&&y!==void 0?y:h;m&&(_+="-"+m);var v=_.match(/\s|\//),p=d.match(/\s|\//);if(v||p){var g=['Unable to register library "'+_+'" with version "'+d+'":'];v&&g.push('library name "'+_+'" contains illegal characters (whitespace or "/")'),v&&p&&g.push("and"),p&&g.push('version name "'+d+'" contains illegal characters (whitespace or "/")'),eo.warn(g.join(" "));return}u(new na(_+"-version",function(){return{library:_,version:d}},"VERSION"))}function c(h,d){if(h!==null&&typeof h!="function")throw _i.create("invalid-log-argument");QI(h,d)}function f(h,d){if(d==="serverAuth")return null;var m=d;return m}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(){var e=hN(pu);e.INTERNAL=Zi(Zi({},e.INTERNAL),{createFirebaseNamespace:o1,extendNamespace:t,createSubscribe:FI,ErrorFactory:Qd,deepExtend:Rs});function t(n){Rs(e,n)}return e}var Yd=o1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dN=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(pN(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function pN(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(e,t){e.INTERNAL.registerComponent(new na("platform-logger",function(n){return new dN(n)},"PRIVATE")),e.registerVersion(i1,YI,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(NI()&&self.firebase!==void 0){eo.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var $v=self.firebase.SDK_VERSION;$v&&$v.indexOf("LITE")>=0&&eo.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var vN=Yd.initializeApp;Yd.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e1()&&eo.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),vN.apply(void 0,e)};var rn=Yd;mN(rn);var gN="firebase",s1="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.registerVersion(gN,s1,"app");rn.SDK_VERSION=s1;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Sh=function(e,t){return Sh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Sh(e,t)};function yN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Sh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function a1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var wN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L,Jd=Jd||{},B=wN||self;function Qu(){}function xh(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Vl(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function _N(e){return Object.prototype.hasOwnProperty.call(e,nf)&&e[nf]||(e[nf]=++EN)}var nf="closure_uid_"+(1e9*Math.random()>>>0),EN=0;function SN(e,t,n){return e.call.apply(e.bind,arguments)}function xN(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Ue(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ue=SN:Ue=xN,Ue.apply(null,arguments)}function Va(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function ze(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[i].apply(r,s)}}function wr(){this.s=this.s,this.o=this.o}var bN=0;wr.prototype.s=!1;wr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),bN!=0)&&_N(this)};wr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var u1=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},l1=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function TN(e){e:{for(var t=gC,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function Uv(e){return Array.prototype.concat.apply([],arguments)}function Zd(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Xu(e){return/^[\s\xa0]*$/.test(e)}var Vv=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ot(e,t){return e.indexOf(t)!=-1}function rf(e,t){return e<t?-1:e>t?1:0}var st;e:{var Bv=B.navigator;if(Bv){var zv=Bv.userAgent;if(zv){st=zv;break e}}st=""}function ep(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function c1(e){var t={};for(var n in e)t[n]=e[n];return t}var qv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function f1(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<qv.length;o++)n=qv[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function tp(e){return tp[" "](e),e}tp[" "]=Qu;function kN(e){var t=CN;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var IN=ot(st,"Opera"),to=ot(st,"Trident")||ot(st,"MSIE"),h1=ot(st,"Edge"),bh=h1||to,d1=ot(st,"Gecko")&&!(ot(st.toLowerCase(),"webkit")&&!ot(st,"Edge"))&&!(ot(st,"Trident")||ot(st,"MSIE"))&&!ot(st,"Edge"),NN=ot(st.toLowerCase(),"webkit")&&!ot(st,"Edge");function p1(){var e=B.document;return e?e.documentMode:void 0}var Yu;e:{var of="",sf=function(){var e=st;if(d1)return/rv:([^\);]+)(\)|;)/.exec(e);if(h1)return/Edge\/([\d\.]+)/.exec(e);if(to)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(NN)return/WebKit\/(\S+)/.exec(e);if(IN)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(sf&&(of=sf?sf[1]:""),to){var af=p1();if(af!=null&&af>parseFloat(of)){Yu=String(af);break e}}Yu=of}var CN={};function RN(){return kN(function(){for(var e=0,t=Vv(String(Yu)).split("."),n=Vv("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var o=t[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o[0].length==0&&s[0].length==0)break;e=rf(o[1].length==0?0:parseInt(o[1],10),s[1].length==0?0:parseInt(s[1],10))||rf(o[2].length==0,s[2].length==0)||rf(o[2],s[2]),o=o[3],s=s[3]}while(e==0)}return 0<=e})}var Th;if(B.document&&to){var Hv=p1();Th=Hv||parseInt(Yu,10)||void 0}else Th=void 0;var PN=Th,AN=function(){if(!B.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{B.addEventListener("test",Qu,t),B.removeEventListener("test",Qu,t)}catch{}return e}();function Ye(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ye.prototype.h=function(){this.defaultPrevented=!0};function Ps(e,t){if(Ye.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(d1){e:{try{tp(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:DN[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ps.Z.h.call(this)}}ze(Ps,Ye);var DN={2:"touch",3:"pen",4:"mouse"};Ps.prototype.h=function(){Ps.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Bl="closure_listenable_"+(1e6*Math.random()|0),ON=0;function LN(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ON,this.ca=this.fa=!1}function zl(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ql(e){this.src=e,this.g={},this.h=0}ql.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=Ih(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):(t=new LN(t,this.src,o,!!r,i),t.fa=n,e.push(t)),t};function kh(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=u1(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(zl(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Ih(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}var np="closure_lm_"+(1e6*Math.random()|0),uf={};function m1(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)m1(e,t[o],n,r,i);return null}return n=y1(n),e&&e[Bl]?e.N(t,n,Vl(r)?!!r.capture:!!r,i):jN(e,t,n,!1,r,i)}function jN(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Vl(i)?!!i.capture:!!i,a=ip(e);if(a||(e[np]=a=new ql(e)),n=a.add(t,n,r,s,o),n.proxy)return n;if(r=MN(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)AN||(i=s),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(g1(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function MN(){function e(n){return t.call(e.src,e.listener,n)}var t=FN;return e}function v1(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)v1(e,t[o],n,r,i);else r=Vl(r)?!!r.capture:!!r,n=y1(n),e&&e[Bl]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=Ih(o,n,r,i),-1<n&&(zl(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=ip(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ih(t,n,r,i)),(n=-1<e?t[e]:null)&&rp(n))}function rp(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Bl])kh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(g1(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ip(t))?(kh(n,e),n.h==0&&(n.src=null,t[np]=null)):zl(e)}}}function g1(e){return e in uf?uf[e]:uf[e]="on"+e}function FN(e,t){if(e.ca)e=!0;else{t=new Ps(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&rp(e),e=n.call(r,t)}return e}function ip(e){return e=e[np],e instanceof ql?e:null}var lf="__closure_events_fn_"+(1e9*Math.random()>>>0);function y1(e){return typeof e=="function"?e:(e[lf]||(e[lf]=function(t){return e.handleEvent(t)}),e[lf])}function Oe(){wr.call(this),this.i=new ql(this),this.P=this,this.I=null}ze(Oe,wr);Oe.prototype[Bl]=!0;Oe.prototype.removeEventListener=function(e,t,n,r){v1(this,e,t,n,r)};function Ve(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new Ye(t,e);else if(t instanceof Ye)t.target=t.target||e;else{var i=t;t=new Ye(r,e),f1(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Ba(s,r,!0,t)&&i}if(s=t.g=e,i=Ba(s,r,!0,t)&&i,i=Ba(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=Ba(s,r,!1,t)&&i}Oe.prototype.M=function(){if(Oe.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)zl(n[r]);delete e.g[t],e.h--}}this.I=null};Oe.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Oe.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Ba(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&kh(e.i,s),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var op=B.JSON.stringify;function $N(){var e=_1,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var UN=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=w1.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),w1=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new VN},function(e){return e.reset()}),VN=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function BN(e){B.setTimeout(function(){throw e},0)}function sp(e,t){Nh||zN(),Ch||(Nh(),Ch=!0),_1.add(e,t)}var Nh;function zN(){var e=B.Promise.resolve(void 0);Nh=function(){e.then(qN)}}var Ch=!1,_1=new UN;function qN(){for(var e;e=$N();){try{e.h.call(e.g)}catch(n){BN(n)}var t=w1;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ch=!1}function Hl(e,t){Oe.call(this),this.h=e||1,this.g=t||B,this.j=Ue(this.kb,this),this.l=Date.now()}ze(Hl,Oe);L=Hl.prototype;L.da=!1;L.S=null;L.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ve(this,"tick"),this.da&&(ap(this),this.start()))}};L.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ap(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}L.M=function(){Hl.Z.M.call(this),ap(this),delete this.g};function up(e,t,n){if(typeof e=="function")n&&(e=Ue(e,n));else if(e&&typeof e.handleEvent=="function")e=Ue(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:B.setTimeout(e,t||0)}function E1(e){e.g=up(function(){e.g=null,e.i&&(e.i=!1,E1(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var HN=function(e){yN(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:E1(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(B.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(wr);function As(e){wr.call(this),this.h=e,this.g={}}ze(As,wr);var Kv=[];function S1(e,t,n,r){Array.isArray(n)||(n&&(Kv[0]=n.toString()),n=Kv);for(var i=0;i<n.length;i++){var o=m1(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function x1(e){ep(e.g,function(t,n){this.g.hasOwnProperty(n)&&rp(t)},e),e.g={}}As.prototype.M=function(){As.Z.M.call(this),x1(this)};As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Kl(){this.g=!0}Kl.prototype.Aa=function(){this.g=!1};function KN(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");s=2<=f.length&&f[1]=="type"?s+(c+"="+l+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+s})}function WN(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+s})}function Li(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+QN(e,n)+(r?" "+r:"")})}function GN(e,t){e.info(function(){return"TIMEOUT: "+t})}Kl.prototype.info=function(){};function QN(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return op(n)}catch{return t}}var ui={},Wv=null;function Wl(){return Wv=Wv||new Oe}ui.Ma="serverreachability";function b1(e){Ye.call(this,ui.Ma,e)}ze(b1,Ye);function Ds(e){var t=Wl();Ve(t,new b1(t))}ui.STAT_EVENT="statevent";function T1(e,t){Ye.call(this,ui.STAT_EVENT,e),this.stat=t}ze(T1,Ye);function at(e){var t=Wl();Ve(t,new T1(t,e))}ui.Na="timingevent";function k1(e,t){Ye.call(this,ui.Na,e),this.size=t}ze(k1,Ye);function ra(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return B.setTimeout(function(){e()},t)}var Gl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},I1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function lp(){}lp.prototype.h=null;function Gv(e){return e.h||(e.h=e.i())}function N1(){}var ia={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function cp(){Ye.call(this,"d")}ze(cp,Ye);function fp(){Ye.call(this,"c")}ze(fp,Ye);var Rh;function Ql(){}ze(Ql,lp);Ql.prototype.g=function(){return new XMLHttpRequest};Ql.prototype.i=function(){return{}};Rh=new Ql;function oa(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new As(this),this.P=XN,e=bh?125:void 0,this.W=new Hl(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new C1}function C1(){this.i=null,this.g="",this.h=!1}var XN=45e3,Ph={},Ju={};L=oa.prototype;L.setTimeout=function(e){this.P=e};function Ah(e,t,n){e.K=1,e.v=Yl(Dn(t)),e.s=n,e.U=!0,R1(e,null)}function R1(e,t){e.F=Date.now(),sa(e),e.A=Dn(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),M1(n.h,"t",r),e.C=0,n=e.l.H,e.h=new C1,e.g=r_(e.l,n?t:null,!e.s),0<e.O&&(e.L=new HN(Ue(e.Ia,e,e.g),e.O)),S1(e.V,e.g,"readystatechange",e.gb),t=e.H?c1(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ds(),KN(e.j,e.u,e.A,e.m,e.X,e.s)}L.gb=function(e){e=e.target;var t=this.L;t&&Sn(e)==3?t.l():this.Ia(e)};L.Ia=function(e){try{if(e==this.g)e:{var t=Sn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||bh||this.g&&(this.h.h||this.g.ga()||Jv(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Ds(3):Ds(2)),Xl(this);var i=this.g.ba();this.N=i;t:if(P1(this)){var o=Jv(this.g);e="";var s=o.length,a=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lr(this),os(this);var u="";break t}this.h.i=new B.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=i==200,WN(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xu(l)){var f=l;break t}}f=null}if(i=f)Li(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Dh(this,i);else{this.i=!1,this.o=3,at(12),Lr(this),os(this);break e}}this.U?(A1(this,t,u),bh&&this.i&&t==3&&(S1(this.V,this.W,"tick",this.fb),this.W.start())):(Li(this.j,this.m,u,null),Dh(this,u)),t==4&&Lr(this),this.i&&!this.I&&(t==4?Z1(this.l,this):(this.i=!1,sa(this)))}else i==400&&0<u.indexOf("Unknown SID")?(this.o=3,at(12)):(this.o=0,at(13)),Lr(this),os(this)}}}catch{}finally{}};function P1(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function A1(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=YN(e,n),i==Ju){t==4&&(e.o=4,at(14),r=!1),Li(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Ph){e.o=4,at(15),Li(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Li(e.j,e.m,i,null),Dh(e,i);P1(e)&&i!=Ju&&i!=Ph&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,at(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),_p(t),t.L=!0,at(11))):(Li(e.j,e.m,n,"[Invalid Chunked Response]"),Lr(e),os(e))}L.fb=function(){if(this.g){var e=Sn(this.g),t=this.g.ga();this.C<t.length&&(Xl(this),A1(this,e,t),this.i&&e!=4&&sa(this))}};function YN(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Ju:(n=Number(t.substring(n,r)),isNaN(n)?Ph:(r+=1,r+n>t.length?Ju:(t=t.substr(r,n),e.C=r+n,t)))}L.cancel=function(){this.I=!0,Lr(this)};function sa(e){e.Y=Date.now()+e.P,D1(e,e.P)}function D1(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=ra(Ue(e.eb,e),t)}function Xl(e){e.B&&(B.clearTimeout(e.B),e.B=null)}L.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(GN(this.j,this.A),this.K!=2&&(Ds(),at(17)),Lr(this),this.o=2,os(this)):D1(this,this.Y-e)};function os(e){e.l.G==0||e.I||Z1(e.l,e)}function Lr(e){Xl(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,ap(e.W),x1(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Dh(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Oh(n.i,e))){if(n.I=e.N,!e.J&&Oh(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)nl(n),ec(n);else break e;wp(n),at(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=ra(Ue(n.ab,n),6e3));if(1>=U1(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else jr(n,11)}else if((e.J||n.g==e)&&nl(n),!Xu(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],n.G==2)if(o[0]=="c"){n.J=o[1],n.la=o[2];var s=o[3];s!=null&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];a!=null&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];u!=null&&typeof u=="number"&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;!f.g&&(ot(c,"spdy")||ot(c,"quic")||ot(c,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(pp(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,ce(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var d=e;if(r.oa=n_(r,r.H?r.la:null,r.W),d.J){V1(r.i,d);var m=d,y=r.K;y&&m.setTimeout(y),m.B&&(Xl(m),sa(m)),r.g=d}else Y1(r);0<n.l.length&&tc(n)}else o[0]!="stop"&&o[0]!="close"||jr(n,7);else n.G==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?jr(n,7):yp(n):o[0]!="noop"&&n.j&&n.j.wa(o),n.A=0)}}Ds(4)}catch{}}function JN(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(xh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function hp(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(xh(e)||typeof e=="string")l1(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(xh(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=JN(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function xo(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof xo)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}L=xo.prototype;L.R=function(){dp(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};L.T=function(){return dp(this),this.g.concat()};function dp(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Yr(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],Yr(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}L.get=function(e,t){return Yr(this.h,e)?this.h[e]:t};L.set=function(e,t){Yr(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};L.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};function Yr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var O1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ZN(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Jr(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Jr){this.g=t!==void 0?t:e.g,Zu(this,e.j),this.s=e.s,el(this,e.i),tl(this,e.m),this.l=e.l,t=e.h;var n=new Os;n.i=t.i,t.g&&(n.g=new xo(t.g),n.h=t.h),Qv(this,n),this.o=e.o}else e&&(n=String(e).match(O1))?(this.g=!!t,Zu(this,n[1]||"",!0),this.s=ss(n[2]||""),el(this,n[3]||"",!0),tl(this,n[4]),this.l=ss(n[5]||"",!0),Qv(this,n[6]||"",!0),this.o=ss(n[7]||"")):(this.g=!!t,this.h=new Os(null,this.g))}Jr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Go(t,Xv,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Go(t,Xv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Go(n,n.charAt(0)=="/"?iC:rC,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Go(n,sC)),e.join("")};function Dn(e){return new Jr(e)}function Zu(e,t,n){e.j=n?ss(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function el(e,t,n){e.i=n?ss(t,!0):t}function tl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Qv(e,t,n){t instanceof Os?(e.h=t,aC(e.h,e.g)):(n||(t=Go(t,oC)),e.h=new Os(t,e.g))}function ce(e,t,n){e.h.set(t,n)}function Yl(e){return ce(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function eC(e){return e instanceof Jr?Dn(e):new Jr(e,void 0)}function tC(e,t,n,r){var i=new Jr(null,void 0);return e&&Zu(i,e),t&&el(i,t),n&&tl(i,n),r&&(i.l=r),i}function ss(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Go(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,nC),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function nC(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Xv=/[#\/\?@]/g,rC=/[#\?:]/g,iC=/[#\?]/g,oC=/[#\?@]/g,sC=/#/g;function Os(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _r(e){e.g||(e.g=new xo,e.h=0,e.i&&ZN(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}L=Os.prototype;L.add=function(e,t){_r(this),this.i=null,e=bo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function L1(e,t){_r(e),t=bo(e,t),Yr(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Yr(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&dp(e)))}function j1(e,t){return _r(e),t=bo(e,t),Yr(e.g.h,t)}L.forEach=function(e,t){_r(this),this.g.forEach(function(n,r){l1(n,function(i){e.call(t,i,r,this)},this)},this)};L.T=function(){_r(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n};L.R=function(e){_r(this);var t=[];if(typeof e=="string")j1(this,e)&&(t=Uv(t,this.g.get(bo(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Uv(t,e[n])}return t};L.set=function(e,t){return _r(this),this.i=null,e=bo(this,e),j1(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};L.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function M1(e,t,n){L1(e,t),0<n.length&&(e.i=null,e.g.set(bo(e,t),Zd(n)),e.h+=n.length)}L.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;r[o]!==""&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};function bo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function aC(e,t){t&&!e.j&&(_r(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(L1(this,r),M1(this,i,n))},e)),e.j=t}var uC=function(){function e(t,n){this.h=t,this.g=n}return e}();function F1(e){this.l=e||lC,B.PerformanceNavigationTiming?(e=B.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(B.g&&B.g.Ea&&B.g.Ea()&&B.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var lC=10;function $1(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function U1(e){return e.h?1:e.g?e.g.size:0}function Oh(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function pp(e,t){e.g?e.g.add(t):e.h=t}function V1(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}F1.prototype.cancel=function(){var e,t;if(this.i=B1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=a1(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function B1(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=a1(e.g.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.D)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Zd(e.i)}function mp(){}mp.prototype.stringify=function(e){return B.JSON.stringify(e,void 0)};mp.prototype.parse=function(e){return B.JSON.parse(e,void 0)};function cC(){this.g=new mp}function fC(e,t,n){var r=n||"";try{hp(e,function(i,o){var s=i;Vl(i)&&(s=op(i)),t.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function hC(e,t){var n=new Kl;if(B.Image){var r=new Image;r.onload=Va(za,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Va(za,n,r,"TestLoadImage: error",!1,t),r.onabort=Va(za,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Va(za,n,r,"TestLoadImage: timeout",!1,t),B.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function za(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function aa(e){this.l=e.$b||null,this.j=e.ib||!1}ze(aa,lp);aa.prototype.g=function(){return new Jl(this.l,this.j)};aa.prototype.i=function(e){return function(){return e}}({});function Jl(e,t){Oe.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=vp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ze(Jl,Oe);var vp=0;L=Jl.prototype;L.open=function(e,t){if(this.readyState!=vp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ls(this)};L.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||B).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ua(this)),this.readyState=vp};L.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ls(this)),this.g&&(this.readyState=3,Ls(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof B.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;z1(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function z1(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}L.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ua(this):Ls(this),this.readyState==3&&z1(this)}};L.Ua=function(e){this.g&&(this.response=this.responseText=e,ua(this))};L.Ta=function(e){this.g&&(this.response=e,ua(this))};L.ha=function(){this.g&&ua(this)};function ua(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ls(e)}L.setRequestHeader=function(e,t){this.v.append(e,t)};L.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};L.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Ls(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Jl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var dC=B.JSON.parse;function be(e){Oe.call(this),this.headers=new xo,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=q1,this.K=this.L=!1}ze(be,Oe);var q1="",pC=/^https?$/i,mC=["POST","PUT"];L=be.prototype;L.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Rh.g(),this.C=this.u?Gv(this.u):Gv(Rh),this.g.onreadystatechange=Ue(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){Yv(this,o);return}e=n||"";var i=new xo(this.headers);r&&hp(r,function(o,s){i.set(s,o)}),r=TN(i.T()),n=B.FormData&&e instanceof B.FormData,!(0<=u1(mC,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,s){this.g.setRequestHeader(s,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{W1(this),0<this.B&&((this.K=vC(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ue(this.pa,this)):this.A=up(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Yv(this,o)}};function vC(e){return to&&RN()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function gC(e){return e.toLowerCase()=="content-type"}L.pa=function(){typeof Jd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ve(this,"timeout"),this.abort(8))};function Yv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,H1(e),Zl(e)}function H1(e){e.D||(e.D=!0,Ve(e,"complete"),Ve(e,"error"))}L.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ve(this,"complete"),Ve(this,"abort"),Zl(this))};L.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zl(this,!0)),be.Z.M.call(this)};L.Fa=function(){this.s||(this.F||this.v||this.l?K1(this):this.cb())};L.cb=function(){K1(this)};function K1(e){if(e.h&&typeof Jd<"u"&&(!e.C[1]||Sn(e)!=4||e.ba()!=2)){if(e.v&&Sn(e)==4)up(e.Fa,0,e);else if(Ve(e,"readystatechange"),Sn(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var o=String(e.H).match(O1)[1]||null;if(!o&&B.self&&B.self.location){var s=B.self.location.protocol;o=s.substr(0,s.length-1)}i=!pC.test(o?o.toLowerCase():"")}r=i}if(r)Ve(e,"complete"),Ve(e,"success");else{e.m=6;try{var a=2<Sn(e)?e.g.statusText:""}catch{a=""}e.j=a+" ["+e.ba()+"]",H1(e)}}finally{Zl(e)}}}}function Zl(e,t){if(e.g){W1(e);var n=e.g,r=e.C[0]?Qu:null;e.g=null,e.C=null,t||Ve(e,"ready");try{n.onreadystatechange=r}catch{}}}function W1(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(B.clearTimeout(e.A),e.A=null)}function Sn(e){return e.g?e.g.readyState:0}L.ba=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}};L.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};L.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),dC(t)}};function Jv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case q1:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}L.Da=function(){return this.m};L.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function yC(e){var t="";return ep(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function gp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yC(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ce(e,t,n))}function Bo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function G1(e){this.za=0,this.l=[],this.h=new Kl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Bo("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Bo("baseRetryDelayMs",5e3,e),this.$a=Bo("retryDelaySeedMs",1e4,e),this.Ya=Bo("forwardChannelMaxRetries",2,e),this.ra=Bo("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new F1(e&&e.concurrentRequestLimit),this.Ca=new cC,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}L=G1.prototype;L.ma=8;L.G=1;function yp(e){if(Q1(e),e.G==3){var t=e.V++,n=Dn(e.F);ce(n,"SID",e.J),ce(n,"RID",t),ce(n,"TYPE","terminate"),la(e,n),t=new oa(e,e.h,t,void 0),t.K=2,t.v=Yl(Dn(n)),n=!1,B.navigator&&B.navigator.sendBeacon&&(n=B.navigator.sendBeacon(t.v.toString(),"")),!n&&B.Image&&(new Image().src=t.v,n=!0),n||(t.g=r_(t.l,null),t.g.ea(t.v)),t.F=Date.now(),sa(t)}t_(e)}L.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function ec(e){e.g&&(_p(e),e.g.cancel(),e.g=null)}function Q1(e){ec(e),e.u&&(B.clearTimeout(e.u),e.u=null),nl(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&B.clearTimeout(e.m),e.m=null)}function cf(e,t){e.l.push(new uC(e.Za++,t)),e.G==3&&tc(e)}function tc(e){$1(e.i)||e.m||(e.m=!0,sp(e.Ha,e),e.C=0)}function wC(e,t){return U1(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=ra(Ue(e.Ha,e,t),e_(e,e.C)),e.C++,!0)}L.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new oa(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=c1(n),f1(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var o=this.l[i];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=X1(this,t,r),i=Dn(this.F),ce(i,"RID",e),ce(i,"CVER",22),this.D&&ce(i,"X-HTTP-Session-Id",this.D),la(this,i),this.o&&n&&gp(i,this.o,n),pp(this.i,t),this.Ra&&ce(i,"TYPE","init"),this.ja?(ce(i,"$req",r),ce(i,"SID","null"),t.$=!0,Ah(t,i,null)):Ah(t,i,r),this.G=2}}else this.G==3&&(e?Zv(this,e):this.l.length==0||$1(this.i)||Zv(this))};function Zv(e,t){var n;t?n=t.m:n=e.V++;var r=Dn(e.F);ce(r,"SID",e.J),ce(r,"RID",n),ce(r,"AID",e.U),la(e,r),e.o&&e.s&&gp(r,e.o,e.s),n=new oa(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=X1(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),pp(e.i,n),Ah(n,r,t)}function la(e,t){e.j&&hp({},function(n,r){ce(t,r,n)})}function X1(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ue(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var s=["count="+n];o==-1?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(l-=o,0>l)o=Math.max(0,i[u].h-100),a=!1;else try{fC(c,s,"req"+l+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Y1(e){e.g||e.u||(e.Y=1,sp(e.Ga,e),e.A=0)}function wp(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=ra(Ue(e.Ga,e),e_(e,e.A)),e.A++,!0)}L.Ga=function(){if(this.u=null,J1(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ra(Ue(this.bb,this),e)}};L.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,at(10),ec(this),J1(this))};function _p(e){e.B!=null&&(B.clearTimeout(e.B),e.B=null)}function J1(e){e.g=new oa(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Dn(e.oa);ce(t,"RID","rpc"),ce(t,"SID",e.J),ce(t,"CI",e.N?"0":"1"),ce(t,"AID",e.U),la(e,t),ce(t,"TYPE","xmlhttp"),e.o&&e.s&&gp(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Yl(Dn(t)),n.s=null,n.U=!0,R1(n,e)}L.ab=function(){this.v!=null&&(this.v=null,ec(this),wp(this),at(19))};function nl(e){e.v!=null&&(B.clearTimeout(e.v),e.v=null)}function Z1(e,t){var n=null;if(e.g==t){nl(e),_p(e),e.g=null;var r=2}else if(Oh(e.i,t))n=t.D,V1(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=Wl(),Ve(r,new k1(r,n)),tc(e)}else Y1(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&wC(e,t)||r==2&&wp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:jr(e,5);break;case 4:jr(e,10);break;case 3:jr(e,6);break;default:jr(e,2)}}}function e_(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function jr(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=Ue(e.jb,e);n||(n=new Jr("//www.google.com/images/cleardot.gif"),B.location&&B.location.protocol=="http"||Zu(n,"https"),Yl(n)),hC(n.toString(),r)}else at(2);e.G=0,e.j&&e.j.va(t),t_(e),Q1(e)}L.jb=function(e){e?(this.h.info("Successfully pinged google.com"),at(2)):(this.h.info("Failed to ping google.com"),at(1))};function t_(e){e.G=0,e.I=-1,e.j&&((B1(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Zd(e.l),e.l.length=0),e.j.ua())}function n_(e,t,n){var r=eC(n);if(r.i!="")t&&el(r,t+"."+r.i),tl(r,r.m);else{var i=B.location;r=tC(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&ep(e.aa,function(o,s){ce(r,s,o)}),t=e.D,n=e.sa,t&&n&&ce(r,t,n),ce(r,"VER",e.ma),la(e,r),r}function r_(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new be(new aa({ib:!0})):new be(e.qa),t.L=e.H,t}function i_(){}L=i_.prototype;L.xa=function(){};L.wa=function(){};L.va=function(){};L.ua=function(){};L.Oa=function(){};function rl(){if(to&&!(10<=Number(PN)))throw Error("Environmental error: no available transport.")}rl.prototype.g=function(e,t){return new Ot(e,t)};function Ot(e,t){Oe.call(this),this.g=new G1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Xu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Xu(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new To(this)}ze(Ot,Oe);Ot.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),sp(Ue(e.hb,e,t))),at(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=n_(e,null,e.W),tc(e)};Ot.prototype.close=function(){yp(this.g)};Ot.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,cf(this.g,t)}else this.v?(t={},t.__data__=op(e),cf(this.g,t)):cf(this.g,e)};Ot.prototype.M=function(){this.g.j=null,delete this.j,yp(this.g),delete this.g,Ot.Z.M.call(this)};function o_(e){cp.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}ze(o_,cp);function s_(){fp.call(this),this.status=1}ze(s_,fp);function To(e){this.g=e}ze(To,i_);To.prototype.xa=function(){Ve(this.g,"a")};To.prototype.wa=function(e){Ve(this.g,new o_(e))};To.prototype.va=function(e){Ve(this.g,new s_)};To.prototype.ua=function(){Ve(this.g,"b")};rl.prototype.createWebChannel=rl.prototype.g;Ot.prototype.send=Ot.prototype.u;Ot.prototype.open=Ot.prototype.m;Ot.prototype.close=Ot.prototype.close;Gl.NO_ERROR=0;Gl.TIMEOUT=8;Gl.HTTP_ERROR=6;I1.COMPLETE="complete";N1.EventType=ia;ia.OPEN="a";ia.CLOSE="b";ia.ERROR="c";ia.MESSAGE="d";Oe.prototype.listen=Oe.prototype.N;be.prototype.listenOnce=be.prototype.O;be.prototype.getLastError=be.prototype.La;be.prototype.getLastErrorCode=be.prototype.Da;be.prototype.getStatus=be.prototype.ba;be.prototype.getResponseJson=be.prototype.Qa;be.prototype.getResponseText=be.prototype.ga;be.prototype.send=be.prototype.ea;var _C=function(){return new rl},EC=function(){return Wl()},ff=Gl,SC=I1,xC=ui,eg={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bC=aa,qa=N1,TC=be,kC={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Ct.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},k=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return U(t,e),t}(Error),Zt=new r1("@firebase/firestore");function Lh(){return Zt.logLevel}function P(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Zt.logLevel<=J.DEBUG){var r=t.map(Ep);Zt.debug.apply(Zt,ue(["Firestore (8.10.1): "+e],r))}}function Se(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Zt.logLevel<=J.ERROR){var r=t.map(Ep);Zt.error.apply(Zt,ue(["Firestore (8.10.1): "+e],r))}}function il(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Zt.logLevel<=J.WARN){var r=t.map(Ep);Zt.warn.apply(Zt,ue(["Firestore (8.10.1): "+e],r))}}function Ep(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Se(t),new Error(t)}function V(e,t){e||F()}function D(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a_=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=IC(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length));return r},e}();function Q(e,t){return e<t?-1:e>t?1:0}function no(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function u_(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new k(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new k(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new k(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new k(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Q(this.nanoseconds,t.nanoseconds):Q(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),W=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new wt(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function li(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function l_(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c_=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&F(),r===void 0?r=t.length-n:r>t.length-n&&F(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var o=t.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Z=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],o=0,s=n;o<s.length;o++){var a=s[o];if(a.indexOf("//")>=0)throw new k(S.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");i.push.apply(i,a.split("/").filter(function(u){return u.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(c_),NC=/^[_a-zA-Z][_a-zA-Z0-9]*$/,on=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return NC.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",o=0,s=function(){if(i.length===0)throw new k(S.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},a=!1;o<n.length;){var u=n[o];if(u==="\\"){if(o+1===n.length)throw new k(S.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var l=n[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new k(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=l,o+=2}else u==="`"?(a=!a,o++):u!=="."||a?(i+=u,o++):(s(),o++)}if(s(),a)throw new k(S.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(c_),ro=function(){function e(t){this.fields=t,t.sort(on.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return no(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),_t=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Q(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();_t.EMPTY_BYTE_STRING=new _t("");var CC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(e){if(V(!!e),typeof e=="string"){var t=0,n=CC.exec(e);if(V(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:_e(e.seconds),nanos:_e(e.nanos)}}function _e(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function io(e){return typeof e=="string"?_t.fromBase64String(e):_t.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function f_(e){var t=e.mapValue.fields.__previous_value__;return Sp(t)?f_(t):t}function js(e){var t=dr(e.mapValue.fields.__local_write_time__.timestampValue);return new wt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(e){return e==null}function ol(e){return e===0&&1/e==-1/0}function h_(e){return typeof e=="number"&&Number.isInteger(e)&&!ol(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Z.fromString(t))},e.fromName=function(t){return new e(Z.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Z.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Z.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Z(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Sp(e)?4:10:F()}function mn(e,t){var n=Zr(e);if(n!==Zr(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return js(e).isEqual(js(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=dr(r.timestampValue),s=dr(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return io(r.bytesValue).isEqual(io(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return _e(r.geoPointValue.latitude)===_e(i.geoPointValue.latitude)&&_e(r.geoPointValue.longitude)===_e(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return _e(r.integerValue)===_e(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=_e(r.doubleValue),s=_e(i.doubleValue);return o===s?ol(o)===ol(s):isNaN(o)&&isNaN(s)}return!1}(e,t);case 9:return no(e.arrayValue.values||[],t.arrayValue.values||[],mn);case 10:return function(r,i){var o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(tg(o)!==tg(s))return!1;for(var a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!mn(o[a],s[a])))return!1;return!0}(e,t);default:return F()}}function Ms(e,t){return(e.values||[]).find(function(n){return mn(n,t)})!==void 0}function oo(e,t){var n=Zr(e),r=Zr(t);if(n!==r)return Q(n,r);switch(n){case 0:return 0;case 1:return Q(e.booleanValue,t.booleanValue);case 2:return function(i,o){var s=_e(i.integerValue||i.doubleValue),a=_e(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(e,t);case 3:return ng(e.timestampValue,t.timestampValue);case 4:return ng(js(e),js(t));case 5:return Q(e.stringValue,t.stringValue);case 6:return function(i,o){var s=io(i),a=io(o);return s.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){for(var s=i.split("/"),a=o.split("/"),u=0;u<s.length&&u<a.length;u++){var l=Q(s[u],a[u]);if(l!==0)return l}return Q(s.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){var s=Q(_e(i.latitude),_e(o.latitude));return s!==0?s:Q(_e(i.longitude),_e(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){for(var s=i.values||[],a=o.values||[],u=0;u<s.length&&u<a.length;++u){var l=oo(s[u],a[u]);if(l)return l}return Q(s.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){var s=i.fields||{},a=Object.keys(s),u=o.fields||{},l=Object.keys(u);a.sort(),l.sort();for(var c=0;c<a.length&&c<l.length;++c){var f=Q(a[c],l[c]);if(f!==0)return f;var h=oo(s[a[c]],u[l[c]]);if(h!==0)return h}return Q(a.length,l.length)}(e.mapValue,t.mapValue);default:throw F()}}function ng(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Q(e,t);var n=dr(e),r=dr(t),i=Q(n.seconds,r.seconds);return i!==0?i:Q(n.nanos,r.nanos)}function xp(e){return jh(e)}function jh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=dr(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?io(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,$.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",o=!0,s=0,a=r.values||[];s<a.length;s++)o?o=!1:i+=",",i+=jh(a[s]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",o=!0,s=0,a=Object.keys(r.fields||{}).sort();s<a.length;s++){var u=a[s];o?o=!1:i+=",",i+=u+":"+jh(r.fields[u])}return i+"}"}(e.mapValue):F();var t,n}function sl(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Mh(e){return!!e&&"integerValue"in e}function bp(e){return!!e&&"arrayValue"in e}function rg(e){return!!e&&"nullValue"in e}function ig(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function mu(e){return!!e&&"mapValue"in e}function as(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return li(e.mapValue.fields,function(i,o){return t.mapValue.fields[i]=as(o)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=as(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!mu(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=as(n)},e.prototype.setAll=function(t){var n=this,r=on.emptyPath(),i={},o=[];t.forEach(function(a,u){if(!r.isImmediateParentOf(u)){var l=n.getFieldsMap(r);n.applyChanges(l,i,o),i={},o=[],r=u.popLast()}a?i[u.lastSegment()]=as(a):o.push(u.lastSegment())});var s=this.getFieldsMap(r);this.applyChanges(s,i,o)},e.prototype.delete=function(t){var n=this.field(t.popLast());mu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return mn(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];mu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){li(n,function(a,u){return t[a]=u});for(var i=0,o=r;i<o.length;i++){var s=o[i];delete t[s]}},e.prototype.clone=function(){return new e(as(this.value))},e}();function d_(e){var t=[];return li(e.fields,function(n,r){var i=new on([n]);if(mu(r)){var o=d_(r.mapValue).fields;if(o.length===0)t.push(i);else for(var s=0,a=o;s<a.length;s++){var u=a[s];t.push(i.child(u))}}else t.push(i)}),new ro(t)}var Ze=function(){function e(t,n,r,i,o){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return e.newInvalidDocument=function(t){return new e(t,0,W.min(),kt.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,kt.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,kt.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=kt.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=kt.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),RC=function(e,t,n,r,i,o,s){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(e,t,n,r,i,o,s){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),new RC(e,t,n,r,i,o,s)}function ca(e){var t=D(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+xp(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),ci(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ul(t.startAt)),t.endAt&&(n+="|ub:",n+=ul(t.endAt)),t.h=n}return t.h}function nc(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!FC(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!mn(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ag(e.startAt,t.startAt)&&ag(e.endAt,t.endAt)}function al(e){return $.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Rt=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).field=n,o.op=r,o.value=i,o}return U(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new PC(n,r,i):r==="array-contains"?new OC(n,i):r==="in"?new LC(n,i):r==="not-in"?new jC(n,i):r==="array-contains-any"?new MC(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new AC(n,i):new DC(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(oo(r,this.value)):r!==null&&Zr(this.value)===Zr(r)&&this.m(oo(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return F()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),PC=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,i)||this).key=$.fromName(i.referenceValue),o}return U(t,e),t.prototype.matches=function(n){var r=$.comparator(n.key,this.key);return this.m(r)},t}(Rt),AC=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=p_("in",r),i}return U(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Rt),DC=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=p_("not-in",r),i}return U(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Rt);function p_(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return $.fromName(r.referenceValue)})}var OC=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return U(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return bp(r)&&Ms(r.arrayValue,this.value)},t}(Rt),LC=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return U(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&Ms(this.value.arrayValue,r)},t}(Rt),jC=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return U(t,e),t.prototype.matches=function(n){if(Ms(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!Ms(this.value.arrayValue,r)},t}(Rt),MC=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return U(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!bp(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return Ms(r.value.arrayValue,o)})},t}(Rt),Fs=function(e,t){this.position=e,this.before=t};function ul(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return xp(t)}).join(",")}var zi=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function FC(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function sg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],s=e.position[i];if(r=o.field.isKeyField()?$.comparator($.fromName(s.referenceValue),n.key):oo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function ag(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!mn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ln=function(e,t,n,r,i,o,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function m_(e,t,n,r,i,o,s,a){return new Ln(e,t,n,r,i,o,s,a)}function fa(e){return new Ln(e)}function vu(e){return!ci(e.limit)&&e.limitType==="F"}function ll(e){return!ci(e.limit)&&e.limitType==="L"}function Tp(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function kp(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Ip(e){return e.collectionGroup!==null}function so(e){var t=D(e);if(t.p===null){t.p=[];var n=kp(t),r=Tp(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new zi(n)),t.p.push(new zi(on.keyField(),"asc"));else{for(var i=!1,o=0,s=t.explicitOrderBy;o<s.length;o++){var a=s[o];t.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new zi(on.keyField(),u))}}}return t.p}function vn(e){var t=D(e);if(!t.T)if(t.limitType==="F")t.T=og(t.path,t.collectionGroup,so(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=so(t);r<i.length;r++){var o=i[r],s=o.dir==="desc"?"asc":"desc";n.push(new zi(o.field,s))}var a=t.endAt?new Fs(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Fs(t.startAt.position,!t.startAt.before):null;t.T=og(t.path,t.collectionGroup,n,t.filters,t.limit,a,u)}return t.T}function v_(e,t,n){return new Ln(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ha(e,t){return nc(vn(e),vn(t))&&e.limitType===t.limitType}function g_(e){return ca(vn(e))+"|lt:"+e.limitType}function Fh(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+xp(i.value);var i}).join(", ")+"]"),ci(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+ul(t.startAt)),t.endAt&&(n+=", endAt: "+ul(t.endAt)),"Target("+n+")"}(vn(e))+"; limitType="+e.limitType+")"}function da(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):$.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,o=n.explicitOrderBy;i<o.length;i++){var s=o[i];if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,o=n.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!sg(n.startAt,so(n),r))&&(!n.endAt||!sg(n.endAt,so(n),r))}(e,t)}function y_(e){return function(t,n){for(var r=!1,i=0,o=so(e);i<o.length;i++){var s=o[i],a=$C(s,t,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function $C(e,t,n){var r=e.field.isKeyField()?$.comparator(t.key,n.key):function(i,o,s){var a=o.data.field(i),u=s.data.field(i);return a!==null&&u!==null?oo(a,u):F()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ol(t)?"-0":t}}function __(e){return{integerValue:""+e}}function E_(e,t){return h_(t)?__(t):w_(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rc=function(){this._=void 0};function UC(e,t,n){return e instanceof ao?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof ei?x_(e,t):e instanceof ti?b_(e,t):function(r,i){var o=S_(r,i),s=ug(o)+ug(r.A);return Mh(o)&&Mh(r.A)?__(s):w_(r.R,s)}(e,t)}function VC(e,t,n){return e instanceof ei?x_(e,t):e instanceof ti?b_(e,t):n}function S_(e,t){return e instanceof uo?Mh(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var ao=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t}(rc),ei=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return U(t,e),t}(rc);function x_(e,t){for(var n=T_(t),r=function(s){n.some(function(a){return mn(a,s)})||n.push(s)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ti=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return U(t,e),t}(rc);function b_(e,t){for(var n=T_(t),r=function(s){n=n.filter(function(a){return!mn(a,s)})},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var uo=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return U(t,e),t}(rc);function ug(e){return _e(e.integerValue||e.doubleValue)}function T_(e){return bp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pa=function(e,t){this.field=e,this.transform=t},BC=function(e,t){this.version=e,this.transformResults=t},Xe=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function gu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var ic=function(){};function zC(e,t,n){e instanceof ma?function(r,i,o){var s=r.value.clone(),a=fg(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(e,t,n):e instanceof Er?function(r,i,o){if(gu(r.precondition,i)){var s=fg(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(k_(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(e,t,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function $h(e,t,n){e instanceof ma?function(r,i,o){if(gu(r.precondition,i)){var s=r.value.clone(),a=hg(r.fieldTransforms,o,i);s.setAll(a),i.convertToFoundDocument(cg(i),s).setHasLocalMutations()}}(e,t,n):e instanceof Er?function(r,i,o){if(gu(r.precondition,i)){var s=hg(r.fieldTransforms,o,i),a=i.data;a.setAll(k_(r)),a.setAll(s),i.convertToFoundDocument(cg(i),a).setHasLocalMutations()}}(e,t,n):function(r,i){gu(r.precondition,i)&&i.convertToNoDocument(W.min())}(e,t)}function qC(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],s=t.data.field(o.field),a=S_(o.transform,s||null);a!=null&&(n==null&&(n=kt.empty()),n.set(o.field,a))}return n||null}function lg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&no(n,r,function(i,o){return function(s,a){return s.field.isEqual(a.field)&&function(u,l){return u instanceof ei&&l instanceof ei||u instanceof ti&&l instanceof ti?no(u.elements,l.elements,mn):u instanceof uo&&l instanceof uo?mn(u.A,l.A):u instanceof ao&&l instanceof ao}(s.transform,a.transform)}(i,o)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function cg(e){return e.isFoundDocument()?e.version:W.min()}var ma=function(e){function t(n,r,i,o){o===void 0&&(o=[]);var s=this;return(s=e.call(this)||this).key=n,s.value=r,s.precondition=i,s.fieldTransforms=o,s.type=0,s}return U(t,e),t}(ic),Er=function(e){function t(n,r,i,o,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.data=r,a.fieldMask=i,a.precondition=o,a.fieldTransforms=s,a.type=1,a}return U(t,e),t}(ic);function k_(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function fg(e,t,n){var r=new Map;V(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,VC(s,a,n[i]))}return r}function hg(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,UC(a,u,t))}return r}var we,X,va=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return U(t,e),t}(ic),Np=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return U(t,e),t}(ic),HC=function(e){this.count=e};function I_(e){switch(e){case S.OK:return F();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0;default:return F()}}function N_(e){if(e===void 0)return Se("GRPC error has no .code"),S.UNKNOWN;switch(e){case we.OK:return S.OK;case we.CANCELLED:return S.CANCELLED;case we.UNKNOWN:return S.UNKNOWN;case we.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case we.INTERNAL:return S.INTERNAL;case we.UNAVAILABLE:return S.UNAVAILABLE;case we.UNAUTHENTICATED:return S.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case we.NOT_FOUND:return S.NOT_FOUND;case we.ALREADY_EXISTS:return S.ALREADY_EXISTS;case we.PERMISSION_DENIED:return S.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case we.ABORTED:return S.ABORTED;case we.OUT_OF_RANGE:return S.OUT_OF_RANGE;case we.UNIMPLEMENTED:return S.UNIMPLEMENTED;case we.DATA_LOSS:return S.DATA_LOSS;default:return F()}}(X=we||(we={}))[X.OK=0]="OK",X[X.CANCELLED=1]="CANCELLED",X[X.UNKNOWN=2]="UNKNOWN",X[X.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",X[X.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",X[X.NOT_FOUND=5]="NOT_FOUND",X[X.ALREADY_EXISTS=6]="ALREADY_EXISTS",X[X.PERMISSION_DENIED=7]="PERMISSION_DENIED",X[X.UNAUTHENTICATED=16]="UNAUTHENTICATED",X[X.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",X[X.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",X[X.ABORTED=10]="ABORTED",X[X.OUT_OF_RANGE=11]="OUT_OF_RANGE",X[X.UNIMPLEMENTED=12]="UNIMPLEMENTED",X[X.INTERNAL=13]="INTERNAL",X[X.UNAVAILABLE=14]="UNAVAILABLE",X[X.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et=function(){function e(t,n){this.comparator=t,this.root=n||Wn.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Wn.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Wn.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Ha(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Ha(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ha(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Ha(this.root,t,this.comparator,!0)},e}(),Ha=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Wn=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=o??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,o=r(t,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();var t=this.left.check();if(t!==this.right.check())throw F();return t+(this.isRed()?0:1)},e}();Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1,Wn.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw F()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw F()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw F()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw F()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw F()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,o){return this},e.prototype.insert=function(t,n,r){return new Wn(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce=function(){function e(t){this.comparator=t,this.data=new et(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new dg(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new dg(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),dg=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),KC=new et($.comparator);function en(){return KC}var WC=new et($.comparator);function Uh(){return WC}var GC=new et($.comparator);function QC(){return GC}var XC=new Ce($.comparator);function ie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=XC,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var YC=new Ce(Q);function oc(){return YC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cp=function(){function e(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Rp.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(W.min(),r,oc(),en(),ie())},e}(),Rp=function(){function e(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(_t.EMPTY_BYTE_STRING,n,ie(),ie(),ie())},e}(),yu=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},C_=function(e,t){this.targetId=e,this.V=t},R_=function(e,t,n,r){n===void 0&&(n=_t.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},pg=function(){function e(){this.S=0,this.D=vg(),this.C=_t.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=ie(),n=ie(),r=ie();return this.D.forEach(function(i,o){switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new Rp(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=vg()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),JC=function(){function e(t){this.W=t,this.G=new Map,this.H=en(),this.J=mg(),this.Y=new Ce(Q)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var o=0,s=t.removedTargetIds;o<s.length;o++)i=s[o],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:F()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,o){r.st(o)&&n(o)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var o=i.target;if(al(o))if(r===0){var s=new $(o.path);this.tt(n,s,Ze.newNoDocument(s,W.min()))}else V(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(s,a){var u=n.ot(a);if(u){if(s.current&&al(u.target)){var l=new $(u.target.path);n.H.get(l)!==null||n.at(a,l)||n.tt(a,l,Ze.newNoDocument(l,t))}s.$&&(r.set(a,s.M()),s.L())}});var i=ie();this.J.forEach(function(s,a){var u=!0;a.forEachWhile(function(l){var c=n.ot(l);return!c||c.purpose===2||(u=!1,!1)}),u&&(i=i.add(s))});var o=new Cp(t,r,this.Y,this.H,i);return this.H=en(),this.J=mg(),this.Y=new Ce(Q),o},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new pg,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Ce(Q),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||P("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new pg),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function mg(){return new et($.comparator)}function vg(){return new et($.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZC={asc:"ASCENDING",desc:"DESCENDING"},eR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tR=function(e,t){this.databaseId=e,this.I=t};function $s(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function P_(e,t){return e.I?t.toBase64():t.toUint8Array()}function nR(e,t){return $s(e,t.toTimestamp())}function ut(e){return V(!!e),W.fromTimestamp(function(t){var n=dr(t);return new wt(n.seconds,n.nanos)}(e))}function Pp(e,t){return function(n){return new Z(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function A_(e){var t=Z.fromString(e);return V($_(t)),t}function Us(e,t){return Pp(e.databaseId,t.path)}function Tn(e,t){var n=A_(t);if(n.get(1)!==e.databaseId.projectId)throw new k(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new k(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $(O_(n))}function Vh(e,t){return Pp(e.databaseId,t)}function D_(e){var t=A_(e);return t.length===4?Z.emptyPath():O_(t)}function Vs(e){return new Z(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function O_(e){return V(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function gg(e,t,n){return{name:Us(e,t),fields:n.value.mapValue.fields}}function rR(e,t,n){var r=Tn(e,t.name),i=ut(t.updateTime),o=new kt({mapValue:{fields:t.fields}}),s=Ze.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function cl(e,t){var n;if(t instanceof ma)n={update:gg(e,t.key,t.value)};else if(t instanceof va)n={delete:Us(e,t.key)};else if(t instanceof Er)n={update:gg(e,t.key,t.data),updateMask:uR(t.fieldMask)};else{if(!(t instanceof Np))return F();n={verify:Us(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,o){var s=o.transform;if(s instanceof ao)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof ei)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof ti)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof uo)return{fieldPath:o.field.canonicalString(),increment:s.A};throw F()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:nR(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:F()}(e,t.precondition)),n}function yg(e,t){var n=t.currentDocument?function(l){return l.updateTime!==void 0?Xe.updateTime(ut(l.updateTime)):l.exists!==void 0?Xe.exists(l.exists):Xe.none()}(t.currentDocument):Xe.none(),r=t.updateTransforms?t.updateTransforms.map(function(l){return function(c,f){var h=null;if("setToServerValue"in f)V(f.setToServerValue==="REQUEST_TIME"),h=new ao;else if("appendMissingElements"in f){var d=f.appendMissingElements.values||[];h=new ei(d)}else if("removeAllFromArray"in f){var m=f.removeAllFromArray.values||[];h=new ti(m)}else"increment"in f?h=new uo(c,f.increment):F();var y=on.fromServerFormat(f.fieldPath);return new pa(y,h)}(e,l)}):[];if(t.update){t.update.name;var i=Tn(e,t.update.name),o=new kt({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=function(l){var c=l.fieldPaths||[];return new ro(c.map(function(f){return on.fromServerFormat(f)}))}(t.updateMask);return new Er(i,o,s,n,r)}return new ma(i,o,n,r)}if(t.delete){var a=Tn(e,t.delete);return new va(a,n)}if(t.verify){var u=Tn(e,t.verify);return new Np(u,n)}return F()}function L_(e,t){return{documents:[Vh(e,t.path)]}}function j_(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Vh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Vh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(a){if(a.length!==0){var u=a.map(function(l){return function(c){if(c.op==="=="){if(ig(c.value))return{unaryFilter:{field:gi(c.field),op:"IS_NAN"}};if(rg(c.value))return{unaryFilter:{field:gi(c.field),op:"IS_NULL"}}}else if(c.op==="!="){if(ig(c.value))return{unaryFilter:{field:gi(c.field),op:"IS_NOT_NAN"}};if(rg(c.value))return{unaryFilter:{field:gi(c.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gi(c.field),op:oR(c.op),value:c.value}}}(l)});return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(a){if(a.length!==0)return a.map(function(u){return function(l){return{field:gi(l.field),direction:iR(l.dir)}}(u)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(a,u){return a.I||ci(u)?u:{value:u}}(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=wg(t.startAt)),t.endAt&&(n.structuredQuery.endAt=wg(t.endAt)),n}function M_(e){var t=D_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){V(r===1);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var s=[];n.where&&(s=F_(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(f){return function(h){return new zi(ji(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(f)}));var u=null;n.limit&&(u=function(f){var h;return ci(h=typeof f=="object"?f.value:f)?null:h}(n.limit));var l=null;n.startAt&&(l=_g(n.startAt));var c=null;return n.endAt&&(c=_g(n.endAt)),m_(t,i,a,s,u,"F",l,c)}function F_(e){return e?e.unaryFilter!==void 0?[aR(e)]:e.fieldFilter!==void 0?[sR(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return F_(t)}).reduce(function(t,n){return t.concat(n)}):F():[]}function wg(e){return{before:e.before,values:e.position}}function _g(e){var t=!!e.before,n=e.values||[];return new Fs(n,t)}function iR(e){return ZC[e]}function oR(e){return eR[e]}function gi(e){return{fieldPath:e.canonicalString()}}function ji(e){return on.fromServerFormat(e.fieldPath)}function sR(e){return Rt.create(ji(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return F()}}(e.fieldFilter.op),e.fieldFilter.value)}function aR(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ji(e.unaryFilter.field);return Rt.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ji(e.unaryFilter.field);return Rt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ji(e.unaryFilter.field);return Rt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ji(e.unaryFilter.field);return Rt.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return F()}}function uR(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function $_(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Eg(t)),t=lR(e.get(n),t);return Eg(t)}function lR(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Eg(e){return e+""}function xn(e){var t=e.length;if(V(t>=2),t===2)return V(e.charAt(0)===""&&e.charAt(1)===""),Z.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var s=e.indexOf("",o);switch((s<0||s>n)&&F(),e.charAt(s+1)){case"":var a=e.substring(o,s),u=void 0;i.length===0?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=e.substring(o,s),i+="\0";break;case"":i+=e.substring(o,s+1);break;default:F()}o=s+2}return new Z(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cR=function(e,t){this.seconds=e,this.nanoseconds=t},bt=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};bt.store="owner",bt.key="owner";var lr=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};lr.store="mutationQueues",lr.keyPath="userId";var se=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};se.store="mutations",se.keyPath="batchId",se.userMutationsIndex="userMutationsIndex",se.userMutationsKeyPath=["userId","batchId"];var Ge=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,tn(n)]},e.key=function(t,n,r){return[t,tn(n),r]},e}();Ge.store="documentMutations",Ge.PLACEHOLDER=new Ge;var fR=function(e,t){this.path=e,this.readTime=t},hR=function(e,t){this.path=e,this.version=t},ve=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ve.store="remoteDocuments",ve.readTimeIndex="readTimeIndex",ve.readTimeIndexPath="readTime",ve.collectionReadTimeIndex="collectionReadTimeIndex",ve.collectionReadTimeIndexPath=["parentPath","readTime"];var cn=function(e){this.byteSize=e};cn.store="remoteDocumentGlobal",cn.key="remoteDocumentGlobalKey";var mt=function(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};mt.store="targets",mt.keyPath="targetId",mt.queryTargetsIndexName="queryTargetsIndex",mt.queryTargetsKeyPath=["canonicalId","targetId"];var Fe=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Fe.store="targetDocuments",Fe.keyPath=["targetId","path"],Fe.documentTargetsIndex="documentTargetsIndex",Fe.documentTargetsKeyPath=["path","targetId"];var Tt=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Tt.key="targetGlobalKey",Tt.store="targetGlobal";var Vr=function(e,t){this.collectionId=e,this.parent=t};Vr.store="collectionParents",Vr.keyPath=["collectionId","parent"];var kn=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};kn.store="clientMetadata",kn.keyPath="clientId";var lo=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};lo.store="bundles",lo.keyPath="bundleId";var co=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};co.store="namedQueries",co.keyPath="name";var dR=ue(ue([],ue(ue([],ue(ue([],ue(ue([],[lr.store,se.store,Ge.store,ve.store,mt.store,bt.store,Tt.store,Fe.store]),[kn.store])),[cn.store])),[Vr.store])),[lo.store,co.store]),U_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",V_=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Et=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},C=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,o){r.nextCallback=function(s){r.wrapSuccess(t,s).next(i,o)},r.catchCallback=function(s){r.wrapFailure(n,s).next(i,o)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,o=0,s=!1;t.forEach(function(a){++i,a.next(function(){++o,s&&o===i&&n()},function(u){return r(u)})}),s=!0,o===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(s){n=n.next(function(a){return a?e.resolve(a):s()})},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(o,s){i.push(n.call(r,o,s))}),this.waitFor(i)},e}(),B_=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Et,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new us(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=Ap(i.target.error);r.ft.reject(new us(t,o))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(o){throw new us(n,o)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(P("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new mR(n)},e}(),fo=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Xr())===12.2&&Se("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return P("SimpleDb","Removing database:",t),Pr(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Xr(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var t;return typeof process<"u"&&((t=kC)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return b(this,void 0,void 0,function(){var n,r=this;return x(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(P("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(o,s){var a=indexedDB.open(r.name,r.version);a.onsuccess=function(u){var l=u.target.result;o(l)},a.onblocked=function(){s(new us(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(u){var l=u.target.error;l.name==="VersionError"?s(new k(S.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s(new us(t,l))},a.onupgradeneeded=function(u){P("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',u.oldVersion);var l=u.target.result;r.wt.Rt(l,a.transaction,u.oldVersion,r.version).next(function(){P("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return b(this,void 0,void 0,function(){var o,s,a,u,l;return x(this,function(c){switch(c.label){case 0:o=n==="readonly",s=0,a=function(){var f,h,d,m,y;return x(this,function(_){switch(_.label){case 0:++s,_.label=1;case 1:return _.trys.push([1,4,,5]),[4,u.At(t)];case 2:return u.db=_.sent(),f=B_.open(u.db,t,o?"readonly":"readwrite",r),h=i(f).catch(function(v){return f.abort(v),C.reject(v)}).toPromise(),d={},h.catch(function(){}),[4,f.dt];case 3:return[2,(d.value=(_.sent(),h),d)];case 4:return m=_.sent(),y=m.name!=="FirebaseError"&&s<3,P("SimpleDb","Transaction failed with error:",m.message,"Retrying:",y),u.close(),y?[3,5]:[2,{value:Promise.reject(m)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,a()];case 2:if(typeof(l=c.sent())=="object")return[2,l.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),pR=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Pr(this.Pt.delete())},e}(),us=function(e){function t(n,r){var i=this;return(i=e.call(this,S.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return U(t,e),t}(k);function fi(e){return e.name==="IndexedDbTransactionError"}var mR=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(P("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(P("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Pr(r)},e.prototype.add=function(t){return P("SimpleDb","ADD",this.store.name,t,t),Pr(this.store.add(t))},e.prototype.get=function(t){var n=this;return Pr(this.store.get(t)).next(function(r){return r===void 0&&(r=null),P("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return P("SimpleDb","DELETE",this.store.name,t),Pr(this.store.delete(t))},e.prototype.count=function(){return P("SimpleDb","COUNT",this.store.name),Pr(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(o,s){i.push(s)}).next(function(){return i})},e.prototype.kt=function(t,n){P("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(o,s,a){return a.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new C(function(r,i){n.onerror=function(o){var s=Ap(o.target.error);i(s)},n.onsuccess=function(o){var s=o.target.result;s?t(s.primaryKey,s.value).next(function(a){a?s.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new C(function(i,o){t.onerror=function(s){o(s.target.error)},t.onsuccess=function(s){var a=s.target.result;if(a){var u=new pR(a),l=n(a.primaryKey,a.value,u);if(l instanceof C){var c=l.catch(function(f){return u.done(),C.reject(f)});r.push(c)}u.isDone?i():u.Dt===null?a.continue():a.continue(u.Dt)}else i()}}).next(function(){return C.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Pr(e){return new C(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=Ap(r.target.error);n(i)}})}var Sg=!1;function Ap(e){var t=fo._t(Xr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new k("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Sg||(Sg=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xg=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return U(t,e),t}(V_);function St(e,t){var n=D(e);return fo.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dp=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t.key)&&zC(o,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t.key)&&$h(s,t,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t.key)&&$h(s,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),o=i;n.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(W.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},ie())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&no(this.mutations,t.mutations,function(n,r){return lg(n,r)})&&no(this.baseMutations,t.baseMutations,function(n,r){return lg(n,r)})},e}(),vR=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){V(t.mutations.length===r.length);for(var i=QC(),o=t.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new e(t,n,r,i)},e}(),sc=function(){function e(t,n,r,i,o,s,a){o===void 0&&(o=W.min()),s===void 0&&(s=W.min()),a===void 0&&(a=_t.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),z_=function(e){this.Lt=e};function Bh(e,t){if(t.document)return rR(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=$.fromSegments(t.noDocument.path),r=po(t.noDocument.readTime),i=Ze.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=$.fromSegments(t.unknownDocument.path);return r=po(t.unknownDocument.version),Ze.newUnknownDocument(o,r)}return F()}function bg(e,t,n){var r=Op(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(f,h){return{name:Us(f,h.key),fields:h.data.value.mapValue.fields,updateTime:$s(f,h.version.toTimestamp())}}(e.Lt,t),s=t.hasCommittedMutations;return new ve(null,null,o,s,r,i)}if(t.isNoDocument()){var a=t.key.path.toArray(),u=ho(t.version);return s=t.hasCommittedMutations,new ve(null,new fR(a,u),null,s,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),c=ho(t.version);return new ve(new hR(l,c),null,null,!0,r,i)}return F()}function Op(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function q_(e){var t=new wt(e[0],e[1]);return W.fromTimestamp(t)}function ho(e){var t=e.toTimestamp();return new cR(t.seconds,t.nanoseconds)}function po(e){var t=new wt(e.seconds,e.nanoseconds);return W.fromTimestamp(t)}function Ei(e,t){for(var n=(t.baseMutations||[]).map(function(u){return yg(e.Lt,u)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var s=t.mutations.map(function(u){return yg(e.Lt,u)}),a=wt.fromMillis(t.localWriteTimeMs);return new Dp(t.batchId,a,n,s)}function Qo(e){var t,n,r=po(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?po(e.lastLimboFreeSnapshotVersion):W.min();return e.query.documents!==void 0?(V((n=e.query).documents.length===1),t=vn(fa(D_(n.documents[0])))):t=function(o){return vn(M_(o))}(e.query),new sc(t,e.targetId,0,e.lastListenSequenceNumber,r,i,_t.fromBase64String(e.resumeToken))}function H_(e,t){var n,r=ho(t.snapshotVersion),i=ho(t.lastLimboFreeSnapshotVersion);n=al(t.target)?L_(e.Lt,t.target):j_(e.Lt,t.target);var o=t.resumeToken.toBase64();return new mt(t.targetId,ca(t.target),r,o,t.sequenceNumber,i,n)}function K_(e){var t=M_({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?v_(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gR=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return Tg(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:po(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return Tg(t).put({bundleId:(r=n).id,createTime:ho(ut(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return kg(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:K_(i.bundledQuery),readTime:po(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return kg(t).put(function(r){return{name:r.name,readTime:ho(ut(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function Tg(e){return St(e,lo.store)}function kg(e){return St(e,co.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yR=function(){function e(){this.Bt=new Lp}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),C.resolve()},e.prototype.getCollectionParents=function(t,n){return C.resolve(this.Bt.getEntries(n))},e}(),Lp=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ce(Z.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Ce(Z.comparator)).toArray()},e}(),wR=function(){function e(){this.qt=new Lp}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var s={collectionId:i,parent:tn(o)};return Ig(t).put(s)}return C.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[u_(n),""],!1,!0);return Ig(t).Nt(i).next(function(o){for(var s=0,a=o;s<a.length;s++){var u=a[s];if(u.collectionId!==n)break;r.push(xn(u.parent))}return r})},e}();function Ig(e){return St(e,Vr.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ng={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},un=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(e,t,n){var r=e.store(se.store),i=e.store(Ge.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(m,y,_){return a++,_.delete()});o.push(u.next(function(){V(a===1)}));for(var l=[],c=0,f=n.mutations;c<f.length;c++){var h=f[c],d=Ge.key(t,h.key.path,n.batchId);o.push(i.delete(d)),l.push(h.key)}return C.waitFor(o).next(function(){return l})}function fl(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw F();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(41943040,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);var _R=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return V(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $n(t).$t({index:se.userMutationsIndex,range:r},function(i,o,s){n=!1,s.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var o=this,s=Si(t),a=$n(t);return a.add({}).next(function(u){V(typeof u=="number");for(var l=new Dp(u,n,r,i),c=function(v,p,g){var E=g.baseMutations.map(function(N){return cl(v.Lt,N)}),T=g.mutations.map(function(N){return cl(v.Lt,N)});return new se(p,g.batchId,g.localWriteTime.toMillis(),E,T)}(o.R,o.userId,l),f=[],h=new Ce(function(v,p){return Q(v.canonicalString(),p.canonicalString())}),d=0,m=i;d<m.length;d++){var y=m[d],_=Ge.key(o.userId,y.key.path,u);h=h.add(y.key.path.popLast()),f.push(a.put(c)),f.push(s.put(_,Ge.PLACEHOLDER))}return h.forEach(function(v){f.push(o.Ut.addToCollectionParentIndex(t,v))}),t.addOnCommittedListener(function(){o.Kt[u]=l.keys()}),C.waitFor(f).next(function(){return l})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return $n(t).get(n).next(function(i){return i?(V(i.userId===r.userId),Ei(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?C.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var o=i.keys();return r.Kt[n]=o,o}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),s=null;return $n(t).$t({index:se.userMutationsIndex,range:o},function(a,u,l){u.userId===r.userId&&(V(u.batchId>=i),s=Ei(r.R,u)),l.done()}).next(function(){return s})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return $n(t).$t({index:se.userMutationsIndex,range:n,reverse:!0},function(i,o,s){r=o.batchId,s.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $n(t).Nt(se.userMutationsIndex,r).next(function(i){return i.map(function(o){return Ei(n.R,o)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=Ge.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),s=[];return Si(t).$t({range:o},function(a,u,l){var c=a[0],f=a[1],h=a[2],d=xn(f);if(c===r.userId&&n.path.isEqual(d))return $n(t).get(h).next(function(m){if(!m)throw F();V(m.userId===r.userId),s.push(Ei(r.R,m))});l.done()}).next(function(){return s})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Ce(Q),o=[];return n.forEach(function(s){var a=Ge.prefixForPath(r.userId,s.path),u=IDBKeyRange.lowerBound(a),l=Si(t).$t({range:u},function(c,f,h){var d=c[0],m=c[1],y=c[2],_=xn(m);d===r.userId&&s.path.isEqual(_)?i=i.add(y):h.done()});o.push(l)}),C.waitFor(o).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,o=i.length+1,s=Ge.prefixForPath(this.userId,i),a=IDBKeyRange.lowerBound(s),u=new Ce(Q);return Si(t).$t({range:a},function(l,c,f){var h=l[0],d=l[1],m=l[2],y=xn(d);h===r.userId&&i.isPrefixOf(y)?y.length===o&&(u=u.add(m)):f.done()}).next(function(){return r.Wt(t,u)})},e.prototype.Wt=function(t,n){var r=this,i=[],o=[];return n.forEach(function(s){o.push($n(t).get(s).next(function(a){if(a===null)throw F();V(a.userId===r.userId),i.push(Ei(r.R,a))}))}),C.waitFor(o).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return W_(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),C.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(t,o)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return C.resolve();var i=IDBKeyRange.lowerBound(Ge.prefixForUser(n.userId)),o=[];return Si(t).$t({range:i},function(s,a,u){if(s[0]===n.userId){var l=xn(s[1]);o.push(l)}else u.done()}).next(function(){V(o.length===0)})})},e.prototype.containsKey=function(t,n){return G_(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return Q_(t).get(this.userId).next(function(r){return r||new lr(n.userId,-1,"")})},e}();function G_(e,t,n){var r=Ge.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Si(e).$t({range:o,Ft:!0},function(a,u,l){var c=a[0],f=a[1];a[2],c===t&&f===i&&(s=!0),l.done()}).next(function(){return s})}function $n(e){return St(e,se.store)}function Si(e){return St(e,Ge.store)}function Q_(e){return St(e,lr.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hl=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),ER=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new hl(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return W.fromTimestamp(new wt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(t,o)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return yi(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return V(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,s=[];return yi(t).$t(function(a,u){var l=Qo(u);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(o++,s.push(i.removeTargetData(t,l)))}).next(function(){return C.waitFor(s)}).next(function(){return o})},e.prototype.forEachTarget=function(t,n){return yi(t).$t(function(r,i){var o=Qo(i);n(o)})},e.prototype.Xt=function(t){return Cg(t).get(Tt.key).next(function(n){return V(n!==null),n})},e.prototype.Zt=function(t,n){return Cg(t).put(Tt.key,n)},e.prototype.te=function(t,n){return yi(t).put(H_(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=ca(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return yi(t).$t({range:i,index:mt.queryTargetsIndexName},function(s,a,u){var l=Qo(a);nc(n,l.target)&&(o=l,u.done())}).next(function(){return o})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,o=[],s=Gn(t);return n.forEach(function(a){var u=tn(a.path);o.push(s.put(new Fe(r,u))),o.push(i.referenceDelegate.addReference(t,r,a))}),C.waitFor(o)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,o=Gn(t);return C.forEach(n,function(s){var a=tn(s.path);return C.waitFor([o.delete([r,a]),i.referenceDelegate.removeReference(t,r,s)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Gn(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Gn(t),o=ie();return i.$t({range:r,Ft:!0},function(s,a,u){var l=xn(s[1]),c=new $(l);o=o.add(c)}).next(function(){return o})},e.prototype.containsKey=function(t,n){var r=tn(n.path),i=IDBKeyRange.bound([r],[u_(r)],!1,!0),o=0;return Gn(t).$t({index:Fe.documentTargetsIndex,Ft:!0,range:i},function(s,a,u){var l=s[0];s[1],l!==0&&(o++,u.done())}).next(function(){return o>0})},e.prototype.lt=function(t,n){return yi(t).get(n).next(function(r){return r?Qo(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(e){return St(e,mt.store)}function Cg(e){return St(e,Tt.store)}function Gn(e){return St(e,Fe.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(e){return b(this,void 0,void 0,function(){return x(this,function(t){if(e.code!==S.FAILED_PRECONDITION||e.message!==U_)throw e;return P("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],s=Q(n,i);return s===0?Q(r,o):s}var SR=function(){function e(t){this.ne=t,this.buffer=new Ce(Rg),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();Rg(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),xR=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;P("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return b(n,void 0,void 0,function(){var i;return x(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return fi(i=o.sent())?(P("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,hi(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return o.sent(),[2]}})})})},e}(),bR=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return C.resolve(Ct.o);var i=new SR(n);return this.ae.forEachTarget(t,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ae.le(t,function(o){return i.re(o)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(P("LruGarbageCollector","Garbage collection skipped; disabled"),C.resolve(Ng)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(P("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),Ng):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,o,s,a,u,l,c=this,f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(h){return h>c.params.maximumSequenceNumbersToCollect?(P("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+h),i=c.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),c.nthSequenceNumber(t,i)}).next(function(h){return r=h,a=Date.now(),c.removeTargets(t,r,n)}).next(function(h){return o=h,u=Date.now(),c.removeOrphanedDocuments(t,r)}).next(function(h){return l=Date.now(),Lh()<=J.DEBUG&&P("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(s-f)+`ms
	Determined least recently used `+i+" in "+(a-s)+`ms
	Removed `+o+" targets in "+(u-a)+`ms
	Removed `+h+" documents in "+(l-u)+`ms
Total Duration: `+(l-f)+"ms"),C.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})})},e}(),TR=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new bR(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return Ka(t,r)},e.prototype.removeReference=function(t,n,r){return Ka(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Ka(t,n)},e.prototype._e=function(t,n){return function(r,i){var o=!1;return Q_(r).Ot(function(s){return G_(r,s,i).next(function(a){return a&&(o=!0),C.resolve(!a)})}).next(function(){return o})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],s=0;return this.we(t,function(a,u){if(u<=n){var l=r._e(t,a).next(function(c){if(!c)return s++,i.getEntry(t,a).next(function(){return i.removeEntry(a),Gn(t).delete([0,tn(a.path)])})});o.push(l)}}).next(function(){return C.waitFor(o)}).next(function(){return i.apply(t)}).next(function(){return s})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Ka(t,n)},e.prototype.we=function(t,n){var r,i=Gn(t),o=Ct.o;return i.$t({index:Fe.documentTargetsIndex},function(s,a){var u=s[0];s[1];var l=a.path,c=a.sequenceNumber;u===0?(o!==Ct.o&&n(new $(xn(r)),o),o=c,r=l):o=Ct.o}).next(function(){o!==Ct.o&&n(new $(xn(r)),o)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Ka(e,t){return Gn(e).put(function(n,r){return new Fe(0,tn(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ko=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var s=o[i],a=s[0],u=s[1];if(this.equalsFn(a,t))return u}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){li(this.inner,function(n,r){for(var i=0,o=r;i<o.length;i++){var s=o[i],a=s[0],u=s[1];t(a,u)}})},e.prototype.isEmpty=function(){return l_(this.inner)},e}(),X_=function(){function e(){this.changes=new ko(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:W.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Ze.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?C.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),kR=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return zn(t).put(Wa(n),r)},e.prototype.removeEntry=function(t,n){var r=zn(t),i=Wa(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return zn(t).get(Wa(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return zn(t).get(Wa(n)).next(function(i){return{document:r.ye(n,i),size:fl(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=en();return this.pe(t,n,function(o,s){var a=r.ye(o,s);i=i.insert(o,a)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=en(),o=new et($.comparator);return this.pe(t,n,function(s,a){var u=r.ye(s,a);i=i.insert(s,u),o=o.insert(s,fl(a))}).next(function(){return{documents:i,Te:o}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return C.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),s=o.getNext();return zn(t).$t({range:i},function(a,u,l){for(var c=$.fromSegments(a);s&&$.comparator(s,c)<0;)r(s,null),s=o.getNext();s&&s.isEqual(c)&&(r(s,u),s=o.hasNext()?o.getNext():null),s?l.Ct(s.path.toArray()):l.done()}).next(function(){for(;s;)r(s,null),s=o.hasNext()?o.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,o=en(),s=n.path.length+1,a={};if(r.isEqual(W.min())){var u=n.path.toArray();a.range=IDBKeyRange.lowerBound(u)}else{var l=n.path.toArray(),c=Op(r);a.range=IDBKeyRange.lowerBound([l,c],!0),a.index=ve.collectionReadTimeIndex}return zn(t).$t(a,function(f,h,d){if(f.length===s){var m=Bh(i.R,h);n.path.isPrefixOf(m.key.path)?da(n,m)&&(o=o.insert(m.key,m)):d.done()}}).next(function(){return o})},e.prototype.newChangeBuffer=function(t){return new IR(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return Pg(t).get(cn.key).next(function(n){return V(!!n),n})},e.prototype.me=function(t,n){return Pg(t).put(cn.key,n)},e.prototype.ye=function(t,n){if(n){var r=Bh(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(W.min()))return r}return Ze.newInvalidDocument(t)},e}(),IR=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new ko(function(o){return o.toString()},function(o,s){return o.isEqual(s)}),i}return U(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],o=0,s=new Ce(function(a,u){return Q(a.canonicalString(),u.canonicalString())});return this.changes.forEach(function(a,u){var l=r.Ae.get(a);if(u.document.isValidDocument()){var c=bg(r.Ie.R,u.document,r.getReadTime(a));s=s.add(a.path.popLast());var f=fl(c);o+=f-l,i.push(r.Ie.addEntry(n,a,c))}else if(o-=l,r.trackRemovals){var h=bg(r.Ie.R,Ze.newNoDocument(a,W.min()),r.getReadTime(a));i.push(r.Ie.addEntry(n,a,h))}else i.push(r.Ie.removeEntry(n,a))}),s.forEach(function(a){i.push(r.Ie.Ut.addToCollectionParentIndex(n,a))}),i.push(this.Ie.updateMetadata(n,o)),C.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(o){return i.Ae.set(r,o.size),o.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(o){var s=o.documents;return o.Te.forEach(function(a,u){i.Ae.set(a,u)}),s})},t}(X_);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(e){return St(e,cn.store)}function zn(e){return St(e,ve.store)}function Wa(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NR=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var o=this;V(r<i&&r>=0&&i<=11);var s=new B_("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore(bt.store)}(t),function(u){u.createObjectStore(lr.store,{keyPath:lr.keyPath}),u.createObjectStore(se.store,{keyPath:se.keyPath,autoIncrement:!0}).createIndex(se.userMutationsIndex,se.userMutationsKeyPath,{unique:!0}),u.createObjectStore(Ge.store)}(t),Ag(t),function(u){u.createObjectStore(ve.store)}(t));var a=C.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore(Fe.store),u.deleteObjectStore(mt.store),u.deleteObjectStore(Tt.store)}(t),Ag(t)),a=a.next(function(){return function(u){var l=u.store(Tt.store),c=new Tt(0,0,W.min().toTimestamp(),0);return l.put(Tt.key,c)}(s)})),r<4&&i>=4&&(r!==0&&(a=a.next(function(){return function(u,l){return l.store(se.store).Nt().next(function(c){u.deleteObjectStore(se.store),u.createObjectStore(se.store,{keyPath:se.keyPath,autoIncrement:!0}).createIndex(se.userMutationsIndex,se.userMutationsKeyPath,{unique:!0});var f=l.store(se.store),h=c.map(function(d){return f.put(d)});return C.waitFor(h)})}(t,s)})),a=a.next(function(){(function(u){u.createObjectStore(kn.store,{keyPath:kn.keyPath})})(t)})),r<5&&i>=5&&(a=a.next(function(){return o.Re(s)})),r<6&&i>=6&&(a=a.next(function(){return function(u){u.createObjectStore(cn.store)}(t),o.be(s)})),r<7&&i>=7&&(a=a.next(function(){return o.ve(s)})),r<8&&i>=8&&(a=a.next(function(){return o.Pe(t,s)})),r<9&&i>=9&&(a=a.next(function(){(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(t),function(u){var l=u.objectStore(ve.store);l.createIndex(ve.readTimeIndex,ve.readTimeIndexPath,{unique:!1}),l.createIndex(ve.collectionReadTimeIndex,ve.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(a=a.next(function(){return o.Ve(s)})),r<11&&i>=11&&(a=a.next(function(){(function(u){u.createObjectStore(lo.store,{keyPath:lo.keyPath})})(t),function(u){u.createObjectStore(co.store,{keyPath:co.keyPath})}(t)})),a},e.prototype.be=function(t){var n=0;return t.store(ve.store).$t(function(r,i){n+=fl(i)}).next(function(){var r=new cn(n);return t.store(cn.store).put(cn.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(lr.store),i=t.store(se.store);return r.Nt().next(function(o){return C.forEach(o,function(s){var a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.Nt(se.userMutationsIndex,a).next(function(u){return C.forEach(u,function(l){V(l.userId===s.userId);var c=Ei(n.R,l);return W_(t,s.userId,c).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Fe.store),r=t.store(ve.store);return t.store(Tt.store).get(Tt.key).next(function(i){var o=[];return r.$t(function(s,a){var u=new Z(s),l=function(c){return[0,tn(c)]}(u);o.push(n.get(l).next(function(c){return c?C.resolve():function(f){return n.put(new Fe(0,tn(f),i.highestListenSequenceNumber))}(u)}))}).next(function(){return C.waitFor(o)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Vr.store,{keyPath:Vr.keyPath});var r=n.store(Vr.store),i=new Lp,o=function(s){if(i.add(s)){var a=s.lastSegment(),u=s.popLast();return r.put({collectionId:a,parent:tn(u)})}};return n.store(ve.store).$t({Ft:!0},function(s,a){var u=new Z(s);return o(u.popLast())}).next(function(){return n.store(Ge.store).$t({Ft:!0},function(s,a){s[0];var u=s[1];s[2];var l=xn(u);return o(l.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(mt.store);return r.$t(function(i,o){var s=Qo(o),a=H_(n.R,s);return r.put(a)})},e}();function Ag(e){e.createObjectStore(Fe.store,{keyPath:Fe.keyPath}).createIndex(Fe.documentTargetsIndex,Fe.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(mt.store,{keyPath:mt.keyPath}).createIndex(mt.queryTargetsIndexName,mt.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Tt.store)}var hf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",CR=function(){function e(t,n,r,i,o,s,a,u,l,c){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=l,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(f){return Promise.resolve()},!e.yt())throw new k(S.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new TR(this,i),this.Le=n+"main",this.R=new z_(u),this.Be=new fo(this.Le,11,new NR(this.R)),this.qe=new ER(this.referenceDelegate,this.R),this.Ut=new wR,this.Ue=function(f,h){return new kR(f,h)}(this.R,this.Ut),this.Ke=new gR,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,c===!1&&Se("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new k(S.FAILED_PRECONDITION,hf);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Ct(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return b(n,void 0,void 0,function(){return x(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return b(n,void 0,void 0,function(){return x(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return b(n,void 0,void 0,function(){return x(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Ga(n).put(new kn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(fi(n))return P("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return P("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return zo(t).get(bt.key).next(function(r){return C.resolve(n.tn(r))})},e.prototype.en=function(t){return Ga(t).delete(this.clientId)},e.prototype.nn=function(){return b(this,void 0,void 0,function(){var t,n,r,i,o=this;return x(this,function(s){switch(s.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(a){var u=St(a,kn.store);return u.Nt().next(function(l){var c=o.rn(l,18e5),f=l.filter(function(h){return c.indexOf(h)===-1});return C.forEach(f,function(h){return u.delete(h.clientId)}).next(function(){return f})})}).catch(function(){return[]})]);case 1:if(t=s.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));s.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?C.resolve(!0):zo(t).get(bt.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new k(S.FAILED_PRECONDITION,hf);return!1}}return!(!n.networkEnabled||!n.inForeground)||Ga(t).Nt().next(function(i){return n.rn(i,5e3).find(function(o){if(n.clientId!==o.clientId){var s=!n.networkEnabled&&o.networkEnabled,a=!n.inForeground&&o.inForeground,u=n.networkEnabled===o.networkEnabled;if(s||a&&u)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&P("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return b(this,void 0,void 0,function(){var t=this;return x(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[bt.store,kn.store],function(r){var i=new xg(r,Ct.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Ga(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return _R.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;P("IndexedDbPersistence","Starting transaction:",t);var o,s=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,s,dR,function(a){return o=new xg(a,i.Ne?i.Ne.next():Ct.o),n==="readwrite-primary"?i.Je(o).next(function(u){return!!u||i.Ye(o)}).next(function(u){if(!u)throw Se("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new k(S.FAILED_PRECONDITION,U_);return r(o)}).next(function(u){return i.Ze(o).next(function(){return u})}):i.dn(o).next(function(){return r(o)})}).then(function(a){return o.raiseOnCommittedEvent(),a})},e.prototype.dn=function(t){var n=this;return zo(t).get(bt.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new k(S.FAILED_PRECONDITION,hf)})},e.prototype.Ze=function(t){var n=new bt(this.clientId,this.allowTabSynchronization,Date.now());return zo(t).put(bt.key,n)},e.yt=function(){return fo.yt()},e.prototype.Xe=function(t){var n=this,r=zo(t);return r.get(bt.key).next(function(i){return n.tn(i)?(P("IndexedDbPersistence","Releasing primary lease."),r.delete(bt.key)):C.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Se("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),OI()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return P("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Se("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Se("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function zo(e){return St(e,bt.store)}function Ga(e){return St(e,kn.store)}function jp(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Y_=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var o=0,s=r;o<s.length;o++)s[o].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var o=0,s=n;o<s.length;o++)s[o].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return $.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):Ip(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new $(n)).next(function(r){var i=Uh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,o=n.collectionGroup,s=Uh();return this.Ut.getCollectionParents(t,o).next(function(a){return C.forEach(a,function(u){var l=function(c,f){return new Ln(f,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,u.child(o));return i.An(t,l,r).next(function(c){c.forEach(function(f,h){s=s.insert(f,h)})})}).next(function(){return s})})},e.prototype.An=function(t,n,r){var i,o,s=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(a){return i=a,s._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(a){return o=a,s.Rn(t,o,i).next(function(u){i=u;for(var l=0,c=o;l<c.length;l++)for(var f=c[l],h=0,d=f.mutations;h<d.length;h++){var m=d[h],y=m.key,_=i.get(y);_==null&&(_=Ze.newInvalidDocument(y),i=i.insert(y,_)),$h(m,_,f.localWriteTime),_.isFoundDocument()||(i=i.remove(y))}})}).next(function(){return i.forEach(function(a,u){da(n,u)||(i=i.remove(a))}),i})},e.prototype.Rn=function(t,n,r){for(var i=ie(),o=0,s=n;o<s.length;o++)for(var a=0,u=s[o].mutations;a<u.length;a++){var l=u[a];l instanceof Er&&r.get(l.key)===null&&(i=i.add(l.key))}var c=r;return this.Ue.getEntries(t,i).next(function(f){return f.forEach(function(h,d){d.isFoundDocument()&&(c=c.insert(h,d))}),c})},e}(),RR=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=ie(),i=ie(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),J_=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var o=this;return function(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(W.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(s){var a=o.Cn(n,s);return(vu(n)||ll(n))&&o.Nn(n.limitType,a,i,r)?o.Dn(t,n):(Lh()<=J.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Fh(n)),o.Sn.getDocumentsMatchingQuery(t,n,r).next(function(u){return a.forEach(function(l){u=u.insert(l.key,l)}),u}))})},e.prototype.Cn=function(t,n){var r=new Ce(y_(t));return n.forEach(function(i,o){da(t,o)&&(r=r.add(o))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var o=t==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return Lh()<=J.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",Fh(n)),this.Sn.getDocumentsMatchingQuery(t,n,W.min())},e}(),PR=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new et(Q),this.Fn=new ko(function(o){return ca(o)},nc),this.$n=W.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Y_(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(e,t,n,r){return new PR(e,t,n,r)}function eE(e,t){return b(this,void 0,void 0,function(){var n,r,i,o;return x(this,function(s){switch(s.label){case 0:return n=D(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(a){var u;return n._n.getAllMutationBatches(a).next(function(l){return u=l,r=n.persistence.getMutationQueue(t),i=new Y_(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(a)}).next(function(l){for(var c=[],f=[],h=ie(),d=0,m=u;d<m.length;d++){var y=m[d];c.push(y.batchId);for(var _=0,v=y.mutations;_<v.length;_++){var p=v[_];h=h.add(p.key)}}for(var g=0,E=l;g<E.length;g++){var T=E[g];f.push(T.batchId);for(var N=0,A=T.mutations;N<A.length;N++){var M=A[N];h=h.add(M.key)}}return i.pn(a,h).next(function(q){return{Ln:q,removedBatchIds:c,addedBatchIds:f}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function AR(e,t){var n=D(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),o=n.On.newChangeBuffer({trackRemovals:!0});return function(s,a,u,l){var c=u.batch,f=c.keys(),h=C.resolve();return f.forEach(function(d){h=h.next(function(){return l.getEntry(a,d)}).next(function(m){var y=u.docVersions.get(d);V(y!==null),m.version.compareTo(y)<0&&(c.applyToRemoteDocument(m,u),m.isValidDocument()&&l.addEntry(m,u.commitVersion))})}),h.next(function(){return s._n.removeMutationBatch(a,c)})}(n,r,t,o).next(function(){return o.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function tE(e){var t=D(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function DR(e,t){var n=D(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach(function(c,f){var h=i.get(f);if(h){a.push(n.qe.removeMatchingKeys(o,c.removedDocuments,f).next(function(){return n.qe.addMatchingKeys(o,c.addedDocuments,f)}));var d=c.resumeToken;if(d.approximateByteSize()>0){var m=h.withResumeToken(d,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(f,m),function(y,_,v){return V(_.resumeToken.approximateByteSize()>0),y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,m,c)&&a.push(n.qe.updateTargetData(o,m))}}});var u=en();if(t.documentUpdates.forEach(function(c,f){t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(OR(o,s,t.documentUpdates,r).next(function(c){u=c})),!r.isEqual(W.min())){var l=n.qe.getLastRemoteSnapshotVersion(o).next(function(c){return n.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});a.push(l)}return C.waitFor(a).next(function(){return s.apply(o)}).next(function(){return n.Mn.En(o,u)}).next(function(){return u})}).then(function(o){return n.kn=i,o})}function OR(e,t,n,r,i){var o=ie();return n.forEach(function(s){return o=o.add(s)}),t.getEntries(e,o).next(function(s){var a=en();return n.forEach(function(u,l){var c=s.get(u),f=r;l.isNoDocument()&&l.version.isEqual(W.min())?(t.removeEntry(u,f),a=a.insert(u,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l,f),a=a.insert(u,l)):P("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version)}),a})}function LR(e,t){var n=D(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function dl(e,t){var n=D(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(o){return o?(i=o,C.resolve(i)):n.qe.allocateTargetId(r).next(function(s){return i=new sc(t,s,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function mo(e,t,n){return b(this,void 0,void 0,function(){var r,i,o,s;return x(this,function(a){switch(a.label){case 0:r=D(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(u){return r.persistence.referenceDelegate.removeTarget(u,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!fi(s=a.sent()))throw s;return P("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function pl(e,t,n){var r=D(e),i=W.min(),o=ie();return r.persistence.runTransaction("Execute query","readonly",function(s){return function(a,u,l){var c=D(a),f=c.Fn.get(l);return f!==void 0?C.resolve(c.kn.get(f)):c.qe.getTargetData(u,l)}(r,s,vn(t)).next(function(a){if(a)return i=a.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(s,a.targetId).next(function(u){o=u})}).next(function(){return r.xn.getDocumentsMatchingQuery(s,t,n?i:W.min(),n?o:ie())}).next(function(a){return{documents:a,Bn:o}})})}function nE(e,t){var n=D(e),r=D(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,t).next(function(s){return s?s.target:null})})}function rE(e){var t=D(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,o){var s=D(r),a=en(),u=Op(o),l=zn(i),c=IDBKeyRange.lowerBound(u,!0);return l.$t({index:ve.readTimeIndex,range:c},function(f,h){var d=Bh(s.R,h);a=a.insert(d.key,d),u=h.readTime}).next(function(){return{wn:a,readTime:q_(u)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function jR(e){return b(this,void 0,void 0,function(){var t;return x(this,function(n){return[2,(t=D(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=zn(i),s=W.min();return o.$t({index:ve.readTimeIndex,reverse:!0},function(a,u,l){u.readTime&&(s=q_(u.readTime)),l.done()}).next(function(){return s})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MR=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return C.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:ut(r.createTime)}),C.resolve()},e.prototype.getNamedQuery=function(t,n){return C.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:K_(r.bundledQuery),readTime:ut(r.readTime)}}(n)),C.resolve()},e}(),Mp=function(){function e(){this.Wn=new Ce(Pe.Gn),this.zn=new Ce(Pe.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Pe(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Pe(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new $(new Z([])),i=new Pe(r,t),o=new Pe(r,t+1),s=[];return this.zn.forEachInRange([i,o],function(a){n.Yn(a),s.push(a.key)}),s},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new $(new Z([])),r=new Pe(n,t),i=new Pe(n,t+1),o=ie();return this.zn.forEachInRange([r,i],function(s){o=o.add(s.key)}),o},e.prototype.containsKey=function(t){var n=new Pe(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Pe=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return $.comparator(t.key,n.key)||Q(t.ns,n.ns)},e.Hn=function(t,n){return Q(t.ns,n.ns)||$.comparator(t.key,n.key)},e}(),FR=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Ce(Pe.Gn)}return e.prototype.checkEmpty=function(t){return C.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var s=new Dp(o,n,r,i);this._n.push(s);for(var a=0,u=i;a<u.length;a++){var l=u[a];this.rs=this.rs.add(new Pe(l.key,o)),this.Ut.addToCollectionParentIndex(t,l.key.path.popLast())}return C.resolve(s)},e.prototype.lookupMutationBatch=function(t,n){return C.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),o=i<0?0:i;return C.resolve(this._n.length>o?this._n[o]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return C.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return C.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new Pe(n,0),o=new Pe(n,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([i,o],function(a){var u=r.os(a.ns);s.push(u)}),C.resolve(s)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Ce(Q);return n.forEach(function(o){var s=new Pe(o,0),a=new Pe(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([s,a],function(u){i=i.add(u.ns)})}),C.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,o=r;$.isDocumentKey(o)||(o=o.child(""));var s=new Pe(new $(o),0),a=new Ce(Q);return this.rs.forEachWhile(function(u){var l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.ns)),!0)},s),C.resolve(this.us(a))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var o=n.os(i);o!==null&&r.push(o)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;V(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return C.forEach(n.mutations,function(o){var s=new Pe(o.key,n.batchId);return i=i.delete(s),r.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Pe(n,0),i=this.rs.firstAfterOrEqual(r);return C.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,C.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),$R=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new et($.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,o=this.docs.get(i),s=o?o.size:0,a=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:a,readTime:r}),this.size+=a-s,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return C.resolve(r?r.document.clone():Ze.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=en();return n.forEach(function(o){var s=r.docs.get(o);i=i.insert(o,s?s.document.clone():Ze.newInvalidDocument(o))}),C.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=en(),o=new $(n.path.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var a=s.getNext(),u=a.key,l=a.value,c=l.document,f=l.readTime;if(!n.path.isPrefixOf(u.path))break;f.compareTo(r)<=0||da(n,c)&&(i=i.insert(c.key,c.clone()))}return C.resolve(i)},e.prototype.fs=function(t,n){return C.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new UR(this)},e.prototype.getSize=function(t){return C.resolve(this.size)},e}(),UR=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return U(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(o,s){s.document.isValidDocument()?i.push(r.Ie.addEntry(n,s.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),C.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(X_),VR=function(){function e(t){this.persistence=t,this.ds=new ko(function(n){return ca(n)},nc),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.ws=0,this._s=new Mp,this.targetCount=0,this.ys=hl.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),C.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return C.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return C.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),C.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),C.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new hl(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,C.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),C.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,C.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,s=[];return this.ds.forEach(function(a,u){u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i.ds.delete(a),s.push(i.removeMatchingKeysForTargetId(t,u.targetId)),o++)}),C.waitFor(s).next(function(){return o})},e.prototype.getTargetCount=function(t){return C.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return C.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),C.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(s){o.push(i.markPotentiallyOrphaned(t,s))}),C.waitFor(o)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),C.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return C.resolve(r)},e.prototype.containsKey=function(t,n){return C.resolve(this._s.containsKey(n))},e}(),BR=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Ct(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new VR(this),this.Ut=new yR,this.Ue=function(i,o){return new $R(i,function(s){return r.referenceDelegate.ps(s)})}(this.Ut),this.R=new z_(n),this.Ke=new MR(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new FR(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;P("MemoryPersistence","Starting transaction:",t);var o=new zR(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(s){return i.referenceDelegate.Ts(o).next(function(){return s})}).toPromise().then(function(s){return o.raiseOnCommittedEvent(),s})},e.prototype.Is=function(t,n){return C.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),zR=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return U(t,e),t}(V_),qR=function(){function e(t){this.persistence=t,this.As=new Mp,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw F()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),C.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),C.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),C.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(o){o.forEach(function(s){return r.vs.add(s.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.vs,function(i){var o=$.fromPath(i);return n.Ps(t,o).next(function(s){s||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return C.or([function(){return C.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),je=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(e,t){return"firestore_clients_"+e+"_"+t}function Og(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function df(e,t){return"firestore_targets_"+e+"_"+t}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");var Lg=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),s=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new k(o.error.code,o.error.message)),s?new e(t,n,o.state,i):(Se("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),pf=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new k(i.error.code,i.error.message)),o?new e(t,i.state,r):(Se("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),jg=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=oc(),s=0;i&&s<r.activeTargetIds.length;++s)i=h_(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e(t,o):(Se("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),HR=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Se("SharedClientState","Failed to parse online state: "+t),null)},e}(),zh=function(){function e(){this.activeTargetIds=oc()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),mf=function(){function e(t,n,r,i,o){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new et(Q),this.started=!1,this.$s=[];var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=Dg(this.persistenceKey,this.Ns),this.Ms=function(a){return"firestore_sequence_number_"+a}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new zh),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(a){return"firestore_online_state_"+a}(this.persistenceKey),this.Ks=function(a){return"firestore_bundle_loaded_"+a}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return b(this,void 0,void 0,function(){var t,n,r,i,o,s,a,u,l,c,f,h=this;return x(this,function(d){switch(d.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=d.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(o=this.getItem(Dg(this.persistenceKey,i)))&&(s=jg.Vs(i,o))&&(this.Fs=this.Fs.insert(s.clientId,s));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),l=0,c=this.$s;l<c.length;l++)f=c[l],this.ks(f);return this.$s=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(df(this.persistenceKey,t));if(r){var i=pf.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(df(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(o){i.Hs(o)}),this.currentUser=t,r.forEach(function(o){i.addPendingMutation(o)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return P("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){P("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){P("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(P("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Se("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return b(n,void 0,void 0,function(){var i,o,s,a,u,l;return x(this,function(c){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(s=this.si(r.key,r.newValue)))return[2,this.ii(s)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(a=this.ri(r.key,r.newValue)))return[2,this.oi(a)]}else if(r.key===this.Us){if(r.newValue!==null&&(u=this.js(r.newValue)))return[2,this.Ws(u)]}else if(r.key===this.Ms)(l=function(f){var h=Ct.o;if(f!=null)try{var d=JSON.parse(f);V(typeof d=="number"),h=d}catch(m){Se("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue))!==Ct.o&&this.sequenceNumberHandler(l);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new Lg(this.currentUser,t,n,r),o=Og(this.persistenceKey,this.currentUser,t);this.setItem(o,i.Ss())},e.prototype.Hs=function(t){var n=Og(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=df(this.persistenceKey,t),o=new pf(t,n,r);this.setItem(i,o.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return jg.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Lg.Vs(new je(o),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return pf.Vs(i,n)},e.prototype.js=function(t){return HR.Vs(t)},e.prototype.ii=function(t){return b(this,void 0,void 0,function(){return x(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(P("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),o=this.Gs(this.Fs),s=this.Gs(i),a=[],u=[];return s.forEach(function(l){o.has(l)||a.push(l)}),o.forEach(function(l){s.has(l)||u.push(l)}),this.syncEngine.hi(a,u).then(function(){r.Fs=i})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=oc();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),iE=function(){function e(){this.li=new zh,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new zh,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),KR=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),Mg=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){P("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){P("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),WR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},GR=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),QR=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return U(t,e),t.prototype.Fi=function(n,r,i,o){return new Promise(function(s,a){var u=new TC;u.listenOnce(SC.COMPLETE,function(){try{switch(u.getLastErrorCode()){case ff.NO_ERROR:var c=u.getResponseJson();P("Connection","XHR received:",JSON.stringify(c)),s(c);break;case ff.TIMEOUT:P("Connection",'RPC "'+n+'" timed out'),a(new k(S.DEADLINE_EXCEEDED,"Request time out"));break;case ff.HTTP_ERROR:var f=u.getStatus();if(P("Connection",'RPC "'+n+'" failed with status:',f,"response text:",u.getResponseText()),f>0){var h=u.getResponseJson().error;if(h&&h.status&&h.message){var d=function(m){var y=m.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(y)>=0?y:S.UNKNOWN}(h.status);a(new k(d,h.message))}else a(new k(S.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new k(S.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{P("Connection",'RPC "'+n+'" completed.')}});var l=JSON.stringify(o);u.send(r,"POST",l,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=_C(),s=EC(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new bC({})),this.ki(a.initMessageHeaders,r),II()||RI()||PI()||AI()||DI()||CI()||(a.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");P("Connection","Creating WebChannel: "+u,a);var l=o.createWebChannel(u,a),c=!1,f=!1,h=new GR({Ei:function(m){f?P("Connection","Not sending because WebChannel is closed:",m):(c||(P("Connection","Opening WebChannel transport."),l.open(),c=!0),P("Connection","WebChannel sending:",m),l.send(m))},Ti:function(){return l.close()}}),d=function(m,y,_){m.listen(y,function(v){try{_(v)}catch(p){setTimeout(function(){throw p},0)}})};return d(l,qa.EventType.OPEN,function(){f||P("Connection","WebChannel transport opened.")}),d(l,qa.EventType.CLOSE,function(){f||(f=!0,P("Connection","WebChannel transport closed"),h.Vi())}),d(l,qa.EventType.ERROR,function(m){f||(f=!0,il("Connection","WebChannel transport errored:",m),h.Vi(new k(S.UNAVAILABLE,"The operation could not be completed")))}),d(l,qa.EventType.MESSAGE,function(m){var y;if(!f){var _=m.data[0];V(!!_);var v=_,p=v.error||((y=v[0])===null||y===void 0?void 0:y.error);if(p){P("Connection","WebChannel received error:",p);var g=p.status,E=function(N){var A=we[N];if(A!==void 0)return N_(A)}(g),T=p.message;E===void 0&&(E=S.INTERNAL,T="Unknown error status: "+g+" with message "+p.message),f=!0,h.Vi(new k(E,T)),l.close()}else P("Connection","WebChannel received:",_),h.Si(_)}}),d(s,xC.STAT_EVENT,function(m){m.stat===eg.PROXY?P("Connection","Detected buffering proxy"):m.stat===eg.NOPROXY&&P("Connection","Detected no buffering proxy")}),setTimeout(function(){h.Pi()},0),h},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var o=this.xi(t,n);P("RestConnection","Sending: ",o,r);var s={};return this.ki(s,i),this.Fi(t,o,s,r).then(function(a){return P("RestConnection","Received: ",a),a},function(a){throw il("RestConnection",t+" failed with error: ",a,"url: ",o,"request:",r),a})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=WR[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(){return typeof window<"u"?window:null}function wu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(e){return new tR(e,!0)}var Fp=function(){function e(t,n,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),o=Math.max(0,r-i);o>0&&P("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),sE=function(){function e(t,n,r,i,o,s){this.Se=t,this.zi=r,this.Hi=i,this.Ji=o,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Fp(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return b(this,void 0,void 0,function(){return x(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return b(this,void 0,void 0,function(){return x(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return b(this,void 0,void 0,function(){return x(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===S.RESOURCE_EXHAUSTED?(Se(n.toString()),Se("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===S.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var o=new k(S.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(o)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return b(t,void 0,void 0,function(){return x(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return P("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(P("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),XR=function(e){function t(n,r,i,o,s){var a=this;return(a=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,s)||this).R=o,a}return U(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(o,s){var a;if("targetChange"in s){s.targetChange;var u=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:F()}(s.targetChange.targetChangeType||"NO_CHANGE"),l=s.targetChange.targetIds||[],c=function(_,v){return _.I?(V(v===void 0||typeof v=="string"),_t.fromBase64String(v||"")):(V(v===void 0||v instanceof Uint8Array),_t.fromUint8Array(v||new Uint8Array))}(o,s.targetChange.resumeToken),f=(h=s.targetChange.cause)&&function(_){var v=_.code===void 0?S.UNKNOWN:N_(_.code);return new k(v,_.message||"")}(h);a=new R_(u,l,c,f||null)}else if("documentChange"in s){s.documentChange,(u=s.documentChange).document,u.document.name,u.document.updateTime,l=Tn(o,u.document.name),c=ut(u.document.updateTime);var h=new kt({mapValue:{fields:u.document.fields}}),d=(f=Ze.newFoundDocument(l,c,h),u.targetIds||[]),m=u.removedTargetIds||[];a=new yu(d,m,f.key,f)}else if("documentDelete"in s)s.documentDelete,(u=s.documentDelete).document,l=Tn(o,u.document),c=u.readTime?ut(u.readTime):W.min(),h=Ze.newNoDocument(l,c),f=u.removedTargetIds||[],a=new yu([],f,h.key,h);else if("documentRemove"in s)s.documentRemove,(u=s.documentRemove).document,l=Tn(o,u.document),c=u.removedTargetIds||[],a=new yu([],c,l,null);else{if(!("filter"in s))return F();s.filter;var y=s.filter;y.targetId,u=y.count||0,l=new HC(u),c=y.targetId,a=new C_(c,l)}return a}(this.R,n),i=function(o){if(!("targetChange"in o))return W.min();var s=o.targetChange;return s.targetIds&&s.targetIds.length?W.min():s.readTime?ut(s.readTime):W.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=Vs(this.R),r.addTarget=function(o,s){var a,u=s.target;return(a=al(u)?{documents:L_(o,u)}:{query:j_(o,u)}).targetId=s.targetId,s.resumeToken.approximateByteSize()>0?a.resumeToken=P_(o,s.resumeToken):s.snapshotVersion.compareTo(W.min())>0&&(a.readTime=$s(o,s.snapshotVersion.toTimestamp())),a}(this.R,n);var i=function(o,s){var a=function(u,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return F()}}(0,s.purpose);return a==null?null:{"goog-listen-tags":a}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=Vs(this.R),r.removeTarget=n,this.cr(r)},t}(sE),YR=function(e){function t(n,r,i,o,s){var a=this;return(a=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,s)||this).R=o,a.gr=!1,a}return U(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(V(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(o,s){return o&&o.length>0?(V(s!==void 0),o.map(function(a){return function(u,l){var c=u.updateTime?ut(u.updateTime):ut(l);return c.isEqual(W.min())&&(c=ut(l)),new BC(c,u.transformResults||[])}(a,s)})):[]}(n.writeResults,n.commitTime),i=ut(n.commitTime);return this.listener.Tr(i,r)}return V(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Vs(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(o){return cl(r.R,o)})};this.cr(i)},t}(sE),JR=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return U(t,e),t.prototype.br=function(){if(this.Rr)throw new k(S.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.Ni(n,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===S.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new k(S.UNKNOWN,s.toString())})},t.prototype.$i=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.$i(n,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===S.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new k(S.UNKNOWN,s.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),ZR=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Se(n),this.Vr=!1):P("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),eP=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(s){n.enqueueAndForget(function(){return b(o,void 0,void 0,function(){return x(this,function(a){switch(a.label){case 0:return Sr(this)?(P("RemoteStore","Restarting streams for network reachability change."),[4,function(u){return b(this,void 0,void 0,function(){var l;return x(this,function(c){switch(c.label){case 0:return(l=D(u)).Or.add(4),[4,Io(l)];case 1:return c.sent(),l.Br.set("Unknown"),l.Or.delete(4),[4,ga(l)];case 2:return c.sent(),[2]}})})}(this)]):[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})})}),this.Br=new ZR(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(e){return b(this,void 0,void 0,function(){var t,n;return x(this,function(r){switch(r.label){case 0:if(!Sr(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Io(e){return b(this,void 0,void 0,function(){var t,n;return x(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function uc(e,t){var n=D(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Vp(n)?Up(n):Co(n).er()&&$p(n,t))}function Bs(e,t){var n=D(e),r=Co(n);n.$r.delete(t),r.er()&&aE(n,t),n.$r.size===0&&(r.er()?r.ir():Sr(n)&&n.Br.set("Unknown"))}function $p(e,t){e.qr.U(t.targetId),Co(e).mr(t)}function aE(e,t){e.qr.U(t),Co(e).yr(t)}function Up(e){e.qr=new JC({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Co(e).start(),e.Br.Sr()}function Vp(e){return Sr(e)&&!Co(e).tr()&&e.$r.size>0}function Sr(e){return D(e).Or.size===0}function uE(e){e.qr=void 0}function tP(e){return b(this,void 0,void 0,function(){return x(this,function(t){return e.$r.forEach(function(n,r){$p(e,n)}),[2]})})}function nP(e,t){return b(this,void 0,void 0,function(){return x(this,function(n){return uE(e),Vp(e)?(e.Br.Nr(t),Up(e)):e.Br.set("Unknown"),[2]})})}function rP(e,t,n){return b(this,void 0,void 0,function(){var r,i,o;return x(this,function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof R_&&t.state===2&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(a,u){return b(this,void 0,void 0,function(){var l,c,f,h;return x(this,function(d){switch(d.label){case 0:l=u.cause,c=0,f=u.targetIds,d.label=1;case 1:return c<f.length?(h=f[c],a.$r.has(h)?[4,a.remoteSyncer.rejectListen(h,l)]:[3,3]):[3,5];case 2:d.sent(),a.$r.delete(h),a.qr.removeTarget(h),d.label=3;case 3:d.label=4;case 4:return c++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),P("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,ml(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof yu?e.qr.X(t):t instanceof C_?e.qr.rt(t):e.qr.et(t),n.isEqual(W.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,tE(e.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(a,u){var l=a.qr.ut(u);return l.targetChanges.forEach(function(c,f){if(c.resumeToken.approximateByteSize()>0){var h=a.$r.get(f);h&&a.$r.set(f,h.withResumeToken(c.resumeToken,u))}}),l.targetMismatches.forEach(function(c){var f=a.$r.get(c);if(f){a.$r.set(c,f.withResumeToken(_t.EMPTY_BYTE_STRING,f.snapshotVersion)),aE(a,c);var h=new sc(f.target,c,1,f.sequenceNumber);$p(a,h)}}),a.remoteSyncer.applyRemoteEvent(l)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return P("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,ml(e,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function ml(e,t,n){return b(this,void 0,void 0,function(){var r=this;return x(this,function(i){switch(i.label){case 0:if(!fi(t))throw t;return e.Or.add(1),[4,Io(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return tE(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return b(r,void 0,void 0,function(){return x(this,function(o){switch(o.label){case 0:return P("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return o.sent(),e.Or.delete(1),[4,ga(e)];case 2:return o.sent(),[2]}})})}),[2]}})})}function lE(e,t){return t().catch(function(n){return ml(e,n,t)})}function No(e){return b(this,void 0,void 0,function(){var t,n,r,i,o;return x(this,function(s){switch(s.label){case 0:t=D(e),n=pr(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,s.label=1;case 1:if(!function(a){return Sr(a)&&a.Fr.length<10}(t))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,LR(t.localStore,r)];case 3:return(i=s.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(a,u){a.Fr.push(u);var l=pr(a);l.er()&&l.pr&&l.Er(u.mutations)}(t,i),[3,6]);case 4:return o=s.sent(),[4,ml(t,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return cE(t)&&fE(t),[2]}})})}function cE(e){return Sr(e)&&!pr(e).tr()&&e.Fr.length>0}function fE(e){pr(e).start()}function iP(e){return b(this,void 0,void 0,function(){return x(this,function(t){return pr(e).Ar(),[2]})})}function oP(e){return b(this,void 0,void 0,function(){var t,n,r,i;return x(this,function(o){for(t=pr(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function sP(e,t,n){return b(this,void 0,void 0,function(){var r,i;return x(this,function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=vR.from(r,t,n),[4,lE(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,No(e)];case 2:return o.sent(),[2]}})})}function aP(e,t){return b(this,void 0,void 0,function(){return x(this,function(n){switch(n.label){case 0:return t&&pr(e).pr?[4,function(r,i){return b(this,void 0,void 0,function(){var o,s;return x(this,function(a){switch(a.label){case 0:return I_(s=i.code)&&s!==S.ABORTED?(o=r.Fr.shift(),pr(r).sr(),[4,lE(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return a.sent(),[4,No(r)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return cE(e)&&fE(e),[2]}})})}function qh(e,t){return b(this,void 0,void 0,function(){var n;return x(this,function(r){switch(r.label){case 0:return n=D(e),t?(n.Or.delete(2),[4,ga(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Io(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Co(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var o=D(n);return o.br(),new XR(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:tP.bind(null,e),Ri:nP.bind(null,e),_r:rP.bind(null,e)}),e.Mr.push(function(n){return b(t,void 0,void 0,function(){return x(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),Vp(e)?Up(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),uE(e),r.label=3;case 3:return[2]}})})})),e.Ur}function pr(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var o=D(n);return o.br(),new YR(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:iP.bind(null,e),Ri:aP.bind(null,e),Ir:oP.bind(null,e),Tr:sP.bind(null,e)}),e.Mr.push(function(n){return b(t,void 0,void 0,function(){return x(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,No(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(P("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var uP=function(){function e(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Et,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(s){})}return e.createAndSchedule=function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new k(S.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Ro(e,t){if(Se("AsyncQueue",t+": "+e),fi(e))return new k(S.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hE=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||$.comparator(n.key,r.key)}:function(n,r){return $.comparator(n.key,r.key)},this.keyedMap=Uh(),this.sortedSet=new et(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Fg=function(){function e(){this.Qr=new et($.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):F():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),vl=function(){function e(t,n,r,i,o,s,a,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(s){o.push({type:0,doc:s})}),new e(t,n,hE.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ha(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),lP=function(){this.Wr=void 0,this.listeners=[]},cP=function(){this.queries=new ko(function(e){return g_(e)},ha),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(e,t){return b(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return x(this,function(l){switch(l.label){case 0:if(n=D(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new lP),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=l.sent(),[3,4];case 3:return a=l.sent(),u=Ro(a,"Initialization of query '"+Fh(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&qp(n),[2]}})})}function zp(e,t){return b(this,void 0,void 0,function(){var n,r,i,o,s;return x(this,function(a){return n=D(e),r=t.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(t))>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function fP(e,t){for(var n=D(e),r=!1,i=0,o=t;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var l=0,c=u.listeners;l<c.length;l++)c[l].Hr(s)&&(r=!0);u.Wr=s}}r&&qp(n)}function hP(e,t,n){var r=D(e),i=r.queries.get(t);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(t)}function qp(e){e.Gr.forEach(function(t){t.next()})}var Hp=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&n.push(o)}t=new vl(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=vl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dE=function(e){this.key=e},pE=function(e){this.key=e},mE=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=ie(),this.mutatedKeys=ie(),this.lo=y_(t),this.fo=new hE(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new Fg,o=n?n.fo:this.fo,s=n?n.mutatedKeys:this.mutatedKeys,a=o,u=!1,l=vu(this.query)&&o.size===this.query.limit?o.last():null,c=ll(this.query)&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(function(h,d){var m=o.get(h),y=da(r.query,d)?d:null,_=!!m&&r.mutatedKeys.has(m.key),v=!!y&&(y.hasLocalMutations||r.mutatedKeys.has(y.key)&&y.hasCommittedMutations),p=!1;m&&y?m.data.isEqual(y.data)?_!==v&&(i.track({type:3,doc:y}),p=!0):r.yo(m,y)||(i.track({type:2,doc:y}),p=!0,(l&&r.lo(y,l)>0||c&&r.lo(y,c)<0)&&(u=!0)):!m&&y?(i.track({type:0,doc:y}),p=!0):m&&!y&&(i.track({type:1,doc:m}),p=!0,(l||c)&&(u=!0)),p&&(y?(a=a.add(y),s=v?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),vu(this.query)||ll(this.query))for(;a.size>this.query.limit;){var f=vu(this.query)?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{fo:a,mo:i,Nn:u,mutatedKeys:s}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,o=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(c,f){return function(h,d){var m=function(y){switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return m(h)-m(d)}(c.type,f.type)||i.lo(c.doc,f.doc)}),this.po(r);var a=n?this.Eo():[],u=this.ho.size===0&&this.current?1:0,l=u!==this.ao;return this.ao=u,s.length!==0||l?{snapshot:new vl(this.query,t.fo,o,s,t.mutatedKeys,u===0,l,!1),To:a}:{To:a}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Fg,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=ie(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new pE(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new dE(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ie();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return vl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),dP=function(e,t,n){this.query=e,this.targetId=t,this.view=n},pP=function(e){this.key=e,this.bo=!1},mP=function(){function e(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new ko(function(a){return g_(a)},ha),this.Vo=new Map,this.So=new Set,this.Do=new et($.comparator),this.Co=new Map,this.No=new Mp,this.xo={},this.ko=new Map,this.Fo=hl.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function vP(e,t){return b(this,void 0,void 0,function(){var n,r,i,o,s,a;return x(this,function(u){switch(u.label){case 0:return n=Xp(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,dl(n.localStore,vn(t))];case 2:return s=u.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,Kp(n,t,r,a==="current")];case 3:i=u.sent(),n.isPrimaryClient&&uc(n.remoteStore,s),u.label=4;case 4:return[2,i]}})})}function Kp(e,t,n,r){return b(this,void 0,void 0,function(){var i,o,s,a,u,l;return x(this,function(c){switch(c.label){case 0:return e.Oo=function(f,h,d){return function(m,y,_,v){return b(this,void 0,void 0,function(){var p,g,E;return x(this,function(T){switch(T.label){case 0:return p=y.view._o(_),p.Nn?[4,pl(m.localStore,y.query,!1).then(function(N){var A=N.documents;return y.view._o(A,p)})]:[3,2];case 1:p=T.sent(),T.label=2;case 2:return g=v&&v.targetChanges.get(y.targetId),E=y.view.applyChanges(p,m.isPrimaryClient,g),[2,(Hh(m,y.targetId,E.To),E.snapshot)]}})})}(e,f,h,d)},[4,pl(e.localStore,t,!0)];case 1:return i=c.sent(),o=new mE(t,i.Bn),s=o._o(i.documents),a=Rp.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),u=o.applyChanges(s,e.isPrimaryClient,a),Hh(e,n,u.To),l=new dP(t,n,o),[2,(e.Po.set(t,l),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}})})}function gP(e,t){return b(this,void 0,void 0,function(){var n,r,i;return x(this,function(o){switch(o.label){case 0:return n=D(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(s){return!ha(s,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,mo(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Bs(n.remoteStore,r.targetId),vo(n,r.targetId)}).catch(hi)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return vo(n,r.targetId),[4,mo(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function yP(e,t,n){return b(this,void 0,void 0,function(){var r,i,o,s;return x(this,function(a){switch(a.label){case 0:r=Yp(e),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(u,l){var c,f=D(u),h=wt.now(),d=l.reduce(function(m,y){return m.add(y.key)},ie());return f.persistence.runTransaction("Locally write mutations","readwrite",function(m){return f.Mn.pn(m,d).next(function(y){c=y;for(var _=[],v=0,p=l;v<p.length;v++){var g=p[v],E=qC(g,c.get(g.key));E!=null&&_.push(new Er(g.key,E,d_(E.value.mapValue),Xe.exists(!0)))}return f._n.addMutationBatch(m,h,_,l)})}).then(function(m){return m.applyToLocalDocumentSet(c),{batchId:m.batchId,changes:c}})}(r.localStore,t)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(u,l,c){var f=u.xo[u.currentUser.toKey()];f||(f=new et(Q)),f=f.insert(l,c),u.xo[u.currentUser.toKey()]=f}(r,i.batchId,n),[4,xr(r,i.changes)];case 3:return a.sent(),[4,No(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Ro(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function vE(e,t){return b(this,void 0,void 0,function(){var n,r;return x(this,function(i){switch(i.label){case 0:n=D(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,DR(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(o,s){var a=n.Co.get(s);a&&(V(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?a.bo=!0:o.modifiedDocuments.size>0?V(a.bo):o.removedDocuments.size>0&&(V(a.bo),a.bo=!1))}),[4,xr(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,hi(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function $g(e,t,n){var r=D(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(o,s){var a=s.view.zr(t);a.snapshot&&i.push(a.snapshot)}),function(o,s){var a=D(o);a.onlineState=s;var u=!1;a.queries.forEach(function(l,c){for(var f=0,h=c.listeners;f<h.length;f++)h[f].zr(s)&&(u=!0)}),u&&qp(a)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function wP(e,t,n){return b(this,void 0,void 0,function(){var r,i,o,s,a,u;return x(this,function(l){switch(l.label){case 0:return(r=D(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(s=(s=new et($.comparator)).insert(o,Ze.newNoDocument(o,W.min())),a=ie().add(o),u=new Cp(W.min(),new Map,new Ce(Q),s,a),[4,vE(r,u)]):[3,2];case 1:return l.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Qp(r),[3,4];case 2:return[4,mo(r.localStore,t,!1).then(function(){return vo(r,t,n)}).catch(hi)];case 3:l.sent(),l.label=4;case 4:return[2]}})})}function _P(e,t){return b(this,void 0,void 0,function(){var n,r,i;return x(this,function(o){switch(o.label){case 0:n=D(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,AR(n.localStore,t)];case 2:return i=o.sent(),Gp(n,r,null),Wp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,xr(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,hi(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function EP(e,t,n){return b(this,void 0,void 0,function(){var r,i;return x(this,function(o){switch(o.label){case 0:r=D(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(s,a){var u=D(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",function(l){var c;return u._n.lookupMutationBatch(l,a).next(function(f){return V(f!==null),c=f.keys(),u._n.removeMutationBatch(l,f)}).next(function(){return u._n.performConsistencyCheck(l)}).next(function(){return u.Mn.pn(l,c)})})}(r.localStore,t)];case 2:return i=o.sent(),Gp(r,t,n),Wp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,xr(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,hi(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function SP(e,t){return b(this,void 0,void 0,function(){var n,r,i,o,s;return x(this,function(a){switch(a.label){case 0:Sr((n=D(e)).remoteStore)||P("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(u){var l=D(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(c){return l._n.getHighestUnacknowledgedBatchId(c)})}(n.localStore)];case 2:return(r=a.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=a.sent(),s=Ro(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}})})}function Wp(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Gp(e,t,n){var r=D(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function vo(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(s){e.No.containsKey(s)||gE(e,s)})}function gE(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Bs(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Qp(e))}function Hh(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof dE?(e.No.addReference(o.key,t),xP(e,o)):o instanceof pE?(P("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||gE(e,o.key)):F()}}function xP(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(P("SyncEngine","New document in limbo: "+n),e.So.add(r),Qp(e))}function Qp(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new $(Z.fromString(t)),r=e.Fo.next();e.Co.set(r,new pP(n)),e.Do=e.Do.insert(n,r),uc(e.remoteStore,new sc(vn(fa(n.path)),r,2,Ct.o))}}function xr(e,t,n){return b(this,void 0,void 0,function(){var r,i,o,s;return x(this,function(a){switch(a.label){case 0:return r=D(e),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(u,l){s.push(r.Oo(l,t,n).then(function(c){if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),i.push(c);var f=RR.Pn(l.targetId,c);o.push(f)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(u,l){return b(this,void 0,void 0,function(){var c,f,h,d,m,y,_,v,p;return x(this,function(g){switch(g.label){case 0:c=D(u),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,c.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(E){return C.forEach(l,function(T){return C.forEach(T.bn,function(N){return c.persistence.referenceDelegate.addReference(E,T.targetId,N)}).next(function(){return C.forEach(T.vn,function(N){return c.persistence.referenceDelegate.removeReference(E,T.targetId,N)})})})})];case 2:return g.sent(),[3,4];case 3:if(!fi(f=g.sent()))throw f;return P("LocalStore","Failed to update sequence numbers: "+f),[3,4];case 4:for(h=0,d=l;h<d.length;h++)m=d[h],y=m.targetId,m.fromCache||(_=c.kn.get(y),v=_.snapshotVersion,p=_.withLastLimboFreeSnapshotVersion(v),c.kn=c.kn.insert(y,p));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function bP(e,t){return b(this,void 0,void 0,function(){var n,r;return x(this,function(i){switch(i.label){case 0:return(n=D(e)).currentUser.isEqual(t)?[3,3]:(P("SyncEngine","User change. New user:",t.toKey()),[4,eE(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(o,s){o.ko.forEach(function(a){a.forEach(function(u){u.reject(new k(S.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,xr(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function TP(e,t){var n=D(e),r=n.Co.get(t);if(r&&r.bo)return ie().add(r.key);var i=ie(),o=n.Vo.get(t);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],l=n.Po.get(u);i=i.unionWith(l.view.wo)}return i}function kP(e,t){return b(this,void 0,void 0,function(){var n,r,i;return x(this,function(o){switch(o.label){case 0:return[4,pl((n=D(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Hh(n,t.targetId,i.To),i)]}})})}function IP(e){return b(this,void 0,void 0,function(){var t;return x(this,function(n){return[2,rE((t=D(e)).localStore).then(function(r){return xr(t,r)})]})})}function NP(e,t,n,r){return b(this,void 0,void 0,function(){var i,o;return x(this,function(s){switch(s.label){case 0:return[4,function(a,u){var l=D(a),c=D(l._n);return l.persistence.runTransaction("Lookup mutation documents","readonly",function(f){return c.jt(f,u).next(function(h){return h?l.Mn.pn(f,h):C.resolve(null)})})}((i=D(e)).localStore,t)];case 1:return(o=s.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,No(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Gp(i,t,r||null),Wp(i,t),function(a,u){D(D(a)._n).Gt(u)}(i.localStore,t)):F(),s.label=4;case 4:return[4,xr(i,o)];case 5:return s.sent(),[3,7];case 6:P("SyncEngine","Cannot apply mutation batch with id: "+t),s.label=7;case 7:return[2]}})})}function CP(e,t){return b(this,void 0,void 0,function(){var n,r,i,o,s,a,u,l;return x(this,function(c){switch(c.label){case 0:return Xp(n=D(e)),Yp(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Ug(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,qh(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)a=s[o],uc(n.remoteStore,a);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(u=[],l=Promise.resolve(),n.Vo.forEach(function(f,h){n.sharedClientState.isLocalQueryTarget(h)?u.push(h):l=l.then(function(){return vo(n,h),mo(n.localStore,h,!0)}),Bs(n.remoteStore,h)}),[4,l]);case 4:return c.sent(),[4,Ug(n,u)];case 5:return c.sent(),function(f){var h=D(f);h.Co.forEach(function(d,m){Bs(h.remoteStore,m)}),h.No.ts(),h.Co=new Map,h.Do=new et($.comparator)}(n),n.$o=!1,[4,qh(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Ug(e,t,n){return b(this,void 0,void 0,function(){var r,i,o,s,a,u,l,c,f,h,d,m,y,_;return x(this,function(v){switch(v.label){case 0:r=D(e),i=[],o=[],s=0,a=t,v.label=1;case 1:return s<a.length?(u=a[s],l=void 0,(c=r.Vo.get(u))&&c.length!==0?[4,dl(r.localStore,vn(c[0]))]:[3,7]):[3,13];case 2:l=v.sent(),f=0,h=c,v.label=3;case 3:return f<h.length?(d=h[f],m=r.Po.get(d),[4,kP(r,m)]):[3,6];case 4:(y=v.sent()).snapshot&&o.push(y.snapshot),v.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,nE(r.localStore,u)];case 8:return _=v.sent(),[4,dl(r.localStore,_)];case 9:return l=v.sent(),[4,Kp(r,yE(_),u,!1)];case 10:v.sent(),v.label=11;case 11:i.push(l),v.label=12;case 12:return s++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function yE(e){return m_(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function RP(e){var t=D(e);return D(D(t.localStore).persistence).fn()}function PP(e,t,n,r){return b(this,void 0,void 0,function(){var i,o,s;return x(this,function(a){switch(a.label){case 0:return(i=D(e)).$o?(P("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,rE(i.localStore)];case 3:return o=a.sent(),s=Cp.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,xr(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,mo(i.localStore,t,!0)];case 6:return a.sent(),vo(i,t,r),[3,8];case 7:F(),a.label=8;case 8:return[2]}})})}function AP(e,t,n){return b(this,void 0,void 0,function(){var r,i,o,s,a,u,l,c,f,h;return x(this,function(d){switch(d.label){case 0:if(!(r=Xp(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(P("SyncEngine","Adding an already active target "+s),[3,5]):[4,nE(r.localStore,s)]):[3,6];case 2:return a=d.sent(),[4,dl(r.localStore,a)];case 3:return u=d.sent(),[4,Kp(r,yE(a),u.targetId,!1)];case 4:d.sent(),uc(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:l=function(m){return x(this,function(y){switch(y.label){case 0:return r.Vo.has(m)?[4,mo(r.localStore,m,!1).then(function(){Bs(r.remoteStore,m),vo(r,m)}).catch(hi)]:[3,2];case 1:y.sent(),y.label=2;case 2:return[2]}})},c=0,f=n,d.label=7;case 7:return c<f.length?(h=f[c],[5,l(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}})})}function Xp(e){var t=D(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wP.bind(null,t),t.vo._r=fP.bind(null,t.eventManager),t.vo.Mo=hP.bind(null,t.eventManager),t}function Yp(e){var t=D(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_P.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=EP.bind(null,t),t}var wE=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return b(this,void 0,void 0,function(){return x(this,function(n){switch(n.label){case 0:return this.R=ac(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return Z_(this.persistence,new J_,t.initialUser,this.R)},e.prototype.qo=function(t){return new BR(qR.bs,this.R)},e.prototype.Bo=function(t){return new iE},e.prototype.terminate=function(){return b(this,void 0,void 0,function(){return x(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),_E=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).Qo=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return U(t,e),t.prototype.initialize=function(n){return b(this,void 0,void 0,function(){var r=this;return x(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,jR(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,Yp(this.Qo.syncEngine)];case 4:return i.sent(),[4,No(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return Z_(this.persistence,new J_,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new xR(r,n.asyncQueue)},t.prototype.qo=function(n){var r=jp(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new CR(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,oE(),wu(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new iE},t}(wE),DP=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return U(t,e),t.prototype.initialize=function(n){return b(this,void 0,void 0,function(){var r,i=this;return x(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof mf?(this.sharedClientState.syncEngine={ui:NP.bind(null,r),ai:PP.bind(null,r),hi:AP.bind(null,r),fn:RP.bind(null,r),ci:IP.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(s){return b(i,void 0,void 0,function(){return x(this,function(a){switch(a.label){case 0:return[4,CP(this.Qo.syncEngine,s)];case 1:return a.sent(),this.gcScheduler&&(s&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):s||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},t.prototype.Bo=function(n){var r=oE();if(!mf.yt(r))throw new k(S.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=jp(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new mf(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(_E),Kh=function(){function e(){}return e.prototype.initialize=function(t,n){return b(this,void 0,void 0,function(){var r=this;return x(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return $g(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=bP.bind(null,this.syncEngine),[4,qh(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new cP},e.prototype.createDatastore=function(t){var n,r=ac(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new QR(n));return function(o,s,a){return new JR(o,s,a)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,o,s,a=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,o=function(u){return $g(a.syncEngine,u,0)},s=Mg.yt()?new Mg:new KR,new eP(n,r,i,o,s)},e.prototype.createSyncEngine=function(t,n){return function(r,i,o,s,a,u,l){var c=new mP(r,i,o,s,a,u);return l&&(c.$o=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return b(this,void 0,void 0,function(){var n;return x(this,function(r){switch(r.label){case 0:return n=D(t),P("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Io(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lc=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),OP=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return b(this,void 0,void 0,function(){var n,r=this;return x(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new k(S.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,s){return b(this,void 0,void 0,function(){var a,u,l,c,f,h;return x(this,function(d){switch(d.label){case 0:return a=D(o),u=Vs(a.R)+"/documents",l={documents:s.map(function(m){return Us(a.R,m)})},[4,a.$i("BatchGetDocuments",u,l)];case 1:return c=d.sent(),f=new Map,c.forEach(function(m){var y=function(_,v){return"found"in v?function(p,g){V(!!g.found),g.found.name,g.found.updateTime;var E=Tn(p,g.found.name),T=ut(g.found.updateTime),N=new kt({mapValue:{fields:g.found.fields}});return Ze.newFoundDocument(E,T,N)}(_,v):"missing"in v?function(p,g){V(!!g.missing),V(!!g.readTime);var E=Tn(p,g.missing),T=ut(g.readTime);return Ze.newNoDocument(E,T)}(_,v):F()}(a.R,m);f.set(y.key.toString(),y)}),h=[],[2,(s.forEach(function(m){var y=f.get(m.toString());V(!!y),h.push(y)}),h)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(o){return r.recordVersion(o)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new va(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return b(this,void 0,void 0,function(){var t,n=this;return x(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,o){var s=$.fromPath(o);n.mutations.push(new Np(s,n.precondition(s)))}),[4,function(i,o){return b(this,void 0,void 0,function(){var s,a,u;return x(this,function(l){switch(l.label){case 0:return s=D(i),a=Vs(s.R)+"/documents",u={writes:o.map(function(c){return cl(s.R,c)})},[4,s.Ni("Commit",a,u)];case 1:return l.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw F();n=W.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new k(S.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?Xe.updateTime(n):Xe.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(W.min()))throw new k(S.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xe.updateTime(n)}return Xe.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),LP=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new Fp(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return b(t,void 0,void 0,function(){var n,r,i=this;return x(this,function(o){return n=new OP(this.datastore),(r=this.sc(n))&&r.then(function(s){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(s)}).catch(function(a){i.ic(a)})})}).catch(function(s){i.ic(s)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!ci(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!I_(n)}return!1},e}(),jP=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=je.UNAUTHENTICATED,this.clientId=a_.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(o){return b(i,void 0,void 0,function(){return x(this,function(s){switch(s.label){case 0:return P("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return s.sent(),this.user=o,[2]}})})})}return e.prototype.getConfiguration=function(){return b(this,void 0,void 0,function(){return x(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new k(S.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Et;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return b(t,void 0,void 0,function(){var r,i;return x(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=o.sent(),i=Ro(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(e,t){return b(this,void 0,void 0,function(){var n,r,i=this;return x(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),P("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener(function(s){return b(i,void 0,void 0,function(){return x(this,function(a){switch(a.label){case 0:return r.isEqual(s)?[3,2]:[4,eE(t.localStore,s)];case 1:a.sent(),r=s,a.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function SE(e,t){return b(this,void 0,void 0,function(){var n,r;return x(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Jp(e)];case 1:return n=i.sent(),P("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(o){return function(s,a){return b(this,void 0,void 0,function(){var u,l;return x(this,function(c){switch(c.label){case 0:return(u=D(s)).asyncQueue.verifyOperationInProgress(),P("RemoteStore","RemoteStore received new credentials"),l=Sr(u),u.Or.add(3),[4,Io(u)];case 1:return c.sent(),l&&u.Br.set("Unknown"),[4,u.remoteSyncer.handleCredentialChange(a)];case 2:return c.sent(),u.Or.delete(3),[4,ga(u)];case 3:return c.sent(),[2]}})})}(t.remoteStore,o)}),e.onlineComponents=t,[2]}})})}function Jp(e){return b(this,void 0,void 0,function(){return x(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(P("FirestoreClient","Using default OfflineComponentProvider"),[4,EE(e,new wE)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function cc(e){return b(this,void 0,void 0,function(){return x(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(P("FirestoreClient","Using default OnlineComponentProvider"),[4,SE(e,new Kh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function Vg(e){return Jp(e).then(function(t){return t.persistence})}function xE(e){return Jp(e).then(function(t){return t.localStore})}function Bg(e){return cc(e).then(function(t){return t.remoteStore})}function bE(e){return cc(e).then(function(t){return t.syncEngine})}function go(e){return b(this,void 0,void 0,function(){var t,n;return x(this,function(r){switch(r.label){case 0:return[4,cc(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=vP.bind(null,t.syncEngine),n.onUnlisten=gP.bind(null,t.syncEngine),n)]}})})}function zg(e,t,n){var r=this;n===void 0&&(n={});var i=new Et;return e.asyncQueue.enqueueAndForget(function(){return b(r,void 0,void 0,function(){var o;return x(this,function(s){switch(s.label){case 0:return o=function(a,u,l,c,f){var h=new lc({next:function(m){u.enqueueAndForget(function(){return zp(a,d)});var y=m.docs.has(l);!y&&m.fromCache?f.reject(new k(S.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?f.reject(new k(S.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(m)},error:function(m){return f.reject(m)}}),d=new Hp(fa(l.path),h,{includeMetadataChanges:!0,so:!0});return Bp(a,d)},[4,go(e)];case 1:return[2,o.apply(void 0,[s.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function qg(e,t,n){var r=this;n===void 0&&(n={});var i=new Et;return e.asyncQueue.enqueueAndForget(function(){return b(r,void 0,void 0,function(){var o;return x(this,function(s){switch(s.label){case 0:return o=function(a,u,l,c,f){var h=new lc({next:function(m){u.enqueueAndForget(function(){return zp(a,d)}),m.fromCache&&c.source==="server"?f.reject(new k(S.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(m)},error:function(m){return f.reject(m)}}),d=new Hp(l,h,{includeMetadataChanges:!0,so:!0});return Bp(a,d)},[4,go(e)];case 1:return[2,o.apply(void 0,[s.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var MP=function(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},gl=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Hg=new Map,TE=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Kg=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(je.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),FP=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),$P=function(){function e(t){var n=this;this.currentUser=je.UNAUTHENTICATED,this.oc=new Et,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){P("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(P("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(P("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(V(typeof i.accessToken=="string"),new TE(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return b(r,void 0,void 0,function(){return x(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return V(t===null||typeof t=="string"),new je(t)},e}(),UP=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=je.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),VP=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new UP(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(je.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(e,t,n){if(!n)throw new k(S.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function em(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new k(S.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function kE(e,t,n,r){if(t===!0&&r===!0)throw new k(S.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Wg(e){if(!$.isDocumentKey(e))throw new k(S.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Gg(e){if($.isDocumentKey(e))throw new k(S.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function fc(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":F()}function ee(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new k(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=fc(e);throw new k(S.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Qg(e,t){if(t<=0)throw new k(S.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xg=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new k(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new k(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,kE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),zs=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xg({}),this._settingsFrozen=!1,t instanceof gl?(this._databaseId=t,this._credentials=new Kg):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new k(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(r.options.projectId)}(t),this._credentials=new $P(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new k(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new k(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xg(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new Kg;switch(n.type){case"gapi":var r=n.client;return V(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new VP(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new k(S.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=Hg.get(t))&&(P("ComponentProvider","Removing Datastore"),Hg.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),he=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new cr(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),At=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),cr=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,fa(i))||this)._path=i,o.type="collection",o}return U(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new he(this.firestore,null,new $(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(At);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=ne(e),Zp("collection","path",t),e instanceof zs)return Gg(n=Z.fromString.apply(Z,ue([t],r))),new cr(e,null,n);if(!(e instanceof he||e instanceof cr))throw new k(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Gg(n=Z.fromString.apply(Z,ue([e.path],r)).child(Z.fromString(t))),new cr(e.firestore,null,n)}function _u(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=ne(e),arguments.length===1&&(t=a_.u()),Zp("doc","path",t),e instanceof zs)return Wg(n=Z.fromString.apply(Z,ue([t],r))),new he(e,null,new $(n));if(!(e instanceof he||e instanceof cr))throw new k(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Wg(n=e._path.child(Z.fromString.apply(Z,ue([t],r)))),new he(e.firestore,e instanceof cr?e.converter:null,new $(n))}function NE(e,t){return e=ne(e),t=ne(t),(e instanceof he||e instanceof cr)&&(t instanceof he||t instanceof cr)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function CE(e,t){return e=ne(e),t=ne(t),e instanceof At&&t instanceof At&&e.firestore===t.firestore&&ha(e._query,t._query)&&e.converter===t.converter}var BP=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Fp(this,"async_queue_retry"),this.Ic=function(){var r=wu();r&&P("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=wu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=wu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new Et;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return b(this,void 0,void 0,function(){var t,n=this;return x(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!fi(t=r.sent()))throw t;return P("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,Se("INTERNAL UNHANDLED ERROR: ",function(o){var s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var o=uP.createAndSchedule(this,t,n,r,function(s){return i.vc(s)});return this.mc.push(o),o},e.prototype.Ac=function(){this.yc&&F()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return b(this,void 0,void 0,function(){var t;return x(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(s,a){return s.targetTimeMs-a.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var o=i[r];if(o.skipDelay(),t!=="all"&&o.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function yo(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,o=["next","error","complete"];i<o.length;i++){var s=o[i];if(s in r&&typeof r[s]=="function")return!0}return!1}(e)}var zP=-1,Ne=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new BP,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return U(t,e),t.prototype._terminate=function(){return this._firestoreClient||RE(this),this._firestoreClient.terminate()},t}(zs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(e){return e._firestoreClient||RE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function RE(e){var t,n=e._freezeSettings(),r=function(i,o,s,a){return new MP(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new jP(e._credentials,e._queue,r)}function Yg(e,t,n){var r=this,i=new Et;return e.asyncQueue.enqueue(function(){return b(r,void 0,void 0,function(){var o;return x(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,EE(e,n)];case 1:return s.sent(),[4,SE(e,t)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(a){return a.name==="FirebaseError"?a.code===S.FAILED_PRECONDITION||a.code===S.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(o=s.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Jg(e){if(e._initialized||e._terminated)throw new k(S.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new k(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),ni=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(_t.fromBase64String(t))}catch(n){throw new k(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(_t.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),di=function(e){this._methodName=e},hc=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new k(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new k(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Q(this._lat,t._lat)||Q(this._long,t._long)},e}(),qP=/^__.*__$/,HP=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Er(t,this.data,this.fieldMask,n,this.fieldTransforms):new ma(t,this.data,n,this.fieldTransforms)},e}(),PE=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new Er(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}var DE=function(){function e(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return yl(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(AE(this.Nc)&&qP.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),KP=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||ac(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new DE({Nc:t,methodName:n,qc:r,path:on.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function pi(e){var t=e._freezeSettings(),n=ac(e._databaseId);return new KP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function dc(e,t,n,r,i,o){o===void 0&&(o={});var s=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);im("Data must be an object, but it was:",s,r);var a,u,l=jE(r,s);if(o.merge)a=new ro(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var c=[],f=0,h=o.mergeFields;f<h.length;f++){var d=Wh(t,h[f],n);if(!s.contains(d))throw new k(S.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");FE(c,d)||c.push(d)}a=new ro(c),u=s.fieldTransforms.filter(function(m){return a.covers(m.field)})}else a=null,u=s.fieldTransforms;return new HP(new kt(l),a,u)}var tm=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(di);function OE(e,t,n){return new DE({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var WP=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype._toFieldTransform=function(n){return new pa(n.path,new ao)},t.prototype.isEqual=function(n){return n instanceof t},t}(di),GP=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return U(t,e),t.prototype._toFieldTransform=function(n){var r=OE(this,n,!0),i=this.Kc.map(function(s){return mi(s,r)}),o=new ei(i);return new pa(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(di),QP=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return U(t,e),t.prototype._toFieldTransform=function(n){var r=OE(this,n,!0),i=this.Kc.map(function(s){return mi(s,r)}),o=new ti(i);return new pa(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(di),XP=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return U(t,e),t.prototype._toFieldTransform=function(n){var r=new uo(n.R,E_(n.R,this.Qc));return new pa(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(di);function nm(e,t,n,r){var i=e.Uc(1,t,n);im("Data must be an object, but it was:",i,r);var o=[],s=kt.empty();li(r,function(u,l){var c=om(t,u,n);l=ne(l);var f=i.Oc(c);if(l instanceof tm)o.push(c);else{var h=mi(l,f);h!=null&&(o.push(c),s.set(c,h))}});var a=new ro(o);return new PE(s,a,i.fieldTransforms)}function rm(e,t,n,r,i,o){var s=e.Uc(1,t,n),a=[Wh(t,r,n)],u=[i];if(o.length%2!=0)throw new k(S.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)a.push(Wh(t,o[l])),u.push(o[l+1]);for(var c=[],f=kt.empty(),h=a.length-1;h>=0;--h)if(!FE(c,a[h])){var d=a[h],m=u[h];m=ne(m);var y=s.Oc(d);if(m instanceof tm)c.push(d);else{var _=mi(m,y);_!=null&&(c.push(d),f.set(d,_))}}var v=new ro(c);return new PE(f,v,s.fieldTransforms)}function LE(e,t,n,r){return r===void 0&&(r=!1),mi(n,e.Uc(r?4:3,t))}function mi(e,t){if(ME(e=ne(e)))return im("Unsupported field value:",t,e),jE(e,t);if(e instanceof di)return function(n,r){if(!AE(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],o=0,s=0,a=n;s<a.length;s++){var u=mi(a[s],r.Mc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=ne(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return E_(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=wt.fromDate(n);return{timestampValue:$s(r.R,i)}}if(n instanceof wt)return i=new wt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:$s(r.R,i)};if(n instanceof hc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ni)return{bytesValue:P_(r.R,n._byteString)};if(n instanceof he){i=r.databaseId;var o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Lc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Pp(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+fc(n))}(e,t)}function jE(e,t){var n={};return l_(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):li(e,function(r,i){var o=mi(i,t.kc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function ME(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof wt||e instanceof hc||e instanceof ni||e instanceof he||e instanceof di)}function im(e,t,n){if(!ME(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=fc(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Wh(e,t,n){if((t=ne(t))instanceof dn)return t._internalPath;if(typeof t=="string")return om(e,t);throw yl("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var YP=new RegExp("[~\\*/\\[\\]]");function om(e,t,n){if(t.search(YP)>=0)throw yl("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(dn.bind.apply(dn,ue([void 0],t.split("."))))()._internalPath}catch{throw yl("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function yl(e,t,n,r,i){var o=r&&!r.isEmpty(),s=i!==void 0,a="Function "+t+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new k(S.INVALID_ARGUMENT,(a+=". ")+e+u)}function FE(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qs=function(){function e(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new he(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new JP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(wl("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),JP=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(qs);function wl(e,t){return typeof t=="string"?om(e,t):t instanceof dn?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mr=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),In=function(e){function t(n,r,i,o,s,a){var u=this;return(u=e.call(this,n,r,i,o,a)||this)._firestore=n,u._firestoreImpl=n,u.metadata=s,u}return U(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new ls(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(wl("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(qs),ls=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(In),Qn=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Mr(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new ls(r._firestore,r._userDataWriter,i.key,i,new Mr(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new k(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(a){return{type:"added",doc:new ls(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Mr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}})}var s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(a){return i||a.type!==3}).map(function(a){var u=new ls(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Mr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,c=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(c=(s=s.add(a.doc)).indexOf(a.doc.key)),{type:ZP(a.type),doc:u,oldIndex:l,newIndex:c}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function ZP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}function $E(e,t){return e instanceof In&&t instanceof In?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Qn&&t instanceof Qn&&e._firestore===t._firestore&&CE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(e){if(ll(e)&&e.explicitOrderBy.length===0)throw new k(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ya=function(){};function Un(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var eA=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).jc=n,o.Wc=r,o.Gc=i,o.type="where",o}return U(t,e),t.prototype._apply=function(n){var r=pi(n.firestore),i=function(o,s,a,u,l,c,f){var h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new k(S.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+c+"' queries on FieldPath.documentId().");if(c==="in"||c==="not-in"){ry(f,c);for(var d=[],m=0,y=f;m<y.length;m++){var _=y[m];d.push(ny(u,o,_))}h={arrayValue:{values:d}}}else h=ny(u,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||ry(f,c),h=LE(a,"where",f,c==="in"||c==="not-in");var v=Rt.create(l,c,h);return function(p,g){if(g.g()){var E=kp(p);if(E!==null&&!E.isEqual(g.field))throw new k(S.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+E.toString()+"' and '"+g.field.toString()+"'");var T=Tp(p);T!==null&&BE(p,g.field,T)}var N=function(A,M){for(var q=0,H=A.filters;q<H.length;q++){var ht=H[q];if(M.indexOf(ht.op)>=0)return ht.op}return null}(p,function(A){switch(A){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(g.op));if(N!==null)throw N===g.op?new k(S.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+g.op.toString()+"' filter."):new k(S.INVALID_ARGUMENT,"Invalid query. You cannot use '"+g.op.toString()+"' filters with '"+N.toString()+"' filters.")}(o,v),v}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new At(n.firestore,n.converter,function(o,s){var a=o.filters.concat([s]);return new Ln(o.path,o.collectionGroup,o.explicitOrderBy.slice(),a,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(ya),tA=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return U(t,e),t.prototype._apply=function(n){var r=function(i,o,s){if(i.startAt!==null)throw new k(S.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new k(S.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var a=new zi(o,s);return function(u,l){if(Tp(u)===null){var c=kp(u);c!==null&&BE(u,c,l.field)}}(i,a),a}(n._query,this.jc,this.zc);return new At(n.firestore,n.converter,function(i,o){var s=i.explicitOrderBy.concat([o]);return new Ln(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(ya),Zg=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Hc=r,o.Jc=i,o}return U(t,e),t.prototype._apply=function(n){return new At(n.firestore,n.converter,v_(n._query,this.Hc,this.Jc))},t}(ya),ey=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return U(t,e),t.prototype._apply=function(n){var r=VE(n,this.type,this.Yc,this.Xc);return new At(n.firestore,n.converter,function(i,o){return new Ln(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(n._query,r))},t}(ya),ty=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return U(t,e),t.prototype._apply=function(n){var r=VE(n,this.type,this.Yc,this.Xc);return new At(n.firestore,n.converter,function(i,o){return new Ln(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(n._query,r))},t}(ya);function VE(e,t,n,r){if(n[0]=ne(n[0]),n[0]instanceof qs)return function(o,s,a,u,l){if(!u)throw new k(S.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+a+"().");for(var c=[],f=0,h=so(o);f<h.length;f++){var d=h[f];if(d.field.isKeyField())c.push(sl(s,u.key));else{var m=u.data.field(d.field);if(Sp(m))throw new k(S.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){var y=d.field.canonicalString();throw new k(S.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+y+"' (used as the orderBy) does not exist.")}c.push(m)}}return new Fs(c,l)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=pi(e.firestore);return function(o,s,a,u,l,c){var f=o.explicitOrderBy;if(l.length>f.length)throw new k(S.INVALID_ARGUMENT,"Too many arguments provided to "+u+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var h=[],d=0;d<l.length;d++){var m=l[d];if(f[d].field.isKeyField()){if(typeof m!="string")throw new k(S.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+u+"(), but got a "+typeof m);if(!Ip(o)&&m.indexOf("/")!==-1)throw new k(S.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+u+"() must be a plain document ID, but '"+m+"' contains a slash.");var y=o.path.child(Z.fromString(m));if(!$.isDocumentKey(y))throw new k(S.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+u+"() must result in a valid document path, but '"+y+"' is not because it contains an odd number of segments.");var _=new $(y);h.push(sl(s,_))}else{var v=LE(a,u,m);h.push(v)}}return new Fs(h,c)}(e._query,e.firestore._databaseId,i,t,n,r)}function ny(e,t,n){if(typeof(n=ne(n))=="string"){if(n==="")throw new k(S.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ip(t)&&n.indexOf("/")!==-1)throw new k(S.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Z.fromString(n));if(!$.isDocumentKey(r))throw new k(S.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return sl(e,new $(r))}if(n instanceof he)return sl(e,n._key);throw new k(S.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+fc(n)+".")}function ry(e,t){if(!Array.isArray(e)||e.length===0)throw new k(S.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new k(S.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function BE(e,t,n){if(!n.isEqual(t))throw new k(S.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sm=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(io(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw F()}},e.prototype.convertObject=function(t,n){var r=this,i={};return li(t.fields,function(o,s){i[o]=r.convertValue(s,n)}),i},e.prototype.convertGeoPoint=function(t){return new hc(_e(t.latitude),_e(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=f_(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(js(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=dr(t);return new wt(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=Z.fromString(t);V($_(r));var i=new gl(r.get(1),r.get(3)),o=new $(r.popFirst(5));return i.isEqual(n)||Se("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var nA=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return U(t,e),t.prototype.convertBytes=function(n){return new ni(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new he(this.firestore,null,r)},t}(sm),rA=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=pi(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=Xn(t,this._firestore),o=pc(i.converter,n,r),s=dc(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Xe.none())),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var s,a=Xn(t,this._firestore);return s=typeof(n=ne(n))=="string"||n instanceof dn?rm(this._dataReader,"WriteBatch.update",a._key,n,r,i):nm(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,Xe.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Xn(t,this._firestore);return this._mutations=this._mutations.concat(new va(n._key,Xe.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new k(S.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(e,t){if((e=ne(e)).firestore!==t)throw new k(S.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return U(t,e),t.prototype.convertBytes=function(n){return new ni(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new he(this.firestore,null,r)},t}(sm);function iy(e,t,n){e=ee(e,he);var r=ee(e.firestore,Ne),i=pc(e.converter,t,n);return wa(r,[dc(pi(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Xe.none())])}function oy(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=ee(e,he);var o=ee(e.firestore,Ne),s=pi(o);return wa(o,[(typeof(t=ne(t))=="string"||t instanceof dn?rm(s,"updateDoc",e._key,t,n,r):nm(s,"updateDoc",e._key,t)).toMutation(e._key,Xe.exists(!0))])}function zE(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=ne(e);var s={includeMetadataChanges:!1},a=0;typeof i[a]!="object"||yo(i[a])||(s=i[a],a++);var u,l,c,f={includeMetadataChanges:s.includeMetadataChanges};if(yo(i[a])){var h=i[a];i[a]=(t=h.next)===null||t===void 0?void 0:t.bind(h),i[a+1]=(n=h.error)===null||n===void 0?void 0:n.bind(h),i[a+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}if(e instanceof he)l=ee(e.firestore,Ne),c=fa(e._key.path),u={next:function(y){i[a]&&i[a](Gh(l,e,y))},error:i[a+1],complete:i[a+2]};else{var d=ee(e,At);l=ee(d.firestore,Ne),c=d._query;var m=new Br(l);u={next:function(y){i[a]&&i[a](new Qn(l,m,d,y))},error:i[a+1],complete:i[a+2]},UE(e._query)}return function(y,_,v,p){var g=this,E=new lc(p),T=new Hp(_,E,v);return y.asyncQueue.enqueueAndForget(function(){return b(g,void 0,void 0,function(){var N;return x(this,function(A){switch(A.label){case 0:return N=Bp,[4,go(y)];case 1:return[2,N.apply(void 0,[A.sent(),T])]}})})}),function(){E.Wo(),y.asyncQueue.enqueueAndForget(function(){return b(g,void 0,void 0,function(){var N;return x(this,function(A){switch(A.label){case 0:return N=zp,[4,go(y)];case 1:return[2,N.apply(void 0,[A.sent(),T])]}})})})}}(Qe(l),c,f,u)}function wa(e,t){return function(n,r){var i=this,o=new Et;return n.asyncQueue.enqueueAndForget(function(){return b(i,void 0,void 0,function(){var s;return x(this,function(a){switch(a.label){case 0:return s=yP,[4,bE(n)];case 1:return[2,s.apply(void 0,[a.sent(),r,o])]}})})}),o.promise}(Qe(e),t)}function Gh(e,t,n){var r=n.docs.get(t._key),i=new Br(e);return new In(e,i,t._key,r,new Mr(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iA=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return U(t,e),t.prototype.get=function(n){var r=this,i=Xn(n,this._firestore),o=new Br(this._firestore);return e.prototype.get.call(this,n).then(function(s){return new In(r._firestore,o,i._key,s._document,new Mr(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=pi(t)}return e.prototype.get=function(t){var n=this,r=Xn(t,this._firestore),i=new nA(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return F();var s=o[0];if(s.isFoundDocument())return new qs(n._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new qs(n._firestore,i,r._key,null,r.converter);throw F()})},e.prototype.set=function(t,n,r){var i=Xn(t,this._firestore),o=pc(i.converter,n,r),s=dc(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s,a=Xn(t,this._firestore);return s=typeof(n=ne(n))=="string"||n instanceof dn?rm(this._dataReader,"Transaction.update",a._key,n,r,i):nm(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,s),this},e.prototype.delete=function(t){var n=Xn(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(){if(typeof Uint8Array>"u")throw new k(S.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ay(){if(typeof atob>"u")throw new k(S.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var qE=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return ay(),new e(ni.fromBase64String(t))},e.fromUint8Array=function(t){return sy(),new e(ni.fromUint8Array(t))},e.prototype.toBase64=function(){return ay(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return sy(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),oA=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){Jg(r=ee(r,Ne));var o=Qe(r),s=r._freezeSettings(),a=new Kh;return Yg(o,a,new _E(a,s.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){Jg(n=ee(n,Ne));var r=Qe(n),i=n._freezeSettings(),o=new Kh;return Yg(r,o,new DP(o,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new k(S.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new Et;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return b(r,void 0,void 0,function(){var o;return x(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(a){return b(this,void 0,void 0,function(){var u;return x(this,function(l){switch(l.label){case 0:return fo.yt()?(u=a+"main",[4,fo.delete(u)]):[2,Promise.resolve()];case 1:return l.sent(),[2]}})})}(jp(n._databaseId,n._persistenceKey))];case 1:return s.sent(),i.resolve(),[3,3];case 2:return o=s.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),HE=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof gl||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||il("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,o,s,a){var u;a===void 0&&(a={});var l=(i=ee(i,zs))._getSettings();if(l.host!=="firestore.googleapis.com"&&l.host!==o&&il("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},l),{host:o+":"+s,ssl:!1})),a.mockUserToken){var c,f;if(typeof a.mockUserToken=="string")c=a.mockUserToken,f=je.MOCK_USER;else{c=Zw(a.mockUserToken,(u=i._app)===null||u===void 0?void 0:u.options.projectId);var h=a.mockUserToken.sub||a.mockUserToken.user_id;if(!h)throw new k(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new je(h)}i._credentials=new FP(new TE(c,f))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return b(n,void 0,void 0,function(){var r,i;return x(this,function(o){switch(o.label){case 0:return[4,Vg(t)];case 1:return r=o.sent(),[4,Bg(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(s){var a=D(s);return a.Or.delete(0),ga(a)}(i))]}})})})}(Qe(ee(this._delegate,Ne)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return b(n,void 0,void 0,function(){var r,i;return x(this,function(o){switch(o.label){case 0:return[4,Vg(t)];case 1:return r=o.sent(),[4,Bg(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(s){return b(this,void 0,void 0,function(){var a;return x(this,function(u){switch(u.label){case 0:return(a=D(s)).Or.add(0),[4,Io(a)];case 1:return u.sent(),a.Br.set("Offline"),[2]}})})}(i))]}})})})}(Qe(ee(this._delegate,Ne)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&kE("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new Et;return t.asyncQueue.enqueueAndForget(function(){return b(n,void 0,void 0,function(){var i;return x(this,function(o){switch(o.label){case 0:return i=SP,[4,bE(t)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(Qe(ee(this._delegate,Ne)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,o){var s=this,a=new lc(o);return i.asyncQueue.enqueueAndForget(function(){return b(s,void 0,void 0,function(){var u;return x(this,function(l){switch(l.label){case 0:return u=function(c,f){D(c).Gr.add(f),f.next()},[4,go(i)];case 1:return[2,u.apply(void 0,[l.sent(),a])]}})})}),function(){a.Wo(),i.asyncQueue.enqueueAndForget(function(){return b(s,void 0,void 0,function(){var u;return x(this,function(l){switch(l.label){case 0:return u=function(c,f){D(c).Gr.delete(f)},[4,go(i)];case 1:return[2,u.apply(void 0,[l.sent(),a])]}})})})}}(Qe(n=ee(n,Ne)),yo(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new k(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new _l(this,IE(this._delegate,t))}catch(n){throw rt(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new zr(this,_u(this._delegate,t))}catch(n){throw rt(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new gc(this,function(n,r){if(n=ee(n,zs),Zp("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new k(S.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new At(n,null,function(i){return new Ln(Z.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw rt(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(o,s){var a=this,u=new Et;return o.asyncQueue.enqueueAndForget(function(){return b(a,void 0,void 0,function(){var l;return x(this,function(c){switch(c.label){case 0:return[4,function(f){return cc(f).then(function(h){return h.datastore})}(o)];case 1:return l=c.sent(),new LP(o.asyncQueue,l,s,u).run(),[2]}})})}),u.promise}(Qe(r),function(o){return i(new iA(r,o))})}(this._delegate,function(r){return t(new KE(n,r))})},e.prototype.batch=function(){var t=this;return Qe(this._delegate),new WE(new rA(this._delegate,function(n){return wa(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new k(S.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new k(S.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),mc=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return U(t,e),t.prototype.convertBytes=function(n){return new qE(new ni(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return zr.eu(r,this.firestore,null)},t}(sm);function sA(e){var t;t=e,Zt.setLogLevel(t)}var KE=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new mc(t)}return e.prototype.get=function(t){var n=this,r=Fr(t);return this._delegate.get(r).then(function(i){return new Hs(n._firestore,new In(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=Fr(t);return r?(em("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=Fr(t);return arguments.length===2?this._delegate.update(a,n):(i=this._delegate).update.apply(i,ue([a,n,r],o)),this},e.prototype.delete=function(t){var n=Fr(t);return this._delegate.delete(n),this},e}(),WE=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=Fr(t);return r?(em("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=Fr(t);return arguments.length===2?this._delegate.update(a,n):(i=this._delegate).update.apply(i,ue([a,n,r],o)),this},e.prototype.delete=function(t){var n=Fr(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),vc=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new ls(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ks(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new mc(t),n),i.set(n,o)),o},e}();vc.su=new WeakMap;var zr=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new mc(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new k(S.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new he(n._delegate,r,new $(t)))},e.eu=function(t,n,r){return new e(n,new he(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new _l(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new _l(this.firestore,IE(this._delegate,t))}catch(n){throw rt(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=ne(t))instanceof he&&NE(this._delegate,t)},e.prototype.set=function(t,n){n=em("DocumentReference.set",n);try{return n?iy(this._delegate,t,n):iy(this._delegate,t)}catch(r){throw rt(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?oy(this._delegate,t):oy.apply(void 0,ue([this._delegate,t,n],r))}catch(o){throw rt(o,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return wa(ee((t=this._delegate).firestore,Ne),[new va(t._key,Xe.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=GE(n),o=QE(n,function(s){return new Hs(t.firestore,new In(t.firestore._delegate,t._userDataWriter,s._key,s._document,s.metadata,t._delegate.converter))});return zE(this._delegate,i,o)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ee(r,he);var i=ee(r.firestore,Ne),o=Qe(i),s=new Br(i);return function(a,u){var l=this,c=new Et;return a.asyncQueue.enqueueAndForget(function(){return b(l,void 0,void 0,function(){var f;return x(this,function(h){switch(h.label){case 0:return f=function(d,m,y){return b(this,void 0,void 0,function(){var _,v;return x(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,function(g,E){var T=D(g);return T.persistence.runTransaction("read document","readonly",function(N){return T.Mn.mn(N,E)})}(d,m)];case 1:return(v=p.sent()).isFoundDocument()?y.resolve(v):v.isNoDocument()?y.resolve(null):y.reject(new k(S.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return _=p.sent(),v=Ro(_,"Failed to get document '"+m+" from cache"),y.reject(v),[3,3];case 3:return[2]}})})},[4,xE(a)];case 1:return[2,f.apply(void 0,[h.sent(),u,c])]}})})}),c.promise}(o,r._key).then(function(a){return new In(i,s,r._key,a,new Mr(a!==null&&a.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ee(r,he);var i=ee(r.firestore,Ne);return zg(Qe(i),r._key,{source:"server"}).then(function(o){return Gh(i,r,o)})}(this._delegate):function(r){r=ee(r,he);var i=ee(r.firestore,Ne);return zg(Qe(i),r._key).then(function(o){return Gh(i,r,o)})}(this._delegate)).then(function(r){return new Hs(n.firestore,new In(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(vc.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function rt(e,t,n){return e.message=e.message.replace(t,n),e}function GE(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!yo(r))return r}return{}}function QE(e,t){var n,r,i;return{next:function(o){i.next&&i.next(t(o))},error:(n=(i=yo(e[0])?e[0]:yo(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Hs=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new zr(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return $E(this._delegate,t._delegate)},e}(),Ks=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Hs),gc=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new mc(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Un(this._delegate,function(i,o,s){var a=o,u=wl("where",i);return new eA(u,a,s)}(t,n,r)))}catch(i){throw rt(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Un(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,s=wl("orderBy",r);return new tA(s,o)}(t,n)))}catch(r){throw rt(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Un(this._delegate,function(n){return Qg("limit",n),new Zg("limit",n,"F")}(t)))}catch(n){throw rt(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Un(this._delegate,function(n){return Qg("limitToLast",n),new Zg("limitToLast",n,"L")}(t)))}catch(n){throw rt(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Un(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new ey("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw rt(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Un(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new ey("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw rt(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Un(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new ty("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw rt(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Un(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new ty("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw rt(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return CE(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ee(r,At);var i=ee(r.firestore,Ne),o=Qe(i),s=new Br(i);return function(a,u){var l=this,c=new Et;return a.asyncQueue.enqueueAndForget(function(){return b(l,void 0,void 0,function(){var f;return x(this,function(h){switch(h.label){case 0:return f=function(d,m,y){return b(this,void 0,void 0,function(){var _,v,p,g,E;return x(this,function(T){switch(T.label){case 0:return T.trys.push([0,2,,3]),[4,pl(d,m,!0)];case 1:return E=T.sent(),_=new mE(m,E.Bn),v=_._o(E.documents),p=_.applyChanges(v,!1),y.resolve(p.snapshot),[3,3];case 2:return g=T.sent(),E=Ro(g,"Failed to execute query '"+m+" against cache"),y.reject(E),[3,3];case 3:return[2]}})})},[4,xE(a)];case 1:return[2,f.apply(void 0,[h.sent(),u,c])]}})})}),c.promise}(o,r._query).then(function(a){return new Qn(i,s,r,a)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ee(r,At);var i=ee(r.firestore,Ne),o=Qe(i),s=new Br(i);return qg(o,r._query,{source:"server"}).then(function(a){return new Qn(i,s,r,a)})}(this._delegate):function(r){r=ee(r,At);var i=ee(r.firestore,Ne),o=Qe(i),s=new Br(i);return UE(r._query),qg(o,r._query).then(function(a){return new Qn(i,s,r,a)})}(this._delegate)).then(function(r){return new Qh(n.firestore,new Qn(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=GE(n),o=QE(n,function(s){return new Qh(t.firestore,new Qn(t.firestore._delegate,t._userDataWriter,t._delegate,s._snapshot))});return zE(this._delegate,i,o)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(vc.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),aA=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ks(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Qh=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new gc(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Ks(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new aA(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new Ks(r._firestore,i))})},e.prototype.isEqual=function(t){return $E(this._delegate,t._delegate)},e}(),_l=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return U(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new zr(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new zr(this.firestore,n===void 0?_u(this._delegate):_u(this._delegate,n))}catch(r){throw rt(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,o){var s=ee(i.firestore,Ne),a=_u(i),u=pc(i.converter,o);return wa(s,[dc(pi(i.firestore),"addDoc",a._key,u,i.converter!==null,{}).toMutation(a._key,Xe.exists(!1))]).then(function(){return a})}(this._delegate,n).then(function(i){return new zr(r.firestore,i)})},t.prototype.isEqual=function(n){return NE(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(vc.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(gc);function Fr(e){return ee(e,he)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uA=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(dn.bind.apply(dn,ue([void 0],t)))}return e.documentId=function(){return new e(on.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=ne(t))instanceof dn&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),lA=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new WP("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new tm("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new GP("arrayUnion",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new QP("arrayRemove",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new XP("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),cA={Firestore:HE,GeoPoint:hc,Timestamp:wt,Blob:qE,Transaction:KE,WriteBatch:WE,DocumentReference:zr,DocumentSnapshot:Hs,Query:gc,QueryDocumentSnapshot:Ks,QuerySnapshot:Qh,CollectionReference:_l,FieldPath:uA,FieldValue:lA,setLogLevel:sA,CACHE_SIZE_UNLIMITED:zP};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(e){(function(t,n){t.INTERNAL.registerComponent(new na("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},cA)))})(e,function(t,n){return new HE(t,new Ne(t,n),new oA)}),e.registerVersion("@firebase/firestore","2.4.1")}fA(rn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XE="firebasestorage.googleapis.com",YE="storageBucket",hA=2*60*1e3,dA=10*60*1e3,Te=function(e){U(t,e);function t(n,r){var i=e.call(this,vf(n),"Firebase Storage: "+r+" ("+vf(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return vf(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(t1);function vf(e){return"storage/"+e}function am(){var e="An unknown error occurred, please check the error payload for server response.";return new Te("unknown",e)}function pA(e){return new Te("object-not-found","Object '"+e+"' does not exist.")}function mA(e){return new Te("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vA(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Te("unauthenticated",e)}function gA(){return new Te("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function yA(e){return new Te("unauthorized","User does not have permission to access '"+e+"'.")}function wA(){return new Te("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function JE(){return new Te("canceled","User canceled the upload/download.")}function _A(e){return new Te("invalid-url","Invalid URL '"+e+"'.")}function EA(e){return new Te("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function SA(){return new Te("no-default-bucket","No default bucket found. Did you set the '"+YE+"' property when initializing the app?")}function ZE(){return new Te("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function xA(){return new Te("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function bA(){return new Te("no-download-url","The given file does not have any download URLs.")}function qi(e){return new Te("invalid-argument",e)}function eS(){return new Te("app-deleted","The Firebase app was deleted.")}function tS(e){return new Te("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cs(e,t){return new Te("invalid-format","String does not match format '"+e+"': "+t)}function Qa(e){throw new Te("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},gf=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function nS(e,t){switch(e){case Vt.RAW:return new gf(rS(t));case Vt.BASE64:case Vt.BASE64URL:return new gf(iS(e,t));case Vt.DATA_URL:return new gf(IA(t),NA(t))}throw am()}function rS(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var o=r,s=e.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function kA(e){var t;try{t=decodeURIComponent(e)}catch{throw cs(Vt.DATA_URL,"Malformed data URL.")}return rS(t)}function iS(e,t){switch(e){case Vt.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw cs(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Vt.BASE64URL:{var o=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(o||s){var i=o?"+":"/";throw cs(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var a;try{a=TA(t)}catch{throw cs(e,"Invalid character found")}for(var u=new Uint8Array(a.length),l=0;l<a.length;l++)u[l]=a.charCodeAt(l);return u}var oS=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw cs(Vt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=CA(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function IA(e){var t=new oS(e);return t.base64?iS(Vt.BASE64,t.rest):kA(t.rest)}function NA(e){var t=new oS(e);return t.contentType}function CA(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RA={STATE_CHANGED:"state_changed"},it={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yf(e){switch(e){case"running":case"pausing":case"canceling":return it.RUNNING;case"paused":return it.PAUSED;case"success":return it.SUCCESS;case"canceled":return it.CANCELED;case"error":return it.ERROR;default:return it.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qr;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(qr||(qr={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PA=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=qr.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=qr.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=qr.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw Qa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Qa("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Qa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Qa("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function AA(){return new PA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DA=function(){function e(){}return e.prototype.createConnection=function(){return AA()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw EA(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function o(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}var s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function l(q){q.path_=decodeURIComponent(q.path)}for(var c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",d=new RegExp("^https?://"+f+"/"+c+"/b/"+i+"/o"+h,"i"),m={bucket:1,path:3},y=n===XE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",v=new RegExp("^https?://"+y+"/"+i+"/"+_,"i"),p={bucket:1,path:2},g=[{regex:a,indices:u,postModify:o},{regex:d,indices:m,postModify:l},{regex:v,indices:p,postModify:l}],E=0;E<g.length;E++){var T=g[E],N=T.regex.exec(t);if(N){var A=N[T.indices.bucket],M=N[T.indices.path];M||(M=""),r=new e(A,M),T.postModify(r);break}}if(r==null)throw _A(t);return r},e}(),OA=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(e,t,n){var r=1,i=null,o=!1,s=0;function a(){return s===2}var u=!1;function l(){for(var m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];u||(u=!0,t.apply(null,m))}function c(m){i=setTimeout(function(){i=null,e(f,a())},m)}function f(m){for(var y=[],_=1;_<arguments.length;_++)y[_-1]=arguments[_];if(!u){if(m){l.call.apply(l,ue([null,m],y));return}var v=a()||o;if(v){l.call.apply(l,ue([null,m],y));return}r<64&&(r*=2);var p;s===1?(s=2,p=0):p=(r+Math.random())*1e3,c(p)}}var h=!1;function d(m){h||(h=!0,!u&&(i!==null?(m||(s=2),clearTimeout(i),c(0)):m||(s=1)))}return c(0),setTimeout(function(){o=!0,d(!0)},n),d}function jA(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(e){return e!==void 0}function FA(e){return typeof e=="function"}function $A(e){return typeof e=="object"&&!Array.isArray(e)}function yc(e){return typeof e=="string"||e instanceof String}function uy(e){return um()&&e instanceof Blob}function um(){return typeof Blob<"u"}function Xh(e,t,n,r){if(r<t)throw qi("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw qi("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=t;return r==null&&(i="https://"+t),i+"/v0"+e}function sS(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UA=function(){function e(t,n,r,i,o,s,a,u,l,c,f){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=a,this.errorCallback_=u,this.progressCallback_=c,this.timeout_=l,this.pool_=f,this.promise_=new Promise(function(d,m){h.resolve_=d,h.reject_=m,h.start_()})}return e.prototype.start_=function(){var t=this;function n(i,o){if(o){i(!1,new Xa(!1,null,!0));return}var s=t.pool_.createConnection();t.pendingConnection_=s;function a(u){var l=u.loaded,c=u.lengthComputable?u.total:-1;t.progressCallback_!==null&&t.progressCallback_(l,c)}t.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&s.removeUploadProgressListener(a),t.pendingConnection_=null;var u=s.getErrorCode()===qr.NO_ERROR,l=s.getStatus();if(!u||t.isRetryStatusCode_(l)){var c=s.getErrorCode()===qr.ABORT;i(!1,new Xa(!1,null,c));return}var f=t.successCodes_.indexOf(l)!==-1;i(!0,new Xa(f,s))})}function r(i,o){var s=t.resolve_,a=t.reject_,u=o.connection;if(o.wasSuccessCode)try{var l=t.callback_(u,u.getResponseText());MA(l)?s(l):s()}catch(f){a(f)}else if(u!==null){var c=am();c.serverResponse=u.getResponseText(),t.errorCallback_?a(t.errorCallback_(u,c)):a(c)}else if(o.canceled){var c=t.appDelete_?eS():JE();a(c)}else{var c=wA();a(c)}}this.canceled_?r(!1,new Xa(!1,null,!0)):this.backoffId_=LA(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&jA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,o=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||o},e}(),Xa=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function VA(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function BA(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function zA(e,t){t&&(e["X-Firebase-GMPID"]=t)}function qA(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function HA(e,t,n,r,i,o){var s=sS(e.urlParams),a=e.url+s,u=Object.assign({},e.headers);return zA(u,t),VA(u,n),BA(u,o),qA(u,r),new UA(a,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function WA(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=KA();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(um())return new Blob(e);throw new Te("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function GA(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lm=function(){function e(t,n){var r=0,i="";uy(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(uy(this.data_)){var r=this.data_,i=GA(r,t,n);return i===null?null:new e(i)}else{var o=new Uint8Array(this.data_.buffer,t,n-t);return new e(o,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(um()){var r=t.map(function(u){return u instanceof e?u.data_:u});return new e(WA.apply(null,r))}else{var i=t.map(function(u){return yc(u)?nS(Vt.RAW,u).data:u.data_}),o=0;i.forEach(function(u){o+=u.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(u){for(var l=0;l<u.length;l++)s[a++]=u[l]}),new e(s,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(e){var t;try{t=JSON.parse(e)}catch{return null}return $A(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function XA(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function aS(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(e,t){return t}var tt=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||YA}return e}(),Ya=null;function JA(e){return!yc(e)||e.length<2?e:aS(e)}function wc(){if(Ya)return Ya;var e=[];e.push(new tt("bucket")),e.push(new tt("generation")),e.push(new tt("metageneration")),e.push(new tt("name","fullPath",!0));function t(o,s){return JA(s)}var n=new tt("name");n.xform=t,e.push(n);function r(o,s){return s!==void 0?Number(s):s}var i=new tt("size");return i.xform=r,e.push(i),e.push(new tt("timeCreated")),e.push(new tt("updated")),e.push(new tt("md5Hash",null,!0)),e.push(new tt("cacheControl",null,!0)),e.push(new tt("contentDisposition",null,!0)),e.push(new tt("contentEncoding",null,!0)),e.push(new tt("contentLanguage",null,!0)),e.push(new tt("contentType",null,!0)),e.push(new tt("metadata","customMetadata",!0)),Ya=e,Ya}function ZA(e,t){function n(){var r=e.bucket,i=e.fullPath,o=new Bt(r,i);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function eD(e,t,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,t[s.server])}return ZA(r,e),r}function uS(e,t,n){var r=cm(t);if(r===null)return null;var i=r;return eD(e,i,n)}function tD(e,t,n){var r=cm(t);if(r===null||!yc(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var o=encodeURIComponent,s=i.split(","),a=s.map(function(u){var l=e.bucket,c=e.fullPath,f="/b/"+o(l)+"/o/"+o(c),h=br(f,n),d=sS({alt:"media",token:u});return h+d});return a[0]}function fm(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ly="prefixes",cy="items";function nD(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[ly])for(var i=0,o=n[ly];i<o.length;i++){var s=o[i],a=s.replace(/\/$/,""),u=e._makeStorageReference(new Bt(t,a));r.prefixes.push(u)}if(n[cy])for(var l=0,c=n[cy];l<c.length;l++){var f=c[l],u=e._makeStorageReference(new Bt(t,f.name));r.items.push(u)}return r}function rD(e,t,n){var r=cm(n);if(r===null)return null;var i=r;return nD(e,t,i)}var jn=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(e){if(!e)throw am()}function _c(e,t){function n(r,i){var o=uS(e,i,t);return pn(o!==null),o}return n}function iD(e,t){function n(r,i){var o=rD(e,t,i);return pn(o!==null),o}return n}function oD(e,t){function n(r,i){var o=uS(e,i,t);return pn(o!==null),tD(o,i,e.host)}return n}function Po(e){function t(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=gA():i=vA():n.getStatus()===402?i=mA(e.bucket):n.getStatus()===403?i=yA(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function Ec(e){var t=Po(e);function n(r,i){var o=t(r,i);return r.getStatus()===404&&(o=pA(e.path)),o.serverResponse=i.serverResponse,o}return n}function lS(e,t,n){var r=t.fullServerUrl(),i=br(r,e.host),o="GET",s=e.maxOperationRetryTime,a=new jn(i,o,_c(e,n),s);return a.errorHandler=Ec(t),a}function sD(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=t.bucketOnlyServerUrl(),a=br(s,e.host),u="GET",l=e.maxOperationRetryTime,c=new jn(a,u,iD(e,t.bucket),l);return c.urlParams=o,c.errorHandler=Po(t),c}function aD(e,t,n){var r=t.fullServerUrl(),i=br(r,e.host),o="GET",s=e.maxOperationRetryTime,a=new jn(i,o,oD(e,n),s);return a.errorHandler=Ec(t),a}function uD(e,t,n,r){var i=t.fullServerUrl(),o=br(i,e.host),s="PATCH",a=fm(n,r),u={"Content-Type":"application/json; charset=utf-8"},l=e.maxOperationRetryTime,c=new jn(o,s,_c(e,r),l);return c.headers=u,c.body=a,c.errorHandler=Ec(t),c}function lD(e,t){var n=t.fullServerUrl(),r=br(n,e.host),i="DELETE",o=e.maxOperationRetryTime;function s(u,l){}var a=new jn(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=Ec(t),a}function cD(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function cS(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=cD(null,t)),r}function fD(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){for(var g="",E=0;E<2;E++)g=g+Math.random().toString().slice(2);return g}var u=a();s["Content-Type"]="multipart/related; boundary="+u;var l=cS(t,r,i),c=fm(l,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,h=`\r
--`+u+"--",d=lm.getBlob(f,r,h);if(d===null)throw ZE();var m={name:l.fullPath},y=br(o,e.host),_="POST",v=e.maxUploadRetryTime,p=new jn(y,_,_c(e,n),v);return p.urlParams=m,p.headers=s,p.body=d.uploadData(),p.errorHandler=Po(t),p}var El=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function hm(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{pn(!1)}var r=t||["active"];return pn(!!n&&r.indexOf(n)!==-1),n}function hD(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),s=cS(t,r,i),a={name:s.fullPath},u=br(o,e.host),l="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=fm(s,n),h=e.maxUploadRetryTime;function d(y){hm(y);var _;try{_=y.getResponseHeader("X-Goog-Upload-URL")}catch{pn(!1)}return pn(yc(_)),_}var m=new jn(u,l,d,h);return m.urlParams=a,m.headers=c,m.body=f,m.errorHandler=Po(t),m}function dD(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function o(l){var c=hm(l,["active","final"]),f=null;try{f=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{pn(!1)}f||pn(!1);var h=Number(f);return pn(!isNaN(h)),new El(h,r.size(),c==="final")}var s="POST",a=e.maxUploadRetryTime,u=new jn(n,s,o,a);return u.headers=i,u.errorHandler=Po(t),u}var fy=256*1024;function pD(e,t,n,r,i,o,s,a){var u=new El(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw xA();var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var f=u.current,h=f+c,d=c===l?"upload, finalize":"upload",m={"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":""+u.current},y=r.slice(f,h);if(y===null)throw ZE();function _(E,T){var N=hm(E,["active","final"]),A=u.current+c,M=r.size(),q;return N==="final"?q=_c(t,o)(E,T):q=null,new El(A,M,N==="final",q)}var v="POST",p=t.maxUploadRetryTime,g=new jn(n,v,_,p);return g.headers=m,g.body=y.uploadData(),g.progressCallback=a||null,g.errorHandler=Po(e),g}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mD=function(){function e(t,n,r){var i=FA(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fS=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=wc(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(o){i._request=void 0,i._chunkMultiplier=1,o._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=o,i._transition("error"))},this._metadataErrorHandler=function(o){i._request=void 0,o._codeEquals("canceled")?i.completeTransitions_():(i._error=o,i._transition("error"))},this._promise=new Promise(function(o,s){i._resolve=o,i._reject=s,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],o=r[1];switch(n._state){case"running":t(i,o);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var i=hD(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then(function(s){t._request=void 0,t._uploadUrl=s,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,i){var o=dD(t._ref.storage,t._ref._location,n,t._blob),s=t._ref.storage._makeRequest(o,r,i);t._request=s,s.getPromise().then(function(a){a=a,t._request=void 0,t._updateProgress(a.current),t._needToFetchStatus=!1,a.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=fy*this._chunkMultiplier,r=new El(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(o,s){var a;try{a=pD(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(l){t._error=l,t._transition("error");return}var u=t._ref.storage._makeRequest(a,o,s);t._request=u,u.getPromise().then(function(l){t._increaseMultiplier(),t._request=void 0,t._updateProgress(l.current),l.finalized?(t._metadata=l.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=fy*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var i=lS(t._ref.storage,t._ref._location,t._mappings),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then(function(s){t._request=void 0,t._metadata=s,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var i=fD(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then(function(s){t._request=void 0,t._metadata=s,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=JE(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=yf(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var o=this,s=new mD(n,r,i);return this._addObserver(s),function(){o._removeObserver(s)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(yf(this._state)){case it.SUCCESS:wi(this._resolve.bind(null,this.snapshot))();break;case it.CANCELED:case it.ERROR:var n=this._reject;wi(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=yf(this._state);switch(n){case it.RUNNING:case it.PAUSED:t.next&&wi(t.next.bind(t,this.snapshot))();break;case it.SUCCESS:t.complete&&wi(t.complete.bind(t))();break;case it.CANCELED:case it.ERROR:t.error&&wi(t.error.bind(t,this._error))();break;default:t.error&&wi(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sc=function(){function e(t,n){this._service=t,n instanceof Bt?this._location=n:this._location=Bt.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new Bt(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return aS(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=QA(this._location.path);if(t===null)return null;var n=new Bt(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw tS(t)},e}();function vD(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new fS(e,new lm(t),n)}function gD(e){var t={prefixes:[],items:[]};return hS(e,t).then(function(){return t})}function hS(e,t,n){return b(this,void 0,void 0,function(){var r,i,o,s;return x(this,function(a){switch(a.label){case 0:return r={pageToken:n},[4,dS(e,r)];case 1:return i=a.sent(),(o=t.prefixes).push.apply(o,i.prefixes),(s=t.items).push.apply(s,i.items),i.nextPageToken==null?[3,3]:[4,hS(e,t,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function dS(e,t){return b(this,void 0,void 0,function(){var n,r;return x(this,function(i){switch(i.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Xh("options.maxResults",1,1e3,t.maxResults),n=t||{},r=sD(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function yD(e){return b(this,void 0,void 0,function(){var t;return x(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=lS(e.storage,e._location,wc()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function wD(e,t){return b(this,void 0,void 0,function(){var n;return x(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=uD(e.storage,e._location,t,wc()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function _D(e){return b(this,void 0,void 0,function(){var t;return x(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=aD(e.storage,e._location,wc()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw bA();return r})]}})})}function ED(e){return b(this,void 0,void 0,function(){var t;return x(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=lD(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function pS(e,t){var n=XA(e._location.path,t),r=new Bt(e._location.bucket,n);return new Sc(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(e){return/^[A-Za-z]+:\/\//.test(e)}function SD(e,t){return new Sc(e,t)}function mS(e,t){if(e instanceof xc){var n=e;if(n._bucket==null)throw SA();var r=new Sc(n,n._bucket);return t!=null?mS(r,t):r}else return t!==void 0?pS(e,t):e}function xD(e,t){if(t&&Yh(t)){if(e instanceof xc)return SD(e,t);throw qi("To use ref(service, url), the first argument must be a Storage instance.")}else return mS(e,t)}function hy(e,t){var n=t==null?void 0:t[YE];return n==null?null:Bt.makeFromBucketSpec(n,e)}function bD(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken=typeof i=="string"?i:Zw(i,e.app.options.projectId))}var xc=function(){function e(t,n,r,i,o,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=o,this._firebaseVersion=s,this._bucket=null,this._host=XE,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hA,this._maxUploadRetryTime=dA,this._requests=new Set,o!=null?this._bucket=Bt.makeFromBucketSpec(o,this._host):this._bucket=hy(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=Bt.makeFromBucketSpec(this._url,t):this._bucket=hy(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Xh("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Xh("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return b(this,void 0,void 0,function(){var t,n;return x(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return b(this,void 0,void 0,function(){var t,n;return x(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Sc(this,t)},e.prototype._makeRequest=function(t,n,r){var i=this;if(this._deleted)return new OA(eS());var o=HA(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(function(){return i._requests.delete(o)},function(){return i._requests.delete(o)}),o},e.prototype.makeRequestWithTokens=function(t){return b(this,void 0,void 0,function(){var n,r,i;return x(this,function(o){switch(o.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=o.sent(),r=n[0],i=n[1],[2,this._makeRequest(t,r,i)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(e,t,n){return e=ne(e),vD(e,t,n)}function kD(e){return e=ne(e),yD(e)}function ID(e,t){return e=ne(e),wD(e,t)}function ND(e,t){return e=ne(e),dS(e,t)}function CD(e){return e=ne(e),gD(e)}function RD(e){return e=ne(e),_D(e)}function PD(e){return e=ne(e),ED(e)}function dy(e,t){return e=ne(e),xD(e,t)}function AD(e,t){return pS(e,t)}function DD(e,t,n,r){r===void 0&&(r={}),bD(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ja=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var py=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Ja(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new Ja(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var o=this,s=void 0;return n&&(typeof n=="function"?s=function(a){return n(new Ja(a,o,o._ref))}:s={next:n.next?function(a){return n.next(new Ja(a,o,o._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,s,r||void 0,i||void 0)},e}(),my=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Ws(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Ws(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ws=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=AD(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new py(TD(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=Vt.RAW),this._throwIfRoot("putString");var i=nS(n,t),o=Zi({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),new py(new fS(this._delegate,new lm(i.data,!0),o),this)},e.prototype.listAll=function(){var t=this;return CD(this._delegate).then(function(n){return new my(n,t.storage)})},e.prototype.list=function(t){var n=this;return ND(this._delegate,t||void 0).then(function(r){return new my(r,n.storage)})},e.prototype.getMetadata=function(){return kD(this._delegate)},e.prototype.updateMetadata=function(t){return ID(this._delegate,t)},e.prototype.getDownloadURL=function(){return RD(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),PD(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw tS(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OD=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Yh(t))throw qi("ref() expected a child path but got a URL, use refFromURL instead.");return new Ws(dy(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Yh(t))throw qi("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Bt.makeFromUrl(t,this._delegate.host)}catch{throw qi("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ws(dy(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),DD(this._delegate,t,n,r)},e}(),LD="@firebase/storage",jD="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MD="storage";function FD(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal"),s=new OD(r,new xc(r,i,o,new DA,n,rn.SDK_VERSION));return s}function $D(e){var t={TaskState:it,TaskEvent:RA,StringFormat:Vt,Storage:xc,Reference:Ws};e.INTERNAL.registerComponent(new na(MD,FD,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(LD,jD)}$D(rn);const UD={apiKey:"AIzaSyDHZOmC4GbN6JJ4UGn8RG-nOKp6U_-5c8Q",authDomain:"galeryproject-8ff43.firebaseapp.com",projectId:"galeryproject-8ff43",storageBucket:"galeryproject-8ff43.appspot.com",messagingSenderId:"1234567890",appId:"1:1234567890:web:1234567890abcdef"};rn.apps.length||rn.initializeApp(UD);const vy=rn.firestore(),VD=rn.storage();function BD(){const[e,t]=I.useState([]),[n,r]=I.useState(!1),[i,o]=I.useState(!1),[s,a]=I.useState(null);I.useEffect(()=>{u()},[]);const u=async(c="")=>{try{let f=vy.collection("images").orderBy("timestamp","desc");c&&(f=f.where("tags","array-contains",c.toLowerCase()).or("title","==",c).or("author","==",c));const d=(await f.get()).docs.map(m=>({id:m.id,...m.data()}));t(d)}catch(f){console.error("Error fetching images:",f)}},l=async c=>{c.preventDefault();const f=c.target,h=new FormData(f),d=h.get("image-file"),m=h.get("image-title"),y=h.get("image-prompt"),_=h.get("image-tags").split(",").map(p=>p.trim().toLowerCase()),v=h.get("image-author");try{const p=VD.ref(`images/${d.name}`);await p.put(d);const g=await p.getDownloadURL();await vy.collection("images").add({title:m,prompt:y,tags:_,author:v,imageUrl:g,timestamp:rn.firestore.FieldValue.serverTimestamp()}),r(!1),f.reset(),u()}catch(p){console.error("Error uploading image:",p)}};return w.jsxs("div",{className:"min-h-screen pt-16",children:[w.jsx("header",{className:"bg-white shadow-sm py-8",children:w.jsxs("div",{className:"container mx-auto px-6",children:[w.jsx("h1",{className:"text-3xl font-bold",children:" AI Skills Advanced LoRA's"}),w.jsxs("div",{className:"mt-4 flex flex-wrap gap-4",children:[w.jsx("div",{className:"flex-1",children:w.jsx("input",{type:"text",placeholder:"Search images...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",onChange:c=>u(c.target.value)})}),w.jsx("button",{onClick:()=>r(!0),className:"px-6 py-2 bg-black text-white rounded-lg hover:bg-gray-900 transition-colors",children:"+ Upload New Image"})]})]})}),w.jsx("main",{className:"container mx-auto px-6 py-8",children:w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(c=>w.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden cursor-pointer hover:shadow-xl transition-shadow",onClick:()=>{a(c),o(!0)},children:[w.jsx("img",{src:c.imageUrl,alt:c.title,className:"w-full h-48 object-cover"}),w.jsxs("div",{className:"p-4",children:[w.jsx("h3",{className:"text-xl font-semibold mb-2",children:c.title}),w.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:c.prompt}),w.jsx("div",{className:"flex flex-wrap gap-2",children:c.tags.map((f,h)=>w.jsx("span",{className:"px-3 py-1 bg-gray-100 rounded-full text-sm",children:f},h))})]})]},c.id))})}),n&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:w.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-lg w-full",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-xl font-bold",children:"Upload New Image"}),w.jsx("button",{onClick:()=>r(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),w.jsx("form",{onSubmit:l,children:w.jsxs("div",{className:"space-y-4",children:[w.jsx("input",{type:"file",name:"image-file",accept:"image/*",required:!0,className:"w-full"}),w.jsx("input",{type:"text",name:"image-title",placeholder:"Title",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}),w.jsx("textarea",{name:"image-prompt",placeholder:"Prompt",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}),w.jsx("input",{type:"text",name:"image-tags",placeholder:"Tags (comma-separated)",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}),w.jsx("input",{type:"text",name:"image-author",placeholder:"Author",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}),w.jsx("button",{type:"submit",className:"w-full px-6 py-2 bg-black text-white rounded-lg hover:bg-gray-900 transition-colors",children:"Upload"})]})})]})}),i&&s&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:w.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-xl font-bold",children:s.title}),w.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),w.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full max-h-[60vh] object-contain rounded-lg mb-4"}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("p",{className:"text-gray-600",children:s.prompt}),w.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((c,f)=>w.jsx("span",{className:"px-3 py-1 bg-gray-100 rounded-full text-sm",children:c},f))}),w.jsxs("p",{className:"text-gray-500",children:["By: ",s.author]})]})]})})]})}function zD(){return w.jsx(zT,{children:w.jsxs("div",{className:"min-h-screen bg-white",children:[w.jsx(ok,{}),w.jsxs(jT,{children:[w.jsx(hh,{path:"/",element:w.jsxs("main",{children:[w.jsx(sk,{}),w.jsx(fk,{}),w.jsx(dk,{}),w.jsx(pk,{}),w.jsx(mk,{}),w.jsx(wI,{})]})}),w.jsx(hh,{path:"/gallery",element:w.jsx(BD,{})})]}),w.jsx(_I,{})]})})}Cw(document.getElementById("root")).render(w.jsx(I.StrictMode,{children:w.jsx(zD,{})}));
